var hu=Object.defineProperty;var cu=(Re,xe,je)=>xe in Re?hu(Re,xe,{enumerable:!0,configurable:!0,writable:!0,value:je}):Re[xe]=je;var qe=(Re,xe,je)=>(cu(Re,typeof xe!="symbol"?xe+"":xe,je),je),Ln=(Re,xe,je)=>{if(!xe.has(Re))throw TypeError("Cannot "+je)};var B=(Re,xe,je)=>(Ln(Re,xe,"read from private field"),je?je.call(Re):xe.get(Re)),Oe=(Re,xe,je)=>{if(xe.has(Re))throw TypeError("Cannot add the same private member more than once");xe instanceof WeakSet?xe.add(Re):xe.set(Re,je)},Te=(Re,xe,je,Et)=>(Ln(Re,xe,"write to private field"),Et?Et.call(Re,je):xe.set(Re,je),je);var qr=(Re,xe,je,Et)=>({set _(Pe){Te(Re,xe,Pe,je)},get _(){return B(Re,xe,Et)}}),Ie=(Re,xe,je)=>(Ln(Re,xe,"access private method"),je);(function(){const xe=document.createElement("link").relList;if(xe&&xe.supports&&xe.supports("modulepreload"))return;for(const Pe of document.querySelectorAll('link[rel="modulepreload"]'))Et(Pe);new MutationObserver(Pe=>{for(const ue of Pe)if(ue.type==="childList")for(const ft of ue.addedNodes)ft.tagName==="LINK"&&ft.rel==="modulepreload"&&Et(ft)}).observe(document,{childList:!0,subtree:!0});function je(Pe){const ue={};return Pe.integrity&&(ue.integrity=Pe.integrity),Pe.referrerPolicy&&(ue.referrerPolicy=Pe.referrerPolicy),Pe.crossOrigin==="use-credentials"?ue.credentials="include":Pe.crossOrigin==="anonymous"?ue.credentials="omit":ue.credentials="same-origin",ue}function Et(Pe){if(Pe.ep)return;Pe.ep=!0;const ue=je(Pe);fetch(Pe.href,ue)}})();var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fu={};(()=>{var Re=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,je=Object.getOwnPropertyNames,Et=Object.prototype.hasOwnProperty,Pe=(e,o)=>()=>(e&&(o=e(e=0)),o),ue=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),ft=(e,o)=>{for(var t in o)Re(e,t,{get:o[t],enumerable:!0})},Ta=(e,o,t,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let h of je(o))!Et.call(e,h)&&h!==t&&Re(e,h,{get:()=>o[h],enumerable:!(l=xe(o,h))||l.enumerable});return e},Ne=e=>Ta(Re({},"__esModule",{value:!0}),e),ne=Pe(()=>{}),Ge={};ft(Ge,{_debugEnd:()=>Ii,_debugProcess:()=>Ai,_events:()=>Wi,_eventsCount:()=>$i,_exiting:()=>hi,_fatalExceptions:()=>_i,_getActiveHandles:()=>Gn,_getActiveRequests:()=>Kn,_kill:()=>di,_linkedBinding:()=>Hn,_maxListeners:()=>Fi,_preload_modules:()=>Ni,_rawDebug:()=>ai,_startProfilerIdleNotifier:()=>Ti,_stopProfilerIdleNotifier:()=>ki,_tickCallback:()=>Si,abort:()=>Pi,addListener:()=>qi,allowedNodeEnvironmentFlags:()=>wi,arch:()=>Gr,argv:()=>Jr,argv0:()=>Li,assert:()=>Yn,binding:()=>ri,chdir:()=>oi,config:()=>ci,cpuUsage:()=>pr,cwd:()=>ni,debugPort:()=>Ui,default:()=>Ji,dlopen:()=>zn,domain:()=>ui,emit:()=>Gi,emitWarning:()=>ti,env:()=>Qr,execArgv:()=>Xr,execPath:()=>Mi,exit:()=>mi,features:()=>vi,hasUncaughtExceptionCaptureCallback:()=>Qn,hrtime:()=>Sr,kill:()=>bi,listeners:()=>Xn,memoryUsage:()=>gi,moduleLoadList:()=>li,nextTick:()=>qn,off:()=>Hi,on:()=>St,once:()=>Vi,openStdin:()=>yi,pid:()=>Bi,platform:()=>Yr,ppid:()=>xi,prependListener:()=>Yi,prependOnceListener:()=>Qi,reallyExit:()=>fi,release:()=>si,removeAllListeners:()=>Ki,removeListener:()=>zi,resourceUsage:()=>pi,setSourceMapsEnabled:()=>ji,setUncaughtExceptionCaptureCallback:()=>Ei,stderr:()=>Oi,stdin:()=>Ri,stdout:()=>Ci,title:()=>Kr,umask:()=>ii,uptime:()=>Jn,version:()=>Zr,versions:()=>ei});function zr(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ka(){!qt||!Vt||(qt=!1,Vt.length?yt=Vt.concat(yt):dr=-1,yt.length&&$n())}function $n(){if(!qt){var e=setTimeout(ka,0);qt=!0;for(var o=yt.length;o;){for(Vt=yt,yt=[];++dr<o;)Vt&&Vt[dr].run();dr=-1,o=yt.length}Vt=null,qt=!1,clearTimeout(e)}}function qn(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];yt.push(new Vn(e,o)),yt.length===1&&!qt&&setTimeout($n,0)}function Vn(e,o){this.fun=e,this.array=o}function et(){}function Hn(e){zr("_linkedBinding")}function zn(e){zr("dlopen")}function Kn(){return[]}function Gn(){return[]}function Yn(e,o){if(!e)throw new Error(o||"assertion error")}function Qn(){return!1}function Jn(){return At.now()/1e3}function Sr(e){var o=Math.floor((Date.now()-At.now())*.001),t=At.now()*.001,l=Math.floor(t)+o,h=Math.floor(t%1*1e9);return e&&(l=l-e[0],h=h-e[1],h<0&&(l--,h+=Ar)),[l,h]}function St(){return Ji}function Xn(e){return[]}var yt,qt,Vt,dr,Kr,Gr,Yr,Qr,Jr,Xr,Zr,ei,ti,ri,ii,ni,oi,si,ai,li,ui,hi,ci,fi,di,pr,pi,gi,bi,mi,yi,wi,vi,_i,Ei,Si,Ai,Ii,Ti,ki,Ci,Oi,Ri,Pi,Bi,xi,Mi,Ui,Li,Ni,ji,At,Di,Ar,Fi,Wi,$i,qi,Vi,Hi,zi,Ki,Gi,Yi,Qi,Ji,Ca=Pe(()=>{ne(),se(),oe(),yt=[],qt=!1,dr=-1,Vn.prototype.run=function(){this.fun.apply(null,this.array)},Kr="browser",Gr="x64",Yr="browser",Qr={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Jr=["/usr/bin/node"],Xr=[],Zr="v16.8.0",ei={},ti=function(e,o){console.warn((o?o+": ":"")+e)},ri=function(e){zr("binding")},ii=function(e){return 0},ni=function(){return"/"},oi=function(e){},si={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ai=et,li=[],ui={},hi=!1,ci={},fi=et,di=et,pr=function(){return{}},pi=pr,gi=pr,bi=et,mi=et,yi=et,wi={},vi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},_i=et,Ei=et,Si=et,Ai=et,Ii=et,Ti=et,ki=et,Ci=void 0,Oi=void 0,Ri=void 0,Pi=et,Bi=2,xi=1,Mi="/bin/usr/node",Ui=9229,Li="node",Ni=[],ji=et,At={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},At.now===void 0&&(Di=Date.now(),At.timing&&At.timing.navigationStart&&(Di=At.timing.navigationStart),At.now=()=>Date.now()-Di),Ar=1e9,Sr.bigint=function(e){var o=Sr(e);return typeof BigInt>"u"?o[0]*Ar+o[1]:BigInt(o[0]*Ar)+BigInt(o[1])},Fi=10,Wi={},$i=0,qi=St,Vi=St,Hi=St,zi=St,Ki=St,Gi=et,Yi=St,Qi=St,Ji={version:Zr,versions:ei,arch:Gr,platform:Yr,release:si,_rawDebug:ai,moduleLoadList:li,binding:ri,_linkedBinding:Hn,_events:Wi,_eventsCount:$i,_maxListeners:Fi,on:St,addListener:qi,once:Vi,off:Hi,removeListener:zi,removeAllListeners:Ki,emit:Gi,prependListener:Yi,prependOnceListener:Qi,listeners:Xn,domain:ui,_exiting:hi,config:ci,dlopen:zn,uptime:Jn,_getActiveRequests:Kn,_getActiveHandles:Gn,reallyExit:fi,_kill:di,cpuUsage:pr,resourceUsage:pi,memoryUsage:gi,kill:bi,exit:mi,openStdin:yi,allowedNodeEnvironmentFlags:wi,assert:Yn,features:vi,_fatalExceptions:_i,setUncaughtExceptionCaptureCallback:Ei,hasUncaughtExceptionCaptureCallback:Qn,emitWarning:ti,nextTick:qn,_tickCallback:Si,_debugProcess:Ai,_debugEnd:Ii,_startProfilerIdleNotifier:Ti,_stopProfilerIdleNotifier:ki,stdout:Ci,stdin:Ri,stderr:Oi,abort:Pi,umask:ii,chdir:oi,cwd:ni,env:Qr,title:Kr,argv:Jr,execArgv:Xr,pid:Bi,ppid:xi,execPath:Mi,debugPort:Ui,hrtime:Sr,argv0:Li,_preload_modules:Ni,setSourceMapsEnabled:ji}}),oe=Pe(()=>{Ca()}),tt={};ft(tt,{Buffer:()=>ar,INSPECT_MAX_BYTES:()=>Zn,default:()=>It,kMaxLength:()=>eo});function Oa(){if(Xi)return sr;Xi=!0,sr.byteLength=n,sr.toByteArray=a,sr.fromByteArray=g;for(var e=[],o=[],t=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,s=l.length;h<s;++h)e[h]=l[h],o[l.charCodeAt(h)]=h;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63;function r(b){var m=b.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=m);var T=y===m?0:4-y%4;return[y,T]}function n(b){var m=r(b),y=m[0],T=m[1];return(y+T)*3/4-T}function i(b,m,y){return(m+y)*3/4-y}function a(b){var m,y=r(b),T=y[0],L=y[1],O=new t(i(b,T,L)),k=0,U=L>0?T-4:T,v;for(v=0;v<U;v+=4)m=o[b.charCodeAt(v)]<<18|o[b.charCodeAt(v+1)]<<12|o[b.charCodeAt(v+2)]<<6|o[b.charCodeAt(v+3)],O[k++]=m>>16&255,O[k++]=m>>8&255,O[k++]=m&255;return L===2&&(m=o[b.charCodeAt(v)]<<2|o[b.charCodeAt(v+1)]>>4,O[k++]=m&255),L===1&&(m=o[b.charCodeAt(v)]<<10|o[b.charCodeAt(v+1)]<<4|o[b.charCodeAt(v+2)]>>2,O[k++]=m>>8&255,O[k++]=m&255),O}function c(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}function p(b,m,y){for(var T,L=[],O=m;O<y;O+=3)T=(b[O]<<16&16711680)+(b[O+1]<<8&65280)+(b[O+2]&255),L.push(c(T));return L.join("")}function g(b){for(var m,y=b.length,T=y%3,L=[],O=16383,k=0,U=y-T;k<U;k+=O)L.push(p(b,k,k+O>U?U:k+O));return T===1?(m=b[y-1],L.push(e[m>>2]+e[m<<4&63]+"==")):T===2&&(m=(b[y-2]<<8)+b[y-1],L.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),L.join("")}return sr}function Ra(){return Zi?gr:(Zi=!0,gr.read=function(e,o,t,l,h){var s,r,n=h*8-l-1,i=(1<<n)-1,a=i>>1,c=-7,p=t?h-1:0,g=t?-1:1,b=e[o+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=n;c>0;s=s*256+e[o+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=r*256+e[o+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return r?NaN:(b?-1:1)*(1/0);r=r+Math.pow(2,l),s=s-a}return(b?-1:1)*r*Math.pow(2,s-l)},gr.write=function(e,o,t,l,h,s){var r,n,i,a=s*8-h-1,c=(1<<a)-1,p=c>>1,g=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(n=isNaN(o)?1:0,r=c):(r=Math.floor(Math.log(o)/Math.LN2),o*(i=Math.pow(2,-r))<1&&(r--,i*=2),r+p>=1?o+=g/i:o+=g*Math.pow(2,1-p),o*i>=2&&(r++,i/=2),r+p>=c?(n=0,r=c):r+p>=1?(n=(o*i-1)*Math.pow(2,h),r=r+p):(n=o*Math.pow(2,p-1)*Math.pow(2,h),r=0));h>=8;e[t+b]=n&255,b+=m,n/=256,h-=8);for(r=r<<h|n,a+=h;a>0;e[t+b]=r&255,b+=m,r/=256,a-=8);e[t+b-m]|=y*128},gr)}function Pa(){if(en)return Nt;en=!0;let e=Oa(),o=Ra(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Nt.Buffer=r,Nt.SlowBuffer=L,Nt.INSPECT_MAX_BYTES=50;let l=2147483647;Nt.kMaxLength=l,r.TYPED_ARRAY_SUPPORT=h(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{let f=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(f,u),f.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function s(f){if(f>l)throw new RangeError('The value "'+f+'" is invalid for option "size"');let u=new Uint8Array(f);return Object.setPrototypeOf(u,r.prototype),u}function r(f,u,d){if(typeof f=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(f)}return n(f,u,d)}r.poolSize=8192;function n(f,u,d){if(typeof f=="string")return p(f,u);if(ArrayBuffer.isView(f))return b(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(H(f,ArrayBuffer)||f&&H(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(f,SharedArrayBuffer)||f&&H(f.buffer,SharedArrayBuffer)))return m(f,u,d);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=f.valueOf&&f.valueOf();if(_!=null&&_!==f)return r.from(_,u,d);let A=y(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return r.from(f[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}r.from=function(f,u,d){return n(f,u,d)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function i(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function a(f,u,d){return i(f),f<=0?s(f):u!==void 0?typeof d=="string"?s(f).fill(u,d):s(f).fill(u):s(f)}r.alloc=function(f,u,d){return a(f,u,d)};function c(f){return i(f),s(f<0?0:T(f)|0)}r.allocUnsafe=function(f){return c(f)},r.allocUnsafeSlow=function(f){return c(f)};function p(f,u){if((typeof u!="string"||u==="")&&(u="utf8"),!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let d=O(f,u)|0,_=s(d),A=_.write(f,u);return A!==d&&(_=_.slice(0,A)),_}function g(f){let u=f.length<0?0:T(f.length)|0,d=s(u);for(let _=0;_<u;_+=1)d[_]=f[_]&255;return d}function b(f){if(H(f,Uint8Array)){let u=new Uint8Array(f);return m(u.buffer,u.byteOffset,u.byteLength)}return g(f)}function m(f,u,d){if(u<0||f.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');let _;return u===void 0&&d===void 0?_=new Uint8Array(f):d===void 0?_=new Uint8Array(f,u):_=new Uint8Array(f,u,d),Object.setPrototypeOf(_,r.prototype),_}function y(f){if(r.isBuffer(f)){let u=T(f.length)|0,d=s(u);return d.length===0||f.copy(d,0,0,u),d}if(f.length!==void 0)return typeof f.length!="number"||we(f.length)?s(0):g(f);if(f.type==="Buffer"&&Array.isArray(f.data))return g(f.data)}function T(f){if(f>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return f|0}function L(f){return+f!=f&&(f=0),r.alloc(+f)}r.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==r.prototype},r.compare=function(f,u){if(H(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),H(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(f)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===u)return 0;let d=f.length,_=u.length;for(let A=0,w=Math.min(d,_);A<w;++A)if(f[A]!==u[A]){d=f[A],_=u[A];break}return d<_?-1:_<d?1:0},r.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(f,u){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return r.alloc(0);let d;if(u===void 0)for(u=0,d=0;d<f.length;++d)u+=f[d].length;let _=r.allocUnsafe(u),A=0;for(d=0;d<f.length;++d){let w=f[d];if(H(w,Uint8Array))A+w.length>_.length?(r.isBuffer(w)||(w=r.from(w)),w.copy(_,A)):Uint8Array.prototype.set.call(_,w,A);else if(r.isBuffer(w))w.copy(_,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=w.length}return _};function O(f,u){if(r.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||H(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let d=f.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&d===0)return 0;let A=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return D(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Y(f).length;default:if(A)return _?-1:D(f).length;u=(""+u).toLowerCase(),A=!0}}r.byteLength=O;function k(f,u,d){let _=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(f||(f="utf8");;)switch(f){case"hex":return q(this,u,d);case"utf8":case"utf-8":return $(this,u,d);case"ascii":return be(this,u,d);case"latin1":case"binary":return Z(this,u,d);case"base64":return I(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,u,d);default:if(_)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),_=!0}}r.prototype._isBuffer=!0;function U(f,u,d){let _=f[u];f[u]=f[d],f[d]=_}r.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<f;u+=2)U(this,u,u+1);return this},r.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<f;u+=4)U(this,u,u+3),U(this,u+1,u+2);return this},r.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<f;u+=8)U(this,u,u+7),U(this,u+1,u+6),U(this,u+2,u+5),U(this,u+3,u+4);return this},r.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?$(this,0,f):k.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(f){if(!r.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:r.compare(this,f)===0},r.prototype.inspect=function(){let f="",u=Nt.INSPECT_MAX_BYTES;return f=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(f+=" ... "),"<Buffer "+f+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(f,u,d,_,A){if(H(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),!r.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(u===void 0&&(u=0),d===void 0&&(d=f?f.length:0),_===void 0&&(_=0),A===void 0&&(A=this.length),u<0||d>f.length||_<0||A>this.length)throw new RangeError("out of range index");if(_>=A&&u>=d)return 0;if(_>=A)return-1;if(u>=d)return 1;if(u>>>=0,d>>>=0,_>>>=0,A>>>=0,this===f)return 0;let w=A-_,R=d-u,V=Math.min(w,R),de=this.slice(_,A),re=f.slice(u,d);for(let ye=0;ye<V;++ye)if(de[ye]!==re[ye]){w=de[ye],R=re[ye];break}return w<R?-1:R<w?1:0};function v(f,u,d,_,A){if(f.length===0)return-1;if(typeof d=="string"?(_=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,we(d)&&(d=A?0:f.length-1),d<0&&(d=f.length+d),d>=f.length){if(A)return-1;d=f.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof u=="string"&&(u=r.from(u,_)),r.isBuffer(u))return u.length===0?-1:P(f,u,d,_,A);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,u,d):Uint8Array.prototype.lastIndexOf.call(f,u,d):P(f,[u],d,_,A);throw new TypeError("val must be string, number or Buffer")}function P(f,u,d,_,A){let w=1,R=f.length,V=u.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(f.length<2||u.length<2)return-1;w=2,R/=2,V/=2,d/=2}function de(ye,Se){return w===1?ye[Se]:ye.readUInt16BE(Se*w)}let re;if(A){let ye=-1;for(re=d;re<R;re++)if(de(f,re)===de(u,ye===-1?0:re-ye)){if(ye===-1&&(ye=re),re-ye+1===V)return ye*w}else ye!==-1&&(re-=re-ye),ye=-1}else for(d+V>R&&(d=R-V),re=d;re>=0;re--){let ye=!0;for(let Se=0;Se<V;Se++)if(de(f,re+Se)!==de(u,Se)){ye=!1;break}if(ye)return re}return-1}r.prototype.includes=function(f,u,d){return this.indexOf(f,u,d)!==-1},r.prototype.indexOf=function(f,u,d){return v(this,f,u,d,!0)},r.prototype.lastIndexOf=function(f,u,d){return v(this,f,u,d,!1)};function M(f,u,d,_){d=Number(d)||0;let A=f.length-d;_?(_=Number(_),_>A&&(_=A)):_=A;let w=u.length;_>w/2&&(_=w/2);let R;for(R=0;R<_;++R){let V=parseInt(u.substr(R*2,2),16);if(we(V))return R;f[d+R]=V}return R}function F(f,u,d,_){return N(D(u,f.length-d),f,d,_)}function W(f,u,d,_){return N(j(u),f,d,_)}function Q(f,u,d,_){return N(Y(u),f,d,_)}function ae(f,u,d,_){return N(te(u,f.length-d),f,d,_)}r.prototype.write=function(f,u,d,_){if(u===void 0)_="utf8",d=this.length,u=0;else if(d===void 0&&typeof u=="string")_=u,d=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(d)?(d=d>>>0,_===void 0&&(_="utf8")):(_=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let A=this.length-u;if((d===void 0||d>A)&&(d=A),f.length>0&&(d<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let w=!1;for(;;)switch(_){case"hex":return M(this,f,u,d);case"utf8":case"utf-8":return F(this,f,u,d);case"ascii":case"latin1":case"binary":return W(this,f,u,d);case"base64":return Q(this,f,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,f,u,d);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),w=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(f,u,d){return u===0&&d===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(u,d))}function $(f,u,d){d=Math.min(f.length,d);let _=[],A=u;for(;A<d;){let w=f[A],R=null,V=w>239?4:w>223?3:w>191?2:1;if(A+V<=d){let de,re,ye,Se;switch(V){case 1:w<128&&(R=w);break;case 2:de=f[A+1],(de&192)===128&&(Se=(w&31)<<6|de&63,Se>127&&(R=Se));break;case 3:de=f[A+1],re=f[A+2],(de&192)===128&&(re&192)===128&&(Se=(w&15)<<12|(de&63)<<6|re&63,Se>2047&&(Se<55296||Se>57343)&&(R=Se));break;case 4:de=f[A+1],re=f[A+2],ye=f[A+3],(de&192)===128&&(re&192)===128&&(ye&192)===128&&(Se=(w&15)<<18|(de&63)<<12|(re&63)<<6|ye&63,Se>65535&&Se<1114112&&(R=Se))}}R===null?(R=65533,V=1):R>65535&&(R-=65536,_.push(R>>>10&1023|55296),R=56320|R&1023),_.push(R),A+=V}return X(_)}let G=4096;function X(f){let u=f.length;if(u<=G)return String.fromCharCode.apply(String,f);let d="",_=0;for(;_<u;)d+=String.fromCharCode.apply(String,f.slice(_,_+=G));return d}function be(f,u,d){let _="";d=Math.min(f.length,d);for(let A=u;A<d;++A)_+=String.fromCharCode(f[A]&127);return _}function Z(f,u,d){let _="";d=Math.min(f.length,d);for(let A=u;A<d;++A)_+=String.fromCharCode(f[A]);return _}function q(f,u,d){let _=f.length;(!u||u<0)&&(u=0),(!d||d<0||d>_)&&(d=_);let A="";for(let w=u;w<d;++w)A+=_e[f[w]];return A}function me(f,u,d){let _=f.slice(u,d),A="";for(let w=0;w<_.length-1;w+=2)A+=String.fromCharCode(_[w]+_[w+1]*256);return A}r.prototype.slice=function(f,u){let d=this.length;f=~~f,u=u===void 0?d:~~u,f<0?(f+=d,f<0&&(f=0)):f>d&&(f=d),u<0?(u+=d,u<0&&(u=0)):u>d&&(u=d),u<f&&(u=f);let _=this.subarray(f,u);return Object.setPrototypeOf(_,r.prototype),_};function ie(f,u,d){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+u>d)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f],A=1,w=0;for(;++w<u&&(A*=256);)_+=this[f+w]*A;return _},r.prototype.readUintBE=r.prototype.readUIntBE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f+--u],A=1;for(;u>0&&(A*=256);)_+=this[f+--u]*A;return _},r.prototype.readUint8=r.prototype.readUInt8=function(f,u){return f=f>>>0,u||ie(f,1,this.length),this[f]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(f,u){return f=f>>>0,u||ie(f,2,this.length),this[f]|this[f+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(f,u){return f=f>>>0,u||ie(f,2,this.length),this[f]<<8|this[f+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},r.prototype.readBigUInt64LE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&ce(f,this.length-8);let _=u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,A=this[++f]+this[++f]*2**8+this[++f]*2**16+d*2**24;return BigInt(_)+(BigInt(A)<<BigInt(32))}),r.prototype.readBigUInt64BE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&ce(f,this.length-8);let _=u*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],A=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+d;return(BigInt(_)<<BigInt(32))+BigInt(A)}),r.prototype.readIntLE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f],A=1,w=0;for(;++w<u&&(A*=256);)_+=this[f+w]*A;return A*=128,_>=A&&(_-=Math.pow(2,8*u)),_},r.prototype.readIntBE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=u,A=1,w=this[f+--_];for(;_>0&&(A*=256);)w+=this[f+--_]*A;return A*=128,w>=A&&(w-=Math.pow(2,8*u)),w},r.prototype.readInt8=function(f,u){return f=f>>>0,u||ie(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},r.prototype.readInt16LE=function(f,u){f=f>>>0,u||ie(f,2,this.length);let d=this[f]|this[f+1]<<8;return d&32768?d|4294901760:d},r.prototype.readInt16BE=function(f,u){f=f>>>0,u||ie(f,2,this.length);let d=this[f+1]|this[f]<<8;return d&32768?d|4294901760:d},r.prototype.readInt32LE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},r.prototype.readInt32BE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},r.prototype.readBigInt64LE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&ce(f,this.length-8);let _=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(d<<24);return(BigInt(_)<<BigInt(32))+BigInt(u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),r.prototype.readBigInt64BE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&ce(f,this.length-8);let _=(u<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(_)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+d)}),r.prototype.readFloatLE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),o.read(this,f,!0,23,4)},r.prototype.readFloatBE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),o.read(this,f,!1,23,4)},r.prototype.readDoubleLE=function(f,u){return f=f>>>0,u||ie(f,8,this.length),o.read(this,f,!0,52,8)},r.prototype.readDoubleBE=function(f,u){return f=f>>>0,u||ie(f,8,this.length),o.read(this,f,!1,52,8)};function ve(f,u,d,_,A,w){if(!r.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>A||u<w)throw new RangeError('"value" argument is out of bounds');if(d+_>f.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(f,u,d,_){if(f=+f,u=u>>>0,d=d>>>0,!_){let R=Math.pow(2,8*d)-1;ve(this,f,u,d,R,0)}let A=1,w=0;for(this[u]=f&255;++w<d&&(A*=256);)this[u+w]=f/A&255;return u+d},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(f,u,d,_){if(f=+f,u=u>>>0,d=d>>>0,!_){let R=Math.pow(2,8*d)-1;ve(this,f,u,d,R,0)}let A=d-1,w=1;for(this[u+A]=f&255;--A>=0&&(w*=256);)this[u+A]=f/w&255;return u+d},r.prototype.writeUint8=r.prototype.writeUInt8=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,1,255,0),this[u]=f&255,u+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,65535,0),this[u]=f&255,this[u+1]=f>>>8,u+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,65535,0),this[u]=f>>>8,this[u+1]=f&255,u+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,4294967295,0),this[u+3]=f>>>24,this[u+2]=f>>>16,this[u+1]=f>>>8,this[u]=f&255,u+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,4294967295,0),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4};function S(f,u,d,_,A){ee(u,_,A,f,d,7);let w=Number(u&BigInt(4294967295));f[d++]=w,w=w>>8,f[d++]=w,w=w>>8,f[d++]=w,w=w>>8,f[d++]=w;let R=Number(u>>BigInt(32)&BigInt(4294967295));return f[d++]=R,R=R>>8,f[d++]=R,R=R>>8,f[d++]=R,R=R>>8,f[d++]=R,d}function K(f,u,d,_,A){ee(u,_,A,f,d,7);let w=Number(u&BigInt(4294967295));f[d+7]=w,w=w>>8,f[d+6]=w,w=w>>8,f[d+5]=w,w=w>>8,f[d+4]=w;let R=Number(u>>BigInt(32)&BigInt(4294967295));return f[d+3]=R,R=R>>8,f[d+2]=R,R=R>>8,f[d+1]=R,R=R>>8,f[d]=R,d+8}r.prototype.writeBigUInt64LE=Ae(function(f,u=0){return S(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Ae(function(f,u=0){return K(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(f,u,d,_){if(f=+f,u=u>>>0,!_){let V=Math.pow(2,8*d-1);ve(this,f,u,d,V-1,-V)}let A=0,w=1,R=0;for(this[u]=f&255;++A<d&&(w*=256);)f<0&&R===0&&this[u+A-1]!==0&&(R=1),this[u+A]=(f/w>>0)-R&255;return u+d},r.prototype.writeIntBE=function(f,u,d,_){if(f=+f,u=u>>>0,!_){let V=Math.pow(2,8*d-1);ve(this,f,u,d,V-1,-V)}let A=d-1,w=1,R=0;for(this[u+A]=f&255;--A>=0&&(w*=256);)f<0&&R===0&&this[u+A+1]!==0&&(R=1),this[u+A]=(f/w>>0)-R&255;return u+d},r.prototype.writeInt8=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,1,127,-128),f<0&&(f=255+f+1),this[u]=f&255,u+1},r.prototype.writeInt16LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,32767,-32768),this[u]=f&255,this[u+1]=f>>>8,u+2},r.prototype.writeInt16BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,32767,-32768),this[u]=f>>>8,this[u+1]=f&255,u+2},r.prototype.writeInt32LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,2147483647,-2147483648),this[u]=f&255,this[u+1]=f>>>8,this[u+2]=f>>>16,this[u+3]=f>>>24,u+4},r.prototype.writeInt32BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4},r.prototype.writeBigInt64LE=Ae(function(f,u=0){return S(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Ae(function(f,u=0){return K(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(f,u,d,_,A,w){if(d+_>f.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Ee(f,u,d,_,A){return u=+u,d=d>>>0,A||fe(f,u,d,4),o.write(f,u,d,_,23,4),d+4}r.prototype.writeFloatLE=function(f,u,d){return Ee(this,f,u,!0,d)},r.prototype.writeFloatBE=function(f,u,d){return Ee(this,f,u,!1,d)};function he(f,u,d,_,A){return u=+u,d=d>>>0,A||fe(f,u,d,8),o.write(f,u,d,_,52,8),d+8}r.prototype.writeDoubleLE=function(f,u,d){return he(this,f,u,!0,d)},r.prototype.writeDoubleBE=function(f,u,d){return he(this,f,u,!1,d)},r.prototype.copy=function(f,u,d,_){if(!r.isBuffer(f))throw new TypeError("argument should be a Buffer");if(d||(d=0),!_&&_!==0&&(_=this.length),u>=f.length&&(u=f.length),u||(u=0),_>0&&_<d&&(_=d),_===d||f.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),f.length-u<_-d&&(_=f.length-u+d);let A=_-d;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,d,_):Uint8Array.prototype.set.call(f,this.subarray(d,_),u),A},r.prototype.fill=function(f,u,d,_){if(typeof f=="string"){if(typeof u=="string"?(_=u,u=0,d=this.length):typeof d=="string"&&(_=d,d=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!r.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(f.length===1){let w=f.charCodeAt(0);(_==="utf8"&&w<128||_==="latin1")&&(f=w)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(u<0||this.length<u||this.length<d)throw new RangeError("Out of range index");if(d<=u)return this;u=u>>>0,d=d===void 0?this.length:d>>>0,f||(f=0);let A;if(typeof f=="number")for(A=u;A<d;++A)this[A]=f;else{let w=r.isBuffer(f)?f:r.from(f,_),R=w.length;if(R===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(A=0;A<d-u;++A)this[A+u]=w[A%R]}return this};let x={};function E(f,u,d){x[f]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(f,u){return`The "${f}" argument must be of type number. Received type ${typeof u}`},TypeError),E("ERR_OUT_OF_RANGE",function(f,u,d){let _=`The value of "${f}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=z(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=z(A)),A+="n"),_+=` It must be ${u}. Received ${A}`,_},RangeError);function z(f){let u="",d=f.length,_=f[0]==="-"?1:0;for(;d>=_+4;d-=3)u=`_${f.slice(d-3,d)}${u}`;return`${f.slice(0,d)}${u}`}function le(f,u,d){J(u,"offset"),(f[u]===void 0||f[u+d]===void 0)&&ce(u,f.length-(d+1))}function ee(f,u,d,_,A,w){if(f>d||f<u){let R=typeof u=="bigint"?"n":"",V;throw w>3?u===0||u===BigInt(0)?V=`>= 0${R} and < 2${R} ** ${(w+1)*8}${R}`:V=`>= -(2${R} ** ${(w+1)*8-1}${R}) and < 2 ** ${(w+1)*8-1}${R}`:V=`>= ${u}${R} and <= ${d}${R}`,new x.ERR_OUT_OF_RANGE("value",V,f)}le(_,A,w)}function J(f,u){if(typeof f!="number")throw new x.ERR_INVALID_ARG_TYPE(u,"number",f)}function ce(f,u,d){throw Math.floor(f)!==f?(J(f,d),new x.ERR_OUT_OF_RANGE(d||"offset","an integer",f)):u<0?new x.ERR_BUFFER_OUT_OF_BOUNDS:new x.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${u}`,f)}let ge=/[^+/0-9A-Za-z-_]/g;function C(f){if(f=f.split("=")[0],f=f.trim().replace(ge,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function D(f,u){u=u||1/0;let d,_=f.length,A=null,w=[];for(let R=0;R<_;++R){if(d=f.charCodeAt(R),d>55295&&d<57344){if(!A){if(d>56319){(u-=3)>-1&&w.push(239,191,189);continue}else if(R+1===_){(u-=3)>-1&&w.push(239,191,189);continue}A=d;continue}if(d<56320){(u-=3)>-1&&w.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(u-=3)>-1&&w.push(239,191,189);if(A=null,d<128){if((u-=1)<0)break;w.push(d)}else if(d<2048){if((u-=2)<0)break;w.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;w.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;w.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return w}function j(f){let u=[];for(let d=0;d<f.length;++d)u.push(f.charCodeAt(d)&255);return u}function te(f,u){let d,_,A,w=[];for(let R=0;R<f.length&&!((u-=2)<0);++R)d=f.charCodeAt(R),_=d>>8,A=d%256,w.push(A),w.push(_);return w}function Y(f){return e.toByteArray(C(f))}function N(f,u,d,_){let A;for(A=0;A<_&&!(A+d>=u.length||A>=f.length);++A)u[A+d]=f[A];return A}function H(f,u){return f instanceof u||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===u.name}function we(f){return f!==f}let _e=function(){let f="0123456789abcdef",u=new Array(256);for(let d=0;d<16;++d){let _=d*16;for(let A=0;A<16;++A)u[_+A]=f[d]+f[A]}return u}();function Ae(f){return typeof BigInt>"u"?Be:f}function Be(){throw new Error("BigInt not supported")}return Nt}var sr,Xi,gr,Zi,Nt,en,It,ar,Zn,eo,rt=Pe(()=>{ne(),se(),oe(),sr={},Xi=!1,gr={},Zi=!1,Nt={},en=!1,It=Pa(),It.Buffer,It.SlowBuffer,It.INSPECT_MAX_BYTES,It.kMaxLength,ar=It.Buffer,Zn=It.INSPECT_MAX_BYTES,eo=It.kMaxLength}),se=Pe(()=>{rt()}),Ba=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};e.default=o}),Je=ue((e,o)=>{ne(),se(),oe(),o.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,l){return t.includes(l)},ArrayPrototypeIndexOf(t,l){return t.indexOf(l)},ArrayPrototypeJoin(t,l){return t.join(l)},ArrayPrototypeMap(t,l){return t.map(l)},ArrayPrototypePop(t,l){return t.pop(l)},ArrayPrototypePush(t,l){return t.push(l)},ArrayPrototypeSlice(t,l,h){return t.slice(l,h)},Error,FunctionPrototypeCall(t,l,...h){return t.call(l,...h)},FunctionPrototypeSymbolHasInstance(t,l){return Function.prototype[Symbol.hasInstance].call(t,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,l){return Object.defineProperties(t,l)},ObjectDefineProperty(t,l,h){return Object.defineProperty(t,l,h)},ObjectGetOwnPropertyDescriptor(t,l){return Object.getOwnPropertyDescriptor(t,l)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,l){return Object.setPrototypeOf(t,l)},Promise,PromisePrototypeCatch(t,l){return t.catch(l)},PromisePrototypeThen(t,l,h){return t.then(l,h)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,l){return t.test(l)},SafeSet:Set,String,StringPrototypeSlice(t,l,h){return t.slice(l,h)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,l,h){return t.set(l,h)},Uint8Array}}),Tt=ue((e,o)=>{ne(),se(),oe();var t=(rt(),Ne(tt)),l=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||t.Blob,s=typeof h<"u"?function(n){return n instanceof h}:function(n){return!1},r=class extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let i="";for(let a=0;a<n.length;a++)i+=`    ${n[a].stack}
`;super(i),this.name="AggregateError",this.errors=n}};o.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(n){let i=!1;return function(...a){i||(i=!0,n.apply(this,a))}},createDeferredPromise:function(){let n,i;return{promise:new Promise((a,c)=>{n=a,i=c}),resolve:n,reject:i}},promisify(n){return new Promise((i,a)=>{n((c,...p)=>c?a(c):i(...p))})},debuglog(){return function(){}},format(n,...i){return n.replace(/%([sdifj])/g,function(...[a,c]){let p=i.shift();return c==="f"?p.toFixed(6):c==="j"?JSON.stringify(p):c==="s"&&typeof p=="object"?`${p.constructor!==Object?p.constructor.name:""} {}`.trim():p.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}},types:{isAsyncFunction(n){return n instanceof l},isArrayBufferView(n){return ArrayBuffer.isView(n)}},isBlob:s},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),tn=ue((e,o)=>{ne(),se(),oe();var{AbortController:t,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=t,o.exports.AbortSignal=l,o.exports.default=t}),nt=ue((e,o)=>{ne(),se(),oe();var{format:t,inspect:l,AggregateError:h}=Tt(),s=globalThis.AggregateError||h,r=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",c={};function p(O,k){if(!O)throw new c.ERR_INTERNAL_ASSERTION(k)}function g(O){let k="",U=O.length,v=O[0]==="-"?1:0;for(;U>=v+4;U-=3)k=`_${O.slice(U-3,U)}${k}`;return`${O.slice(0,U)}${k}`}function b(O,k,U){if(typeof k=="function")return p(k.length<=U.length,`Code: ${O}; The provided arguments length (${U.length}) does not match the required ones (${k.length}).`),k(...U);let v=(k.match(/%[dfijoOs]/g)||[]).length;return p(v===U.length,`Code: ${O}; The provided arguments length (${U.length}) does not match the required ones (${v}).`),U.length===0?k:t(k,...U)}function m(O,k,U){U||(U=Error);class v extends U{constructor(...M){super(b(O,k,M))}toString(){return`${this.name} [${O}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:U.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${O}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=O,v.prototype[r]=!0,c[O]=v}function y(O){let k=a+O.name;return Object.defineProperty(O,"name",{value:k}),O}function T(O,k){if(O&&k&&O!==k){if(Array.isArray(k.errors))return k.errors.push(O),k;let U=new s([k,O],k.message);return U.code=k.code,U}return O||k}var L=class extends Error{constructor(O="The operation was aborted",k=void 0){if(k!==void 0&&typeof k!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",k);super(O,k),this.code="ABORT_ERR",this.name="AbortError"}};m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(O,k,U)=>{p(typeof O=="string","'name' must be a string"),Array.isArray(k)||(k=[k]);let v="The ";O.endsWith(" argument")?v+=`${O} `:v+=`"${O}" ${O.includes(".")?"property":"argument"} `,v+="must be ";let P=[],M=[],F=[];for(let Q of k)p(typeof Q=="string","All expected entries have to be of type string"),n.includes(Q)?P.push(Q.toLowerCase()):i.test(Q)?M.push(Q):(p(Q!=="object",'The value "object" should be written as "Object"'),F.push(Q));if(M.length>0){let Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),M.push("Object"))}if(P.length>0){switch(P.length){case 1:v+=`of type ${P[0]}`;break;case 2:v+=`one of type ${P[0]} or ${P[1]}`;break;default:{let Q=P.pop();v+=`one of type ${P.join(", ")}, or ${Q}`}}(M.length>0||F.length>0)&&(v+=" or ")}if(M.length>0){switch(M.length){case 1:v+=`an instance of ${M[0]}`;break;case 2:v+=`an instance of ${M[0]} or ${M[1]}`;break;default:{let Q=M.pop();v+=`an instance of ${M.join(", ")}, or ${Q}`}}F.length>0&&(v+=" or ")}switch(F.length){case 0:break;case 1:F[0].toLowerCase()!==F[0]&&(v+="an "),v+=`${F[0]}`;break;case 2:v+=`one of ${F[0]} or ${F[1]}`;break;default:{let Q=F.pop();v+=`one of ${F.join(", ")}, or ${Q}`}}if(U==null)v+=`. Received ${U}`;else if(typeof U=="function"&&U.name)v+=`. Received function ${U.name}`;else if(typeof U=="object"){var W;if((W=U.constructor)!==null&&W!==void 0&&W.name)v+=`. Received an instance of ${U.constructor.name}`;else{let Q=l(U,{depth:-1});v+=`. Received ${Q}`}}else{let Q=l(U,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),v+=`. Received type ${typeof U} (${Q})`}return v},TypeError),m("ERR_INVALID_ARG_VALUE",(O,k,U="is invalid")=>{let v=l(k);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${O.includes(".")?"property":"argument"} '${O}' ${U}. Received ${v}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(O,k,U)=>{var v;let P=U!=null&&(v=U.constructor)!==null&&v!==void 0&&v.name?`instance of ${U.constructor.name}`:`type ${typeof U}`;return`Expected ${O} to be returned from the "${k}" function but got ${P}.`},TypeError),m("ERR_MISSING_ARGS",(...O)=>{p(O.length>0,"At least one arg needs to be specified");let k,U=O.length;switch(O=(Array.isArray(O)?O:[O]).map(v=>`"${v}"`).join(" or "),U){case 1:k+=`The ${O[0]} argument`;break;case 2:k+=`The ${O[0]} and ${O[1]} arguments`;break;default:{let v=O.pop();k+=`The ${O.join(", ")}, and ${v} arguments`}break}return`${k} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(O,k,U)=>{p(k,'Missing "range" argument');let v;return Number.isInteger(U)&&Math.abs(U)>2**32?v=g(String(U)):typeof U=="bigint"?(v=String(U),(U>2n**32n||U<-(2n**32n))&&(v=g(v)),v+="n"):v=l(U),`The value of "${O}" is out of range. It must be ${k}. Received ${v}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:L,aggregateTwoErrors:y(T),hideStackFrames:y,codes:c}}),Ir=ue((e,o)=>{ne(),se(),oe();var{ArrayIsArray:t,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:h,ArrayPrototypeMap:s,NumberIsInteger:r,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:a,NumberParseInt:c,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:g,String:b,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=Je(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:L,ERR_INVALID_ARG_TYPE:O,ERR_INVALID_ARG_VALUE:k,ERR_OUT_OF_RANGE:U,ERR_UNKNOWN_SIGNAL:v}}=nt(),{normalizeEncoding:P}=Tt(),{isAsyncFunction:M,isArrayBufferView:F}=Tt().types,W={};function Q(N){return N===(N|0)}function ae(N){return N===N>>>0}var I=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function G(N,H,we){if(typeof N>"u"&&(N=we),typeof N=="string"){if(g(I,N)===null)throw new k(H,N,$);N=c(N,8)}return Z(N,H),N}var X=T((N,H,we=a,_e=i)=>{if(typeof N!="number")throw new O(H,"number",N);if(!r(N))throw new U(H,"an integer",N);if(N<we||N>_e)throw new U(H,`>= ${we} && <= ${_e}`,N)}),be=T((N,H,we=-2147483648,_e=2147483647)=>{if(typeof N!="number")throw new O(H,"number",N);if(!r(N))throw new U(H,"an integer",N);if(N<we||N>_e)throw new U(H,`>= ${we} && <= ${_e}`,N)}),Z=T((N,H,we=!1)=>{if(typeof N!="number")throw new O(H,"number",N);if(!r(N))throw new U(H,"an integer",N);let _e=we?1:0,Ae=4294967295;if(N<_e||N>Ae)throw new U(H,`>= ${_e} && <= ${Ae}`,N)});function q(N,H){if(typeof N!="string")throw new O(H,"string",N)}function me(N,H,we=void 0,_e){if(typeof N!="number")throw new O(H,"number",N);if(we!=null&&N<we||_e!=null&&N>_e||(we!=null||_e!=null)&&n(N))throw new U(H,`${we!=null?`>= ${we}`:""}${we!=null&&_e!=null?" && ":""}${_e!=null?`<= ${_e}`:""}`,N)}var ie=T((N,H,we)=>{if(!l(we,N)){let _e="must be one of: "+h(s(we,Ae=>typeof Ae=="string"?`'${Ae}'`:b(Ae)),", ");throw new k(H,N,_e)}});function ve(N,H){if(typeof N!="boolean")throw new O(H,"boolean",N)}function S(N,H,we){return N==null||!p(N,H)?we:N[H]}var K=T((N,H,we=null)=>{let _e=S(we,"allowArray",!1),Ae=S(we,"allowFunction",!1);if(!S(we,"nullable",!1)&&N===null||!_e&&t(N)||typeof N!="object"&&(!Ae||typeof N!="function"))throw new O(H,"Object",N)}),fe=T((N,H)=>{if(N!=null&&typeof N!="object"&&typeof N!="function")throw new O(H,"a dictionary",N)}),Ee=T((N,H,we=0)=>{if(!t(N))throw new O(H,"Array",N);if(N.length<we){let _e=`must be longer than ${we}`;throw new k(H,N,_e)}});function he(N,H){Ee(N,H);for(let we=0;we<N.length;we++)q(N[we],`${H}[${we}]`)}function x(N,H){Ee(N,H);for(let we=0;we<N.length;we++)ve(N[we],`${H}[${we}]`)}function E(N,H="signal"){if(q(N,H),W[N]===void 0)throw W[m(N)]!==void 0?new v(N+" (signals must use all capital letters)"):new v(N)}var z=T((N,H="buffer")=>{if(!F(N))throw new O(H,["Buffer","TypedArray","DataView"],N)});function le(N,H){let we=P(H),_e=N.length;if(we==="hex"&&_e%2!==0)throw new k("encoding",H,`is invalid for data of length ${_e}`)}function ee(N,H="Port",we=!0){if(typeof N!="number"&&typeof N!="string"||typeof N=="string"&&y(N).length===0||+N!==+N>>>0||N>65535||N===0&&!we)throw new L(H,N,we);return N|0}var J=T((N,H)=>{if(N!==void 0&&(N===null||typeof N!="object"||!("aborted"in N)))throw new O(H,"AbortSignal",N)}),ce=T((N,H)=>{if(typeof N!="function")throw new O(H,"Function",N)}),ge=T((N,H)=>{if(typeof N!="function"||M(N))throw new O(H,"Function",N)}),C=T((N,H)=>{if(N!==void 0)throw new O(H,"undefined",N)});function D(N,H,we){if(!l(we,N))throw new O(H,`('${h(we,"|")}')`,N)}var j=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(N,H){if(typeof N>"u"||!g(j,N))throw new k(H,N,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Y(N){if(typeof N=="string")return te(N,"hints"),N;if(t(N)){let H=N.length,we="";if(H===0)return we;for(let _e=0;_e<H;_e++){let Ae=N[_e];te(Ae,"hints"),we+=Ae,_e!==H-1&&(we+=", ")}return we}throw new k("hints",N,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:Q,isUint32:ae,parseFileMode:G,validateArray:Ee,validateStringArray:he,validateBooleanArray:x,validateBoolean:ve,validateBuffer:z,validateDictionary:fe,validateEncoding:le,validateFunction:ce,validateInt32:be,validateInteger:X,validateNumber:me,validateObject:K,validateOneOf:ie,validatePlainFunction:ge,validatePort:ee,validateSignalName:E,validateString:q,validateUint32:Z,validateUndefined:C,validateUnion:D,validateAbortSignal:J,validateLinkHeaderValue:Y}}),Ht=ue((e,o)=>{ne(),se(),oe();var t=o.exports={},l,h;function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=s}catch{l=s}try{typeof clearTimeout=="function"?h=clearTimeout:h=r}catch{h=r}})();function n(L){if(l===setTimeout)return setTimeout(L,0);if((l===s||!l)&&setTimeout)return l=setTimeout,setTimeout(L,0);try{return l(L,0)}catch{try{return l.call(null,L,0)}catch{return l.call(this,L,0)}}}function i(L){if(h===clearTimeout)return clearTimeout(L);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(L);try{return h(L)}catch{try{return h.call(null,L)}catch{return h.call(this,L)}}}var a=[],c=!1,p,g=-1;function b(){!c||!p||(c=!1,p.length?a=p.concat(a):g=-1,a.length&&m())}function m(){if(!c){var L=n(b);c=!0;for(var O=a.length;O;){for(p=a,a=[];++g<O;)p&&p[g].run();g=-1,O=a.length}p=null,c=!1,i(L)}}t.nextTick=function(L){var O=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)O[k-1]=arguments[k];a.push(new y(L,O)),a.length===1&&!c&&n(m)};function y(L,O){this.fun=L,this.array=O}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function T(){}t.on=T,t.addListener=T,t.once=T,t.off=T,t.removeListener=T,t.removeAllListeners=T,t.emit=T,t.prependListener=T,t.prependOnceListener=T,t.listeners=function(L){return[]},t.binding=function(L){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(L){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),kt=ue((e,o)=>{ne(),se(),oe();var{Symbol:t,SymbolAsyncIterator:l,SymbolIterator:h,SymbolFor:s}=Je(),r=t("kDestroyed"),n=t("kIsErrored"),i=t("kIsReadable"),a=t("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),p=s("nodejs.webstream.controllerErrorFunction");function g(S,K=!1){var fe;return!!(S&&typeof S.pipe=="function"&&typeof S.on=="function"&&(!K||typeof S.pause=="function"&&typeof S.resume=="function")&&(!S._writableState||((fe=S._readableState)===null||fe===void 0?void 0:fe.readable)!==!1)&&(!S._writableState||S._readableState))}function b(S){var K;return!!(S&&typeof S.write=="function"&&typeof S.on=="function"&&(!S._readableState||((K=S._writableState)===null||K===void 0?void 0:K.writable)!==!1))}function m(S){return!!(S&&typeof S.pipe=="function"&&S._readableState&&typeof S.on=="function"&&typeof S.write=="function")}function y(S){return S&&(S._readableState||S._writableState||typeof S.write=="function"&&typeof S.on=="function"||typeof S.pipe=="function"&&typeof S.on=="function")}function T(S){return!!(S&&!y(S)&&typeof S.pipeThrough=="function"&&typeof S.getReader=="function"&&typeof S.cancel=="function")}function L(S){return!!(S&&!y(S)&&typeof S.getWriter=="function"&&typeof S.abort=="function")}function O(S){return!!(S&&!y(S)&&typeof S.readable=="object"&&typeof S.writable=="object")}function k(S){return T(S)||L(S)||O(S)}function U(S,K){return S==null?!1:K===!0?typeof S[l]=="function":K===!1?typeof S[h]=="function":typeof S[l]=="function"||typeof S[h]=="function"}function v(S){if(!y(S))return null;let K=S._writableState,fe=S._readableState,Ee=K||fe;return!!(S.destroyed||S[r]||Ee!=null&&Ee.destroyed)}function P(S){if(!b(S))return null;if(S.writableEnded===!0)return!0;let K=S._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function M(S,K){if(!b(S))return null;if(S.writableFinished===!0)return!0;let fe=S._writableState;return fe!=null&&fe.errored?!1:typeof(fe==null?void 0:fe.finished)!="boolean"?null:!!(fe.finished||K===!1&&fe.ended===!0&&fe.length===0)}function F(S){if(!g(S))return null;if(S.readableEnded===!0)return!0;let K=S._readableState;return!K||K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function W(S,K){if(!g(S))return null;let fe=S._readableState;return fe!=null&&fe.errored?!1:typeof(fe==null?void 0:fe.endEmitted)!="boolean"?null:!!(fe.endEmitted||K===!1&&fe.ended===!0&&fe.length===0)}function Q(S){return S&&S[i]!=null?S[i]:typeof(S==null?void 0:S.readable)!="boolean"?null:v(S)?!1:g(S)&&S.readable&&!W(S)}function ae(S){return typeof(S==null?void 0:S.writable)!="boolean"?null:v(S)?!1:b(S)&&S.writable&&!P(S)}function I(S,K){return y(S)?v(S)?!0:!((K==null?void 0:K.readable)!==!1&&Q(S)||(K==null?void 0:K.writable)!==!1&&ae(S)):null}function $(S){var K,fe;return y(S)?S.writableErrored?S.writableErrored:(K=(fe=S._writableState)===null||fe===void 0?void 0:fe.errored)!==null&&K!==void 0?K:null:null}function G(S){var K,fe;return y(S)?S.readableErrored?S.readableErrored:(K=(fe=S._readableState)===null||fe===void 0?void 0:fe.errored)!==null&&K!==void 0?K:null:null}function X(S){if(!y(S))return null;if(typeof S.closed=="boolean")return S.closed;let K=S._writableState,fe=S._readableState;return typeof(K==null?void 0:K.closed)=="boolean"||typeof(fe==null?void 0:fe.closed)=="boolean"?(K==null?void 0:K.closed)||(fe==null?void 0:fe.closed):typeof S._closed=="boolean"&&be(S)?S._closed:null}function be(S){return typeof S._closed=="boolean"&&typeof S._defaultKeepAlive=="boolean"&&typeof S._removedConnection=="boolean"&&typeof S._removedContLen=="boolean"}function Z(S){return typeof S._sent100=="boolean"&&be(S)}function q(S){var K;return typeof S._consuming=="boolean"&&typeof S._dumped=="boolean"&&((K=S.req)===null||K===void 0?void 0:K.upgradeOrConnect)===void 0}function me(S){if(!y(S))return null;let K=S._writableState,fe=S._readableState,Ee=K||fe;return!Ee&&Z(S)||!!(Ee&&Ee.autoDestroy&&Ee.emitClose&&Ee.closed===!1)}function ie(S){var K;return!!(S&&((K=S[a])!==null&&K!==void 0?K:S.readableDidRead||S.readableAborted))}function ve(S){var K,fe,Ee,he,x,E,z,le,ee,J;return!!(S&&((K=(fe=(Ee=(he=(x=(E=S[n])!==null&&E!==void 0?E:S.readableErrored)!==null&&x!==void 0?x:S.writableErrored)!==null&&he!==void 0?he:(z=S._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&Ee!==void 0?Ee:(le=S._writableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&fe!==void 0?fe:(ee=S._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&K!==void 0?K:!((J=S._writableState)===null||J===void 0)&&J.errored))}o.exports={kDestroyed:r,isDisturbed:ie,kIsDisturbed:a,isErrored:ve,kIsErrored:n,isReadable:Q,kIsReadable:i,kIsClosedPromise:c,kControllerErrorFunction:p,isClosed:X,isDestroyed:v,isDuplexNodeStream:m,isFinished:I,isIterable:U,isReadableNodeStream:g,isReadableStream:T,isReadableEnded:F,isReadableFinished:W,isReadableErrored:G,isNodeStream:y,isWebStream:k,isWritable:ae,isWritableNodeStream:b,isWritableStream:L,isWritableEnded:P,isWritableFinished:M,isWritableErrored:$,isServerRequest:q,isServerResponse:Z,willEmitClose:me,isTransformStream:O}}),jt=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{AbortError:l,codes:h}=nt(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:r}=h,{kEmptyObject:n,once:i}=Tt(),{validateAbortSignal:a,validateFunction:c,validateObject:p,validateBoolean:g}=Ir(),{Promise:b,PromisePrototypeThen:m}=Je(),{isClosed:y,isReadable:T,isReadableNodeStream:L,isReadableStream:O,isReadableFinished:k,isReadableErrored:U,isWritable:v,isWritableNodeStream:P,isWritableStream:M,isWritableFinished:F,isWritableErrored:W,isNodeStream:Q,willEmitClose:ae,kIsClosedPromise:I}=kt();function $(q){return q.setHeader&&typeof q.abort=="function"}var G=()=>{};function X(q,me,ie){var ve,S;if(arguments.length===2?(ie=me,me=n):me==null?me=n:p(me,"options"),c(ie,"callback"),a(me.signal,"options.signal"),ie=i(ie),O(q)||M(q))return be(q,me,ie);if(!Q(q))throw new s("stream",["ReadableStream","WritableStream","Stream"],q);let K=(ve=me.readable)!==null&&ve!==void 0?ve:L(q),fe=(S=me.writable)!==null&&S!==void 0?S:P(q),Ee=q._writableState,he=q._readableState,x=()=>{q.writable||le()},E=ae(q)&&L(q)===K&&P(q)===fe,z=F(q,!1),le=()=>{z=!0,q.destroyed&&(E=!1),!(E&&(!q.readable||K))&&(!K||ee)&&ie.call(q)},ee=k(q,!1),J=()=>{ee=!0,q.destroyed&&(E=!1),!(E&&(!q.writable||fe))&&(!fe||z)&&ie.call(q)},ce=Y=>{ie.call(q,Y)},ge=y(q),C=()=>{ge=!0;let Y=W(q)||U(q);if(Y&&typeof Y!="boolean")return ie.call(q,Y);if(K&&!ee&&L(q,!0)&&!k(q,!1))return ie.call(q,new r);if(fe&&!z&&!F(q,!1))return ie.call(q,new r);ie.call(q)},D=()=>{ge=!0;let Y=W(q)||U(q);if(Y&&typeof Y!="boolean")return ie.call(q,Y);ie.call(q)},j=()=>{q.req.on("finish",le)};$(q)?(q.on("complete",le),E||q.on("abort",C),q.req?j():q.on("request",j)):fe&&!Ee&&(q.on("end",x),q.on("close",x)),!E&&typeof q.aborted=="boolean"&&q.on("aborted",C),q.on("end",J),q.on("finish",le),me.error!==!1&&q.on("error",ce),q.on("close",C),ge?t.nextTick(C):Ee!=null&&Ee.errorEmitted||he!=null&&he.errorEmitted?E||t.nextTick(D):(!K&&(!E||T(q))&&(z||v(q)===!1)||!fe&&(!E||v(q))&&(ee||T(q)===!1)||he&&q.req&&q.aborted)&&t.nextTick(D);let te=()=>{ie=G,q.removeListener("aborted",C),q.removeListener("complete",le),q.removeListener("abort",C),q.removeListener("request",j),q.req&&q.req.removeListener("finish",le),q.removeListener("end",x),q.removeListener("close",x),q.removeListener("finish",le),q.removeListener("end",J),q.removeListener("error",ce),q.removeListener("close",C)};if(me.signal&&!ge){let Y=()=>{let N=ie;te(),N.call(q,new l(void 0,{cause:me.signal.reason}))};if(me.signal.aborted)t.nextTick(Y);else{let N=ie;ie=i((...H)=>{me.signal.removeEventListener("abort",Y),N.apply(q,H)}),me.signal.addEventListener("abort",Y)}}return te}function be(q,me,ie){let ve=!1,S=G;if(me.signal)if(S=()=>{ve=!0,ie.call(q,new l(void 0,{cause:me.signal.reason}))},me.signal.aborted)t.nextTick(S);else{let fe=ie;ie=i((...Ee)=>{me.signal.removeEventListener("abort",S),fe.apply(q,Ee)}),me.signal.addEventListener("abort",S)}let K=(...fe)=>{ve||t.nextTick(()=>ie.apply(q,fe))};return m(q[I].promise,K,K),G}function Z(q,me){var ie;let ve=!1;return me===null&&(me=n),(ie=me)!==null&&ie!==void 0&&ie.cleanup&&(g(me.cleanup,"cleanup"),ve=me.cleanup),new b((S,K)=>{let fe=X(q,me,Ee=>{ve&&fe(),Ee?K(Ee):S()})})}o.exports=X,o.exports.finished=Z}),lr=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:h},AbortError:s}=nt(),{Symbol:r}=Je(),{kDestroyed:n,isDestroyed:i,isFinished:a,isServerRequest:c}=kt(),p=r("kDestroy"),g=r("kConstruct");function b(I,$,G){I&&(I.stack,$&&!$.errored&&($.errored=I),G&&!G.errored&&(G.errored=I))}function m(I,$){let G=this._readableState,X=this._writableState,be=X||G;return X!=null&&X.destroyed||G!=null&&G.destroyed?(typeof $=="function"&&$(),this):(b(I,X,G),X&&(X.destroyed=!0),G&&(G.destroyed=!0),be.constructed?y(this,I,$):this.once(p,function(Z){y(this,l(Z,I),$)}),this)}function y(I,$,G){let X=!1;function be(Z){if(X)return;X=!0;let q=I._readableState,me=I._writableState;b(Z,me,q),me&&(me.closed=!0),q&&(q.closed=!0),typeof G=="function"&&G(Z),Z?t.nextTick(T,I,Z):t.nextTick(L,I)}try{I._destroy($||null,be)}catch(Z){be(Z)}}function T(I,$){O(I,$),L(I)}function L(I){let $=I._readableState,G=I._writableState;G&&(G.closeEmitted=!0),$&&($.closeEmitted=!0),(G!=null&&G.emitClose||$!=null&&$.emitClose)&&I.emit("close")}function O(I,$){let G=I._readableState,X=I._writableState;X!=null&&X.errorEmitted||G!=null&&G.errorEmitted||(X&&(X.errorEmitted=!0),G&&(G.errorEmitted=!0),I.emit("error",$))}function k(){let I=this._readableState,$=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function U(I,$,G){let X=I._readableState,be=I._writableState;if(be!=null&&be.destroyed||X!=null&&X.destroyed)return this;X!=null&&X.autoDestroy||be!=null&&be.autoDestroy?I.destroy($):$&&($.stack,be&&!be.errored&&(be.errored=$),X&&!X.errored&&(X.errored=$),G?t.nextTick(O,I,$):O(I,$))}function v(I,$){if(typeof I._construct!="function")return;let G=I._readableState,X=I._writableState;G&&(G.constructed=!1),X&&(X.constructed=!1),I.once(g,$),!(I.listenerCount(g)>1)&&t.nextTick(P,I)}function P(I){let $=!1;function G(X){if($){U(I,X??new h);return}$=!0;let be=I._readableState,Z=I._writableState,q=Z||be;be&&(be.constructed=!0),Z&&(Z.constructed=!0),q.destroyed?I.emit(p,X):X?U(I,X,!0):t.nextTick(M,I)}try{I._construct(X=>{t.nextTick(G,X)})}catch(X){t.nextTick(G,X)}}function M(I){I.emit(g)}function F(I){return(I==null?void 0:I.setHeader)&&typeof I.abort=="function"}function W(I){I.emit("close")}function Q(I,$){I.emit("error",$),t.nextTick(W,I)}function ae(I,$){!I||i(I)||(!$&&!a(I)&&($=new s),c(I)?(I.socket=null,I.destroy($)):F(I)?I.abort():F(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy($):typeof I.close=="function"?I.close():$?t.nextTick(Q,I,$):t.nextTick(W,I),I.destroyed||(I[n]=!0))}o.exports={construct:v,destroyer:ae,destroy:m,undestroy:k,errorOrDestroy:U}});function Me(){Me.init.call(this)}function Tr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function to(e){return e._maxListeners===void 0?Me.defaultMaxListeners:e._maxListeners}function ro(e,o,t,l){var h,s,r,n;if(Tr(t),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",o,t.listener?t.listener:t),s=e._events),r=s[o]),r===void 0)r=s[o]=t,++e._eventsCount;else if(typeof r=="function"?r=s[o]=l?[t,r]:[r,t]:l?r.unshift(t):r.push(t),(h=to(e))>0&&r.length>h&&!r.warned){r.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=o,i.count=r.length,n=i,console&&console.warn&&console.warn(n)}return e}function xa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function io(e,o,t){var l={fired:!1,wrapFn:void 0,target:e,type:o,listener:t},h=xa.bind(l);return h.listener=t,l.wrapFn=h,h}function no(e,o,t){var l=e._events;if(l===void 0)return[];var h=l[o];return h===void 0?[]:typeof h=="function"?t?[h.listener||h]:[h]:t?function(s){for(var r=new Array(s.length),n=0;n<r.length;++n)r[n]=s[n].listener||s[n];return r}(h):so(h,h.length)}function oo(e){var o=this._events;if(o!==void 0){var t=o[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function so(e,o){for(var t=new Array(o),l=0;l<o;++l)t[l]=e[l];return t}var ao,lo,zt,rn,nn,on,ut,uo=Pe(()=>{ne(),se(),oe(),zt=typeof Reflect=="object"?Reflect:null,rn=zt&&typeof zt.apply=="function"?zt.apply:function(e,o,t){return Function.prototype.apply.call(e,o,t)},lo=zt&&typeof zt.ownKeys=="function"?zt.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},nn=Number.isNaN||function(e){return e!=e},ao=Me,Me.EventEmitter=Me,Me.prototype._events=void 0,Me.prototype._eventsCount=0,Me.prototype._maxListeners=void 0,on=10,Object.defineProperty(Me,"defaultMaxListeners",{enumerable:!0,get:function(){return on},set:function(e){if(typeof e!="number"||e<0||nn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");on=e}}),Me.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Me.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||nn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Me.prototype.getMaxListeners=function(){return to(this)},Me.prototype.emit=function(e){for(var o=[],t=1;t<arguments.length;t++)o.push(arguments[t]);var l=e==="error",h=this._events;if(h!==void 0)l=l&&h.error===void 0;else if(!l)return!1;if(l){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var r=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw r.context=s,r}var n=h[e];if(n===void 0)return!1;if(typeof n=="function")rn(n,this,o);else{var i=n.length,a=so(n,i);for(t=0;t<i;++t)rn(a[t],this,o)}return!0},Me.prototype.addListener=function(e,o){return ro(this,e,o,!1)},Me.prototype.on=Me.prototype.addListener,Me.prototype.prependListener=function(e,o){return ro(this,e,o,!0)},Me.prototype.once=function(e,o){return Tr(o),this.on(e,io(this,e,o)),this},Me.prototype.prependOnceListener=function(e,o){return Tr(o),this.prependListener(e,io(this,e,o)),this},Me.prototype.removeListener=function(e,o){var t,l,h,s,r;if(Tr(o),(l=this._events)===void 0)return this;if((t=l[e])===void 0)return this;if(t===o||t.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,t.listener||o));else if(typeof t!="function"){for(h=-1,s=t.length-1;s>=0;s--)if(t[s]===o||t[s].listener===o){r=t[s].listener,h=s;break}if(h<0)return this;h===0?t.shift():function(n,i){for(;i+1<n.length;i++)n[i]=n[i+1];n.pop()}(t,h),t.length===1&&(l[e]=t[0]),l.removeListener!==void 0&&this.emit("removeListener",e,r||o)}return this},Me.prototype.off=Me.prototype.removeListener,Me.prototype.removeAllListeners=function(e){var o,t,l;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var h,s=Object.keys(t);for(l=0;l<s.length;++l)(h=s[l])!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(o=t[e])=="function")this.removeListener(e,o);else if(o!==void 0)for(l=o.length-1;l>=0;l--)this.removeListener(e,o[l]);return this},Me.prototype.listeners=function(e){return no(this,e,!0)},Me.prototype.rawListeners=function(e){return no(this,e,!1)},Me.listenerCount=function(e,o){return typeof e.listenerCount=="function"?e.listenerCount(o):oo.call(e,o)},Me.prototype.listenerCount=oo,Me.prototype.eventNames=function(){return this._eventsCount>0?lo(this._events):[]},ut=ao,ut.EventEmitter,ut.defaultMaxListeners,ut.init,ut.listenerCount,ut.EventEmitter,ut.defaultMaxListeners,ut.init,ut.listenerCount}),Kt={};ft(Kt,{EventEmitter:()=>ho,default:()=>ut,defaultMaxListeners:()=>co,init:()=>fo,listenerCount:()=>po,on:()=>go,once:()=>bo});var ho,co,fo,po,go,bo,ur=Pe(()=>{ne(),se(),oe(),uo(),uo(),ut.once=function(e,o){return new Promise((t,l)=>{function h(...r){s!==void 0&&e.removeListener("error",s),t(r)}let s;o!=="error"&&(s=r=>{e.removeListener(name,h),l(r)},e.once("error",s)),e.once(o,h)})},ut.on=function(e,o){let t=[],l=[],h=null,s=!1,r={async next(){let a=t.shift();if(a)return createIterResult(a,!1);if(h){let c=Promise.reject(h);return h=null,c}return s?createIterResult(void 0,!0):new Promise((c,p)=>l.push({resolve:c,reject:p}))},async return(){e.removeListener(o,n),e.removeListener("error",i),s=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){h=a,e.removeListener(o,n),e.removeListener("error",i)},[Symbol.asyncIterator](){return this}};return e.on(o,n),e.on("error",i),r;function n(...a){let c=l.shift();c?c.resolve(createIterResult(a,!1)):t.push(a)}function i(a){s=!0;let c=l.shift();c?c.reject(a):h=a,r.return()}},{EventEmitter:ho,defaultMaxListeners:co,init:fo,listenerCount:po,on:go,once:bo}=ut}),sn=ue((e,o)=>{ne(),se(),oe();var{ArrayIsArray:t,ObjectSetPrototypeOf:l}=Je(),{EventEmitter:h}=(ur(),Ne(Kt));function s(n){h.call(this,n)}l(s.prototype,h.prototype),l(s,h),s.prototype.pipe=function(n,i){let a=this;function c(L){n.writable&&n.write(L)===!1&&a.pause&&a.pause()}a.on("data",c);function p(){a.readable&&a.resume&&a.resume()}n.on("drain",p),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",b),a.on("close",m));let g=!1;function b(){g||(g=!0,n.end())}function m(){g||(g=!0,typeof n.destroy=="function"&&n.destroy())}function y(L){T(),h.listenerCount(this,"error")===0&&this.emit("error",L)}r(a,"error",y),r(n,"error",y);function T(){a.removeListener("data",c),n.removeListener("drain",p),a.removeListener("end",b),a.removeListener("close",m),a.removeListener("error",y),n.removeListener("error",y),a.removeListener("end",T),a.removeListener("close",T),n.removeListener("close",T)}return a.on("end",T),a.on("close",T),n.on("close",T),n.emit("pipe",a),n};function r(n,i,a){if(typeof n.prependListener=="function")return n.prependListener(i,a);!n._events||!n._events[i]?n.on(i,a):t(n._events[i])?n._events[i].unshift(a):n._events[i]=[a,n._events[i]]}o.exports={Stream:s,prependListener:r}}),kr=ue((e,o)=>{ne(),se(),oe();var{AbortError:t,codes:l}=nt(),{isNodeStream:h,isWebStream:s,kControllerErrorFunction:r}=kt(),n=jt(),{ERR_INVALID_ARG_TYPE:i}=l,a=(c,p)=>{if(typeof c!="object"||!("aborted"in c))throw new i(p,"AbortSignal",c)};o.exports.addAbortSignal=function(c,p){if(a(c,"signal"),!h(p)&&!s(p))throw new i("stream",["ReadableStream","WritableStream","Stream"],p);return o.exports.addAbortSignalNoValidate(c,p)},o.exports.addAbortSignalNoValidate=function(c,p){if(typeof c!="object"||!("aborted"in c))return p;let g=h(p)?()=>{p.destroy(new t(void 0,{cause:c.reason}))}:()=>{p[r](new t(void 0,{cause:c.reason}))};return c.aborted?g():(c.addEventListener("abort",g),n(p,()=>c.removeEventListener("abort",g))),p}}),Ma=ue((e,o)=>{ne(),se(),oe();var{StringPrototypeSlice:t,SymbolIterator:l,TypedArrayPrototypeSet:h,Uint8Array:s}=Je(),{Buffer:r}=(rt(),Ne(tt)),{inspect:n}=Tt();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(i){let a={data:i,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(i){let a={data:i,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}clear(){this.head=this.tail=null,this.length=0}join(i){if(this.length===0)return"";let a=this.head,c=""+a.data;for(;(a=a.next)!==null;)c+=i+a.data;return c}concat(i){if(this.length===0)return r.alloc(0);let a=r.allocUnsafe(i>>>0),c=this.head,p=0;for(;c;)h(a,c.data,p),p+=c.data.length,c=c.next;return a}consume(i,a){let c=this.head.data;if(i<c.length){let p=c.slice(0,i);return this.head.data=c.slice(i),p}return i===c.length?this.shift():a?this._getString(i):this._getBuffer(i)}first(){return this.head.data}*[l](){for(let i=this.head;i;i=i.next)yield i.data}_getString(i){let a="",c=this.head,p=0;do{let g=c.data;if(i>g.length)a+=g,i-=g.length;else{i===g.length?(a+=g,++p,c.next?this.head=c.next:this.head=this.tail=null):(a+=t(g,0,i),this.head=c,c.data=t(g,i));break}++p}while((c=c.next)!==null);return this.length-=p,a}_getBuffer(i){let a=r.allocUnsafe(i),c=i,p=this.head,g=0;do{let b=p.data;if(i>b.length)h(a,b,c-i),i-=b.length;else{i===b.length?(h(a,b,c-i),++g,p.next?this.head=p.next:this.head=this.tail=null):(h(a,new s(b.buffer,b.byteOffset,i),c-i),this.head=p,p.data=b.slice(i));break}++g}while((p=p.next)!==null);return this.length-=g,a}[Symbol.for("nodejs.util.inspect.custom")](i,a){return n(this,{...a,depth:0,customInspect:!1})}}}),an=ue((e,o)=>{ne(),se(),oe();var{MathFloor:t,NumberIsInteger:l}=Je(),{ERR_INVALID_ARG_VALUE:h}=nt().codes;function s(i,a,c){return i.highWaterMark!=null?i.highWaterMark:a?i[c]:null}function r(i){return i?16:16*1024}function n(i,a,c,p){let g=s(a,p,c);if(g!=null){if(!l(g)||g<0){let b=p?`options.${c}`:"options.highWaterMark";throw new h(b,g)}return t(g)}return r(i.objectMode)}o.exports={getHighWaterMark:n,getDefaultHighWaterMark:r}});function mo(e){var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return t===-1&&(t=o),[t,t===o?0:4-t%4]}function Ua(e,o,t){for(var l,h,s=[],r=o;r<t;r+=3)l=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),s.push(dt[(h=l)>>18&63]+dt[h>>12&63]+dt[h>>6&63]+dt[63&h]);return s.join("")}function Ct(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var o=new Uint8Array(e);return Object.setPrototypeOf(o,pe.prototype),o}function pe(e,o,t){if(typeof e=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ln(e)}return yo(e,o,t)}function yo(e,o,t){if(typeof e=="string")return function(s,r){if(typeof r=="string"&&r!==""||(r="utf8"),!pe.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|vo(s,r),i=Ct(n),a=i.write(s,r);return a!==n&&(i=i.slice(0,a)),i}(e,o);if(ArrayBuffer.isView(e))return un(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ot(e,ArrayBuffer)||e&&Ot(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ot(e,SharedArrayBuffer)||e&&Ot(e.buffer,SharedArrayBuffer)))return La(e,o,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(l!=null&&l!==e)return pe.from(l,o,t);var h=function(s){if(pe.isBuffer(s)){var r=0|hn(s.length),n=Ct(r);return n.length===0||s.copy(n,0,0,r),n}if(s.length!==void 0)return typeof s.length!="number"||fn(s.length)?Ct(0):un(s);if(s.type==="Buffer"&&Array.isArray(s.data))return un(s.data)}(e);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return pe.from(e[Symbol.toPrimitive]("string"),o,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function wo(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ln(e){return wo(e),Ct(e<0?0:0|hn(e))}function un(e){for(var o=e.length<0?0:0|hn(e.length),t=Ct(o),l=0;l<o;l+=1)t[l]=255&e[l];return t}function La(e,o,t){if(o<0||e.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<o+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=o===void 0&&t===void 0?new Uint8Array(e):t===void 0?new Uint8Array(e,o):new Uint8Array(e,o,t),Object.setPrototypeOf(l,pe.prototype),l}function hn(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|e}function vo(e,o){if(pe.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ot(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var t=e.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&t===0)return 0;for(var h=!1;;)switch(o){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return cn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return Co(e).length;default:if(h)return l?-1:cn(e).length;o=(""+o).toLowerCase(),h=!0}}function Na(e,o,t){var l=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(o>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return za(this,o,t);case"utf8":case"utf-8":return Ao(this,o,t);case"ascii":return Va(this,o,t);case"latin1":case"binary":return Ha(this,o,t);case"base64":return qa(this,o,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ka(this,o,t);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function Gt(e,o,t){var l=e[o];e[o]=e[t],e[t]=l}function _o(e,o,t,l,h){if(e.length===0)return-1;if(typeof t=="string"?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),fn(t=+t)&&(t=h?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(h)return-1;t=e.length-1}else if(t<0){if(!h)return-1;t=0}if(typeof o=="string"&&(o=pe.from(o,l)),pe.isBuffer(o))return o.length===0?-1:Eo(e,o,t,l,h);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(e,o,t):Uint8Array.prototype.lastIndexOf.call(e,o,t):Eo(e,[o],t,l,h);throw new TypeError("val must be string, number or Buffer")}function Eo(e,o,t,l,h){var s,r=1,n=e.length,i=o.length;if(l!==void 0&&((l=String(l).toLowerCase())==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(e.length<2||o.length<2)return-1;r=2,n/=2,i/=2,t/=2}function a(b,m){return r===1?b[m]:b.readUInt16BE(m*r)}if(h){var c=-1;for(s=t;s<n;s++)if(a(e,s)===a(o,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===i)return c*r}else c!==-1&&(s-=s-c),c=-1}else for(t+i>n&&(t=n-i),s=t;s>=0;s--){for(var p=!0,g=0;g<i;g++)if(a(e,s+g)!==a(o,g)){p=!1;break}if(p)return s}return-1}function ja(e,o,t,l){t=Number(t)||0;var h=e.length-t;l?(l=Number(l))>h&&(l=h):l=h;var s=o.length;l>s/2&&(l=s/2);for(var r=0;r<l;++r){var n=parseInt(o.substr(2*r,2),16);if(fn(n))return r;e[t+r]=n}return r}function Da(e,o,t,l){return Cr(cn(o,e.length-t),e,t,l)}function So(e,o,t,l){return Cr(function(h){for(var s=[],r=0;r<h.length;++r)s.push(255&h.charCodeAt(r));return s}(o),e,t,l)}function Fa(e,o,t,l){return So(e,o,t,l)}function Wa(e,o,t,l){return Cr(Co(o),e,t,l)}function $a(e,o,t,l){return Cr(function(h,s){for(var r,n,i,a=[],c=0;c<h.length&&!((s-=2)<0);++c)r=h.charCodeAt(c),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(o,e.length-t),e,t,l)}function qa(e,o,t){return o===0&&t===e.length?Rr.fromByteArray(e):Rr.fromByteArray(e.slice(o,t))}function Ao(e,o,t){t=Math.min(e.length,t);for(var l=[],h=o;h<t;){var s,r,n,i,a=e[h],c=null,p=a>239?4:a>223?3:a>191?2:1;if(h+p<=t)switch(p){case 1:a<128&&(c=a);break;case 2:(192&(s=e[h+1]))==128&&(i=(31&a)<<6|63&s)>127&&(c=i);break;case 3:s=e[h+1],r=e[h+2],(192&s)==128&&(192&r)==128&&(i=(15&a)<<12|(63&s)<<6|63&r)>2047&&(i<55296||i>57343)&&(c=i);break;case 4:s=e[h+1],r=e[h+2],n=e[h+3],(192&s)==128&&(192&r)==128&&(192&n)==128&&(i=(15&a)<<18|(63&s)<<12|(63&r)<<6|63&n)>65535&&i<1114112&&(c=i)}c===null?(c=65533,p=1):c>65535&&(c-=65536,l.push(c>>>10&1023|55296),c=56320|1023&c),l.push(c),h+=p}return function(g){var b=g.length;if(b<=4096)return String.fromCharCode.apply(String,g);for(var m="",y=0;y<b;)m+=String.fromCharCode.apply(String,g.slice(y,y+=4096));return m}(l)}function Va(e,o,t){var l="";t=Math.min(e.length,t);for(var h=o;h<t;++h)l+=String.fromCharCode(127&e[h]);return l}function Ha(e,o,t){var l="";t=Math.min(e.length,t);for(var h=o;h<t;++h)l+=String.fromCharCode(e[h]);return l}function za(e,o,t){var l=e.length;(!o||o<0)&&(o=0),(!t||t<0||t>l)&&(t=l);for(var h="",s=o;s<t;++s)h+=Uo[e[s]];return h}function Ka(e,o,t){for(var l=e.slice(o,t),h="",s=0;s<l.length;s+=2)h+=String.fromCharCode(l[s]+256*l[s+1]);return h}function Xe(e,o,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+o>t)throw new RangeError("Trying to access beyond buffer length")}function ot(e,o,t,l,h,s){if(!pe.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>h||o<s)throw new RangeError('"value" argument is out of bounds');if(t+l>e.length)throw new RangeError("Index out of range")}function Io(e,o,t,l,h,s){if(t+l>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function To(e,o,t,l,h){return o=+o,t>>>=0,h||Io(e,0,t,4),Jt.write(e,o,t,l,23,4),t+4}function ko(e,o,t,l,h){return o=+o,t>>>=0,h||Io(e,0,t,8),Jt.write(e,o,t,l,52,8),t+8}function cn(e,o){var t;o=o||1/0;for(var l=e.length,h=null,s=[],r=0;r<l;++r){if((t=e.charCodeAt(r))>55295&&t<57344){if(!h){if(t>56319){(o-=3)>-1&&s.push(239,191,189);continue}if(r+1===l){(o-=3)>-1&&s.push(239,191,189);continue}h=t;continue}if(t<56320){(o-=3)>-1&&s.push(239,191,189),h=t;continue}t=65536+(h-55296<<10|t-56320)}else h&&(o-=3)>-1&&s.push(239,191,189);if(h=null,t<128){if((o-=1)<0)break;s.push(t)}else if(t<2048){if((o-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((o-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function Co(e){return Rr.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(Mo,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(e))}function Cr(e,o,t,l){for(var h=0;h<l&&!(h+t>=o.length||h>=e.length);++h)o[h+t]=e[h];return h}function Ot(e,o){return e instanceof o||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===o.name}function fn(e){return e!=e}function Oo(e,o){for(var t in e)o[t]=e[t]}function Yt(e,o,t){return pt(e,o,t)}function br(e){var o;switch(this.encoding=function(t){var l=function(h){if(!h)return"utf8";for(var s;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(s)return;h=(""+h).toLowerCase(),s=!0}}(t);if(typeof l!="string"&&(Pr.isEncoding===gn||!gn(t)))throw new Error("Unknown encoding: "+t);return l||t}(e),this.encoding){case"utf16le":this.text=Ya,this.end=Qa,o=4;break;case"utf8":this.fillLast=Ga,o=4;break;case"base64":this.text=Ja,this.end=Xa,o=3;break;default:return this.write=Za,this.end=el,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Pr.allocUnsafe(o)}function dn(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Ga(e){var o=this.lastTotal-this.lastNeed,t=function(l,h,s){if((192&h[0])!=128)return l.lastNeed=0,"";if(l.lastNeed>1&&h.length>1){if((192&h[1])!=128)return l.lastNeed=1,"";if(l.lastNeed>2&&h.length>2&&(192&h[2])!=128)return l.lastNeed=2,""}}(this,e);return t!==void 0?t:this.lastNeed<=e.length?(e.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,o,0,e.length),this.lastNeed-=e.length,void 0)}function Ya(e,o){if((e.length-o)%2==0){var t=e.toString("utf16le",o);if(t){var l=t.charCodeAt(t.length-1);if(l>=55296&&l<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",o,e.length-1)}function Qa(e){var o=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,t)}return o}function Ja(e,o){var t=(e.length-o)%3;return t===0?e.toString("base64",o):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",o,e.length-t))}function Xa(e){var o=e&&e.length?this.write(e):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function Za(e){return e.toString(this.encoding)}function el(e){return e&&e.length?this.write(e):""}var Ro,dt,ht,Po,Or,Qt,Bo,xo,wt,Rr,Jt,pn,Mo,Uo,mr,yr,pt,Lo,hr,Pr,gn,No=Pe(()=>{for(ne(),se(),oe(),Ro={byteLength:function(e){var o=mo(e),t=o[0],l=o[1];return 3*(t+l)/4-l},toByteArray:function(e){var o,t,l=mo(e),h=l[0],s=l[1],r=new Po(function(a,c,p){return 3*(c+p)/4-p}(0,h,s)),n=0,i=s>0?h-4:h;for(t=0;t<i;t+=4)o=ht[e.charCodeAt(t)]<<18|ht[e.charCodeAt(t+1)]<<12|ht[e.charCodeAt(t+2)]<<6|ht[e.charCodeAt(t+3)],r[n++]=o>>16&255,r[n++]=o>>8&255,r[n++]=255&o;return s===2&&(o=ht[e.charCodeAt(t)]<<2|ht[e.charCodeAt(t+1)]>>4,r[n++]=255&o),s===1&&(o=ht[e.charCodeAt(t)]<<10|ht[e.charCodeAt(t+1)]<<4|ht[e.charCodeAt(t+2)]>>2,r[n++]=o>>8&255,r[n++]=255&o),r},fromByteArray:function(e){for(var o,t=e.length,l=t%3,h=[],s=0,r=t-l;s<r;s+=16383)h.push(Ua(e,s,s+16383>r?r:s+16383));return l===1?(o=e[t-1],h.push(dt[o>>2]+dt[o<<4&63]+"==")):l===2&&(o=(e[t-2]<<8)+e[t-1],h.push(dt[o>>10]+dt[o>>4&63]+dt[o<<2&63]+"=")),h.join("")}},dt=[],ht=[],Po=typeof Uint8Array<"u"?Uint8Array:Array,Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qt=0,Bo=Or.length;Qt<Bo;++Qt)dt[Qt]=Or[Qt],ht[Or.charCodeAt(Qt)]=Qt;ht["-".charCodeAt(0)]=62,ht["_".charCodeAt(0)]=63,xo={read:function(e,o,t,l,h){var s,r,n=8*h-l-1,i=(1<<n)-1,a=i>>1,c=-7,p=t?h-1:0,g=t?-1:1,b=e[o+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=n;c>0;s=256*s+e[o+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=256*r+e[o+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return r?NaN:1/0*(b?-1:1);r+=Math.pow(2,l),s-=a}return(b?-1:1)*r*Math.pow(2,s-l)},write:function(e,o,t,l,h,s){var r,n,i,a=8*s-h-1,c=(1<<a)-1,p=c>>1,g=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(n=isNaN(o)?1:0,r=c):(r=Math.floor(Math.log(o)/Math.LN2),o*(i=Math.pow(2,-r))<1&&(r--,i*=2),(o+=r+p>=1?g/i:g*Math.pow(2,1-p))*i>=2&&(r++,i/=2),r+p>=c?(n=0,r=c):r+p>=1?(n=(o*i-1)*Math.pow(2,h),r+=p):(n=o*Math.pow(2,p-1)*Math.pow(2,h),r=0));h>=8;e[t+b]=255&n,b+=m,n/=256,h-=8);for(r=r<<h|n,a+=h;a>0;e[t+b]=255&r,b+=m,r/=256,a-=8);e[t+b-m]|=128*y}},wt={},Rr=Ro,Jt=xo,pn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,wt.Buffer=pe,wt.SlowBuffer=function(e){return+e!=e&&(e=0),pe.alloc(+e)},wt.INSPECT_MAX_BYTES=50,wt.kMaxLength=2147483647,pe.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(e,o),e.foo()===42}catch{return!1}}(),pe.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(pe.prototype,"parent",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.buffer}}),Object.defineProperty(pe.prototype,"offset",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.byteOffset}}),pe.poolSize=8192,pe.from=function(e,o,t){return yo(e,o,t)},Object.setPrototypeOf(pe.prototype,Uint8Array.prototype),Object.setPrototypeOf(pe,Uint8Array),pe.alloc=function(e,o,t){return function(l,h,s){return wo(l),l<=0?Ct(l):h!==void 0?typeof s=="string"?Ct(l).fill(h,s):Ct(l).fill(h):Ct(l)}(e,o,t)},pe.allocUnsafe=function(e){return ln(e)},pe.allocUnsafeSlow=function(e){return ln(e)},pe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==pe.prototype},pe.compare=function(e,o){if(Ot(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),Ot(o,Uint8Array)&&(o=pe.from(o,o.offset,o.byteLength)),!pe.isBuffer(e)||!pe.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===o)return 0;for(var t=e.length,l=o.length,h=0,s=Math.min(t,l);h<s;++h)if(e[h]!==o[h]){t=e[h],l=o[h];break}return t<l?-1:l<t?1:0},pe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},pe.concat=function(e,o){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return pe.alloc(0);var t;if(o===void 0)for(o=0,t=0;t<e.length;++t)o+=e[t].length;var l=pe.allocUnsafe(o),h=0;for(t=0;t<e.length;++t){var s=e[t];if(Ot(s,Uint8Array)&&(s=pe.from(s)),!pe.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(l,h),h+=s.length}return l},pe.byteLength=vo,pe.prototype._isBuffer=!0,pe.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<e;o+=2)Gt(this,o,o+1);return this},pe.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<e;o+=4)Gt(this,o,o+3),Gt(this,o+1,o+2);return this},pe.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<e;o+=8)Gt(this,o,o+7),Gt(this,o+1,o+6),Gt(this,o+2,o+5),Gt(this,o+3,o+4);return this},pe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Ao(this,0,e):Na.apply(this,arguments)},pe.prototype.toLocaleString=pe.prototype.toString,pe.prototype.equals=function(e){if(!pe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||pe.compare(this,e)===0},pe.prototype.inspect=function(){var e="",o=wt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(e+=" ... "),"<Buffer "+e+">"},pn&&(pe.prototype[pn]=pe.prototype.inspect),pe.prototype.compare=function(e,o,t,l,h){if(Ot(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),!pe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(o===void 0&&(o=0),t===void 0&&(t=e?e.length:0),l===void 0&&(l=0),h===void 0&&(h=this.length),o<0||t>e.length||l<0||h>this.length)throw new RangeError("out of range index");if(l>=h&&o>=t)return 0;if(l>=h)return-1;if(o>=t)return 1;if(this===e)return 0;for(var s=(h>>>=0)-(l>>>=0),r=(t>>>=0)-(o>>>=0),n=Math.min(s,r),i=this.slice(l,h),a=e.slice(o,t),c=0;c<n;++c)if(i[c]!==a[c]){s=i[c],r=a[c];break}return s<r?-1:r<s?1:0},pe.prototype.includes=function(e,o,t){return this.indexOf(e,o,t)!==-1},pe.prototype.indexOf=function(e,o,t){return _o(this,e,o,t,!0)},pe.prototype.lastIndexOf=function(e,o,t){return _o(this,e,o,t,!1)},pe.prototype.write=function(e,o,t,l){if(o===void 0)l="utf8",t=this.length,o=0;else if(t===void 0&&typeof o=="string")l=o,t=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(t)?(t>>>=0,l===void 0&&(l="utf8")):(l=t,t=void 0)}var h=this.length-o;if((t===void 0||t>h)&&(t=h),e.length>0&&(t<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var s=!1;;)switch(l){case"hex":return ja(this,e,o,t);case"utf8":case"utf-8":return Da(this,e,o,t);case"ascii":return So(this,e,o,t);case"latin1":case"binary":return Fa(this,e,o,t);case"base64":return Wa(this,e,o,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $a(this,e,o,t);default:if(s)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),s=!0}},pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},pe.prototype.slice=function(e,o){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(o=o===void 0?t:~~o)<0?(o+=t)<0&&(o=0):o>t&&(o=t),o<e&&(o=e);var l=this.subarray(e,o);return Object.setPrototypeOf(l,pe.prototype),l},pe.prototype.readUIntLE=function(e,o,t){e>>>=0,o>>>=0,t||Xe(e,o,this.length);for(var l=this[e],h=1,s=0;++s<o&&(h*=256);)l+=this[e+s]*h;return l},pe.prototype.readUIntBE=function(e,o,t){e>>>=0,o>>>=0,t||Xe(e,o,this.length);for(var l=this[e+--o],h=1;o>0&&(h*=256);)l+=this[e+--o]*h;return l},pe.prototype.readUInt8=function(e,o){return e>>>=0,o||Xe(e,1,this.length),this[e]},pe.prototype.readUInt16LE=function(e,o){return e>>>=0,o||Xe(e,2,this.length),this[e]|this[e+1]<<8},pe.prototype.readUInt16BE=function(e,o){return e>>>=0,o||Xe(e,2,this.length),this[e]<<8|this[e+1]},pe.prototype.readUInt32LE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},pe.prototype.readUInt32BE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},pe.prototype.readIntLE=function(e,o,t){e>>>=0,o>>>=0,t||Xe(e,o,this.length);for(var l=this[e],h=1,s=0;++s<o&&(h*=256);)l+=this[e+s]*h;return l>=(h*=128)&&(l-=Math.pow(2,8*o)),l},pe.prototype.readIntBE=function(e,o,t){e>>>=0,o>>>=0,t||Xe(e,o,this.length);for(var l=o,h=1,s=this[e+--l];l>0&&(h*=256);)s+=this[e+--l]*h;return s>=(h*=128)&&(s-=Math.pow(2,8*o)),s},pe.prototype.readInt8=function(e,o){return e>>>=0,o||Xe(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},pe.prototype.readInt16LE=function(e,o){e>>>=0,o||Xe(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt16BE=function(e,o){e>>>=0,o||Xe(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt32LE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},pe.prototype.readInt32BE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},pe.prototype.readFloatLE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),Jt.read(this,e,!0,23,4)},pe.prototype.readFloatBE=function(e,o){return e>>>=0,o||Xe(e,4,this.length),Jt.read(this,e,!1,23,4)},pe.prototype.readDoubleLE=function(e,o){return e>>>=0,o||Xe(e,8,this.length),Jt.read(this,e,!0,52,8)},pe.prototype.readDoubleBE=function(e,o){return e>>>=0,o||Xe(e,8,this.length),Jt.read(this,e,!1,52,8)},pe.prototype.writeUIntLE=function(e,o,t,l){e=+e,o>>>=0,t>>>=0,l||ot(this,e,o,t,Math.pow(2,8*t)-1,0);var h=1,s=0;for(this[o]=255&e;++s<t&&(h*=256);)this[o+s]=e/h&255;return o+t},pe.prototype.writeUIntBE=function(e,o,t,l){e=+e,o>>>=0,t>>>=0,l||ot(this,e,o,t,Math.pow(2,8*t)-1,0);var h=t-1,s=1;for(this[o+h]=255&e;--h>=0&&(s*=256);)this[o+h]=e/s&255;return o+t},pe.prototype.writeUInt8=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,1,255,0),this[o]=255&e,o+1},pe.prototype.writeUInt16LE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,2,65535,0),this[o]=255&e,this[o+1]=e>>>8,o+2},pe.prototype.writeUInt16BE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,2,65535,0),this[o]=e>>>8,this[o+1]=255&e,o+2},pe.prototype.writeUInt32LE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,4,4294967295,0),this[o+3]=e>>>24,this[o+2]=e>>>16,this[o+1]=e>>>8,this[o]=255&e,o+4},pe.prototype.writeUInt32BE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,4,4294967295,0),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=255&e,o+4},pe.prototype.writeIntLE=function(e,o,t,l){if(e=+e,o>>>=0,!l){var h=Math.pow(2,8*t-1);ot(this,e,o,t,h-1,-h)}var s=0,r=1,n=0;for(this[o]=255&e;++s<t&&(r*=256);)e<0&&n===0&&this[o+s-1]!==0&&(n=1),this[o+s]=(e/r>>0)-n&255;return o+t},pe.prototype.writeIntBE=function(e,o,t,l){if(e=+e,o>>>=0,!l){var h=Math.pow(2,8*t-1);ot(this,e,o,t,h-1,-h)}var s=t-1,r=1,n=0;for(this[o+s]=255&e;--s>=0&&(r*=256);)e<0&&n===0&&this[o+s+1]!==0&&(n=1),this[o+s]=(e/r>>0)-n&255;return o+t},pe.prototype.writeInt8=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,1,127,-128),e<0&&(e=255+e+1),this[o]=255&e,o+1},pe.prototype.writeInt16LE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,2,32767,-32768),this[o]=255&e,this[o+1]=e>>>8,o+2},pe.prototype.writeInt16BE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,2,32767,-32768),this[o]=e>>>8,this[o+1]=255&e,o+2},pe.prototype.writeInt32LE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,4,2147483647,-2147483648),this[o]=255&e,this[o+1]=e>>>8,this[o+2]=e>>>16,this[o+3]=e>>>24,o+4},pe.prototype.writeInt32BE=function(e,o,t){return e=+e,o>>>=0,t||ot(this,e,o,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=255&e,o+4},pe.prototype.writeFloatLE=function(e,o,t){return To(this,e,o,!0,t)},pe.prototype.writeFloatBE=function(e,o,t){return To(this,e,o,!1,t)},pe.prototype.writeDoubleLE=function(e,o,t){return ko(this,e,o,!0,t)},pe.prototype.writeDoubleBE=function(e,o,t){return ko(this,e,o,!1,t)},pe.prototype.copy=function(e,o,t,l){if(!pe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),l||l===0||(l=this.length),o>=e.length&&(o=e.length),o||(o=0),l>0&&l<t&&(l=t),l===t||e.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-o<l-t&&(l=e.length-o+t);var h=l-t;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(o,t,l);else if(this===e&&t<o&&o<l)for(var s=h-1;s>=0;--s)e[s+o]=this[s+t];else Uint8Array.prototype.set.call(e,this.subarray(t,l),o);return h},pe.prototype.fill=function(e,o,t,l){if(typeof e=="string"){if(typeof o=="string"?(l=o,o=0,t=this.length):typeof t=="string"&&(l=t,t=this.length),l!==void 0&&typeof l!="string")throw new TypeError("encoding must be a string");if(typeof l=="string"&&!pe.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(e.length===1){var h=e.charCodeAt(0);(l==="utf8"&&h<128||l==="latin1")&&(e=h)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(o<0||this.length<o||this.length<t)throw new RangeError("Out of range index");if(t<=o)return this;var s;if(o>>>=0,t=t===void 0?this.length:t>>>0,e||(e=0),typeof e=="number")for(s=o;s<t;++s)this[s]=e;else{var r=pe.isBuffer(e)?e:pe.from(e,l),n=r.length;if(n===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<t-o;++s)this[s+o]=r[s%n]}return this},Mo=/[^+/0-9A-Za-z-_]/g,Uo=function(){for(var e=new Array(256),o=0;o<16;++o)for(var t=16*o,l=0;l<16;++l)e[t+l]="0123456789abcdef"[o]+"0123456789abcdef"[l];return e}(),wt.Buffer,wt.INSPECT_MAX_BYTES,wt.kMaxLength,mr={},yr=wt,pt=yr.Buffer,pt.from&&pt.alloc&&pt.allocUnsafe&&pt.allocUnsafeSlow?mr=yr:(Oo(yr,mr),mr.Buffer=Yt),Yt.prototype=Object.create(pt.prototype),Oo(pt,Yt),Yt.from=function(e,o,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return pt(e,o,t)},Yt.alloc=function(e,o,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=pt(e);return o!==void 0?typeof t=="string"?l.fill(o,t):l.fill(o):l.fill(0),l},Yt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return pt(e)},Yt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return yr.SlowBuffer(e)},Lo=mr,hr={},Pr=Lo.Buffer,gn=Pr.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},hr.StringDecoder=br,br.prototype.write=function(e){if(e.length===0)return"";var o,t;if(this.lastNeed){if((o=this.fillLast(e))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?o?o+this.text(e,t):this.text(e,t):o||""},br.prototype.end=function(e){var o=e&&e.length?this.write(e):"";return this.lastNeed?o+"":o},br.prototype.text=function(e,o){var t=function(h,s,r){var n=s.length-1;if(n<r)return 0;var i=dn(s[n]);return i>=0?(i>0&&(h.lastNeed=i-1),i):--n<r||i===-2?0:(i=dn(s[n]))>=0?(i>0&&(h.lastNeed=i-2),i):--n<r||i===-2?0:(i=dn(s[n]))>=0?(i>0&&(i===2?i=0:h.lastNeed=i-3),i):0}(this,e,o);if(!this.lastNeed)return e.toString("utf8",o);this.lastTotal=t;var l=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,l),e.toString("utf8",o,l)},br.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},hr.StringDecoder,hr.StringDecoder}),jo={};ft(jo,{StringDecoder:()=>Do,default:()=>hr});var Do,tl=Pe(()=>{ne(),se(),oe(),No(),No(),Do=hr.StringDecoder}),Fo=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{PromisePrototypeThen:l,SymbolAsyncIterator:h,SymbolIterator:s}=Je(),{Buffer:r}=(rt(),Ne(tt)),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:i}=nt().codes;function a(c,p,g){let b;if(typeof p=="string"||p instanceof r)return new c({objectMode:!0,...g,read(){this.push(p),this.push(null)}});let m;if(p&&p[h])m=!0,b=p[h]();else if(p&&p[s])m=!1,b=p[s]();else throw new n("iterable",["Iterable"],p);let y=new c({objectMode:!0,highWaterMark:1,...g}),T=!1;y._read=function(){T||(T=!0,O())},y._destroy=function(k,U){l(L(k),()=>t.nextTick(U,k),v=>t.nextTick(U,v||k))};async function L(k){let U=k!=null,v=typeof b.throw=="function";if(U&&v){let{value:P,done:M}=await b.throw(k);if(await P,M)return}if(typeof b.return=="function"){let{value:P}=await b.return();await P}}async function O(){for(;;){try{let{value:k,done:U}=m?await b.next():b.next();if(U)y.push(null);else{let v=k&&typeof k.then=="function"?await k:k;if(v===null)throw T=!1,new i;if(y.push(v))continue;T=!1}}catch(k){y.destroy(k)}break}}return y}o.exports=a}),Br=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{ArrayPrototypeIndexOf:l,NumberIsInteger:h,NumberIsNaN:s,NumberParseInt:r,ObjectDefineProperties:n,ObjectKeys:i,ObjectSetPrototypeOf:a,Promise:c,SafeSet:p,SymbolAsyncIterator:g,Symbol:b}=Je();o.exports=S,S.ReadableState=ve;var{EventEmitter:m}=(ur(),Ne(Kt)),{Stream:y,prependListener:T}=sn(),{Buffer:L}=(rt(),Ne(tt)),{addAbortSignal:O}=kr(),k=jt(),U=Tt().debuglog("stream",u=>{U=u}),v=Ma(),P=lr(),{getHighWaterMark:M,getDefaultHighWaterMark:F}=an(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_METHOD_NOT_IMPLEMENTED:ae,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:$,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G}}=nt(),{validateObject:X}=Ir(),be=b("kPaused"),{StringDecoder:Z}=(tl(),Ne(jo)),q=Fo();a(S.prototype,y.prototype),a(S,y);var me=()=>{},{errorOrDestroy:ie}=P;function ve(u,d,_){typeof _!="boolean"&&(_=d instanceof Rt()),this.objectMode=!!(u&&u.objectMode),_&&(this.objectMode=this.objectMode||!!(u&&u.readableObjectMode)),this.highWaterMark=u?M(this,u,"readableHighWaterMark",_):F(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[be]=null,this.errorEmitted=!1,this.emitClose=!u||u.emitClose!==!1,this.autoDestroy=!u||u.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,u&&u.encoding&&(this.decoder=new Z(u.encoding),this.encoding=u.encoding)}function S(u){if(!(this instanceof S))return new S(u);let d=this instanceof Rt();this._readableState=new ve(u,this,d),u&&(typeof u.read=="function"&&(this._read=u.read),typeof u.destroy=="function"&&(this._destroy=u.destroy),typeof u.construct=="function"&&(this._construct=u.construct),u.signal&&!d&&O(u.signal,this)),y.call(this,u),P.construct(this,()=>{this._readableState.needReadable&&ee(this,this._readableState)})}S.prototype.destroy=P.destroy,S.prototype._undestroy=P.undestroy,S.prototype._destroy=function(u,d){d(u)},S.prototype[m.captureRejectionSymbol]=function(u){this.destroy(u)},S.prototype.push=function(u,d){return K(this,u,d,!1)},S.prototype.unshift=function(u,d){return K(this,u,d,!0)};function K(u,d,_,A){U("readableAddChunk",d);let w=u._readableState,R;if(w.objectMode||(typeof d=="string"?(_=_||w.defaultEncoding,w.encoding!==_&&(A&&w.encoding?d=L.from(d,_).toString(w.encoding):(d=L.from(d,_),_=""))):d instanceof L?_="":y._isUint8Array(d)?(d=y._uint8ArrayToBuffer(d),_=""):d!=null&&(R=new Q("chunk",["string","Buffer","Uint8Array"],d))),R)ie(u,R);else if(d===null)w.reading=!1,E(u,w);else if(w.objectMode||d&&d.length>0)if(A)if(w.endEmitted)ie(u,new G);else{if(w.destroyed||w.errored)return!1;fe(u,w,d,!0)}else if(w.ended)ie(u,new $);else{if(w.destroyed||w.errored)return!1;w.reading=!1,w.decoder&&!_?(d=w.decoder.write(d),w.objectMode||d.length!==0?fe(u,w,d,!1):ee(u,w)):fe(u,w,d,!1)}else A||(w.reading=!1,ee(u,w));return!w.ended&&(w.length<w.highWaterMark||w.length===0)}function fe(u,d,_,A){d.flowing&&d.length===0&&!d.sync&&u.listenerCount("data")>0?(d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null,d.dataEmitted=!0,u.emit("data",_)):(d.length+=d.objectMode?1:_.length,A?d.buffer.unshift(_):d.buffer.push(_),d.needReadable&&z(u)),ee(u,d)}S.prototype.isPaused=function(){let u=this._readableState;return u[be]===!0||u.flowing===!1},S.prototype.setEncoding=function(u){let d=new Z(u);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;let _=this._readableState.buffer,A="";for(let w of _)A+=d.write(w);return _.clear(),A!==""&&_.push(A),this._readableState.length=A.length,this};var Ee=1073741824;function he(u){if(u>Ee)throw new I("size","<= 1GiB",u);return u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++,u}function x(u,d){return u<=0||d.length===0&&d.ended?0:d.objectMode?1:s(u)?d.flowing&&d.length?d.buffer.first().length:d.length:u<=d.length?u:d.ended?d.length:0}S.prototype.read=function(u){U("read",u),u===void 0?u=NaN:h(u)||(u=r(u,10));let d=this._readableState,_=u;if(u>d.highWaterMark&&(d.highWaterMark=he(u)),u!==0&&(d.emittedReadable=!1),u===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return U("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?we(this):z(this),null;if(u=x(u,d),u===0&&d.ended)return d.length===0&&we(this),null;let A=d.needReadable;if(U("need readable",A),(d.length===0||d.length-u<d.highWaterMark)&&(A=!0,U("length less than watermark",A)),d.ended||d.reading||d.destroyed||d.errored||!d.constructed)A=!1,U("reading, ended or constructing",A);else if(A){U("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0);try{this._read(d.highWaterMark)}catch(R){ie(this,R)}d.sync=!1,d.reading||(u=x(_,d))}let w;return u>0?w=H(u,d):w=null,w===null?(d.needReadable=d.length<=d.highWaterMark,u=0):(d.length-=u,d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null),d.length===0&&(d.ended||(d.needReadable=!0),_!==u&&d.ended&&we(this)),w!==null&&!d.errorEmitted&&!d.closeEmitted&&(d.dataEmitted=!0,this.emit("data",w)),w};function E(u,d){if(U("onEofChunk"),!d.ended){if(d.decoder){let _=d.decoder.end();_&&_.length&&(d.buffer.push(_),d.length+=d.objectMode?1:_.length)}d.ended=!0,d.sync?z(u):(d.needReadable=!1,d.emittedReadable=!0,le(u))}}function z(u){let d=u._readableState;U("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(U("emitReadable",d.flowing),d.emittedReadable=!0,t.nextTick(le,u))}function le(u){let d=u._readableState;U("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&!d.errored&&(d.length||d.ended)&&(u.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,te(u)}function ee(u,d){!d.readingMore&&d.constructed&&(d.readingMore=!0,t.nextTick(J,u,d))}function J(u,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){let _=d.length;if(U("maybeReadMore read 0"),u.read(0),_===d.length)break}d.readingMore=!1}S.prototype._read=function(u){throw new ae("_read()")},S.prototype.pipe=function(u,d){let _=this,A=this._readableState;A.pipes.length===1&&(A.multiAwaitDrain||(A.multiAwaitDrain=!0,A.awaitDrainWriters=new p(A.awaitDrainWriters?[A.awaitDrainWriters]:[]))),A.pipes.push(u),U("pipe count=%d opts=%j",A.pipes.length,d);let w=(!d||d.end!==!1)&&u!==t.stdout&&u!==t.stderr?V:at;A.endEmitted?t.nextTick(w):_.once("end",w),u.on("unpipe",R);function R(Ye,Qe){U("onunpipe"),Ye===_&&Qe&&Qe.hasUnpiped===!1&&(Qe.hasUnpiped=!0,ye())}function V(){U("onend"),u.end()}let de,re=!1;function ye(){U("cleanup"),u.removeListener("close",st),u.removeListener("finish",Le),de&&u.removeListener("drain",de),u.removeListener("error",ze),u.removeListener("unpipe",R),_.removeListener("end",V),_.removeListener("end",at),_.removeListener("data",ke),re=!0,de&&A.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain)&&de()}function Se(){re||(A.pipes.length===1&&A.pipes[0]===u?(U("false write response, pause",0),A.awaitDrainWriters=u,A.multiAwaitDrain=!1):A.pipes.length>1&&A.pipes.includes(u)&&(U("false write response, pause",A.awaitDrainWriters.size),A.awaitDrainWriters.add(u)),_.pause()),de||(de=ce(_,u),u.on("drain",de))}_.on("data",ke);function ke(Ye){U("ondata");let Qe=u.write(Ye);U("dest.write",Qe),Qe===!1&&Se()}function ze(Ye){if(U("onerror",Ye),at(),u.removeListener("error",ze),u.listenerCount("error")===0){let Qe=u._writableState||u._readableState;Qe&&!Qe.errorEmitted?ie(u,Ye):u.emit("error",Ye)}}T(u,"error",ze);function st(){u.removeListener("finish",Le),at()}u.once("close",st);function Le(){U("onfinish"),u.removeListener("close",st),at()}u.once("finish",Le);function at(){U("unpipe"),_.unpipe(u)}return u.emit("pipe",_),u.writableNeedDrain===!0?A.flowing&&Se():A.flowing||(U("pipe resume"),_.resume()),u};function ce(u,d){return function(){let _=u._readableState;_.awaitDrainWriters===d?(U("pipeOnDrain",1),_.awaitDrainWriters=null):_.multiAwaitDrain&&(U("pipeOnDrain",_.awaitDrainWriters.size),_.awaitDrainWriters.delete(d)),(!_.awaitDrainWriters||_.awaitDrainWriters.size===0)&&u.listenerCount("data")&&u.resume()}}S.prototype.unpipe=function(u){let d=this._readableState,_={hasUnpiped:!1};if(d.pipes.length===0)return this;if(!u){let w=d.pipes;d.pipes=[],this.pause();for(let R=0;R<w.length;R++)w[R].emit("unpipe",this,{hasUnpiped:!1});return this}let A=l(d.pipes,u);return A===-1?this:(d.pipes.splice(A,1),d.pipes.length===0&&this.pause(),u.emit("unpipe",this,_),this)},S.prototype.on=function(u,d){let _=y.prototype.on.call(this,u,d),A=this._readableState;return u==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):u==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,U("on readable",A.length,A.reading),A.length?z(this):A.reading||t.nextTick(C,this)),_},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(u,d){let _=y.prototype.removeListener.call(this,u,d);return u==="readable"&&t.nextTick(ge,this),_},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(u){let d=y.prototype.removeAllListeners.apply(this,arguments);return(u==="readable"||u===void 0)&&t.nextTick(ge,this),d};function ge(u){let d=u._readableState;d.readableListening=u.listenerCount("readable")>0,d.resumeScheduled&&d[be]===!1?d.flowing=!0:u.listenerCount("data")>0?u.resume():d.readableListening||(d.flowing=null)}function C(u){U("readable nexttick read 0"),u.read(0)}S.prototype.resume=function(){let u=this._readableState;return u.flowing||(U("resume"),u.flowing=!u.readableListening,D(this,u)),u[be]=!1,this};function D(u,d){d.resumeScheduled||(d.resumeScheduled=!0,t.nextTick(j,u,d))}function j(u,d){U("resume",d.reading),d.reading||u.read(0),d.resumeScheduled=!1,u.emit("resume"),te(u),d.flowing&&!d.reading&&u.read(0)}S.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[be]=!0,this};function te(u){let d=u._readableState;for(U("flow",d.flowing);d.flowing&&u.read()!==null;);}S.prototype.wrap=function(u){let d=!1;u.on("data",A=>{!this.push(A)&&u.pause&&(d=!0,u.pause())}),u.on("end",()=>{this.push(null)}),u.on("error",A=>{ie(this,A)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{d&&u.resume&&(d=!1,u.resume())};let _=i(u);for(let A=1;A<_.length;A++){let w=_[A];this[w]===void 0&&typeof u[w]=="function"&&(this[w]=u[w].bind(u))}return this},S.prototype[g]=function(){return Y(this)},S.prototype.iterator=function(u){return u!==void 0&&X(u,"options"),Y(this,u)};function Y(u,d){typeof u.read!="function"&&(u=S.wrap(u,{objectMode:!0}));let _=N(u,d);return _.stream=u,_}async function*N(u,d){let _=me;function A(V){this===u?(_(),_=me):_=V}u.on("readable",A);let w,R=k(u,{writable:!1},V=>{w=V?W(w,V):null,_(),_=me});try{for(;;){let V=u.destroyed?null:u.read();if(V!==null)yield V;else{if(w)throw w;if(w===null)return;await new c(A)}}}catch(V){throw w=W(w,V),w}finally{(w||(d==null?void 0:d.destroyOnReturn)!==!1)&&(w===void 0||u._readableState.autoDestroy)?P.destroyer(u,null):(u.off("readable",A),R())}}n(S.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){this._readableState&&(this._readableState.readable=!!u)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){this._readableState&&(this._readableState.flowing=u)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){this._readableState&&(this._readableState.destroyed=u)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[be]!==!1},set(u){this[be]=!!u}}}),S._fromList=H;function H(u,d){if(d.length===0)return null;let _;return d.objectMode?_=d.buffer.shift():!u||u>=d.length?(d.decoder?_=d.buffer.join(""):d.buffer.length===1?_=d.buffer.first():_=d.buffer.concat(d.length),d.buffer.clear()):_=d.buffer.consume(u,d.decoder),_}function we(u){let d=u._readableState;U("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,t.nextTick(_e,d,u))}function _e(u,d){if(U("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,d.emit("end"),d.writable&&d.allowHalfOpen===!1)t.nextTick(Ae,d);else if(u.autoDestroy){let _=d._writableState;(!_||_.autoDestroy&&(_.finished||_.writable===!1))&&d.destroy()}}}function Ae(u){u.writable&&!u.writableEnded&&!u.destroyed&&u.end()}S.from=function(u,d){return q(S,u,d)};var Be;function f(){return Be===void 0&&(Be={}),Be}S.fromWeb=function(u,d){return f().newStreamReadableFromReadableStream(u,d)},S.toWeb=function(u,d){return f().newReadableStreamFromStreamReadable(u,d)},S.wrap=function(u,d){var _,A;return new S({objectMode:(_=(A=u.readableObjectMode)!==null&&A!==void 0?A:u.objectMode)!==null&&_!==void 0?_:!0,...d,destroy(w,R){P.destroyer(u,w),R(w)}}).wrap(u)}}),Wo=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{ArrayPrototypeSlice:l,Error:h,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:r,ObjectDefineProperties:n,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:p}=Je();o.exports=Z,Z.WritableState=X;var{EventEmitter:g}=(ur(),Ne(Kt)),b=sn().Stream,{Buffer:m}=(rt(),Ne(tt)),y=lr(),{addAbortSignal:T}=kr(),{getHighWaterMark:L,getDefaultHighWaterMark:O}=an(),{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:ae}=nt().codes,{errorOrDestroy:I}=y;i(Z.prototype,b.prototype),i(Z,b);function $(){}var G=c("kOnFinished");function X(C,D,j){typeof j!="boolean"&&(j=D instanceof Rt()),this.objectMode=!!(C&&C.objectMode),j&&(this.objectMode=this.objectMode||!!(C&&C.writableObjectMode)),this.highWaterMark=C?L(this,C,"writableHighWaterMark",j):O(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let te=!!(C&&C.decodeStrings===!1);this.decodeStrings=!te,this.defaultEncoding=C&&C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,be(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!C||C.emitClose!==!1,this.autoDestroy=!C||C.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function be(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}X.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},r(X.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Z(C){let D=this instanceof Rt();if(!D&&!s(Z,this))return new Z(C);this._writableState=new X(C,this,D),C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final),typeof C.construct=="function"&&(this._construct=C.construct),C.signal&&T(C.signal,this)),b.call(this,C),y.construct(this,()=>{let j=this._writableState;j.writing||he(this,j),le(this,j)})}r(Z,p,{__proto__:null,value:function(C){return s(this,C)?!0:this!==Z?!1:C&&C._writableState instanceof X}}),Z.prototype.pipe=function(){I(this,new P)};function q(C,D,j,te){let Y=C._writableState;if(typeof j=="function")te=j,j=Y.defaultEncoding;else{if(!j)j=Y.defaultEncoding;else if(j!=="buffer"&&!m.isEncoding(j))throw new ae(j);typeof te!="function"&&(te=$)}if(D===null)throw new W;if(!Y.objectMode)if(typeof D=="string")Y.decodeStrings!==!1&&(D=m.from(D,j),j="buffer");else if(D instanceof m)j="buffer";else if(b._isUint8Array(D))D=b._uint8ArrayToBuffer(D),j="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],D);let N;return Y.ending?N=new Q:Y.destroyed&&(N=new M("write")),N?(t.nextTick(te,N),I(C,N,!0),N):(Y.pendingcb++,me(C,Y,D,j,te))}Z.prototype.write=function(C,D,j){return q(this,C,D,j)===!0},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){let C=this._writableState;C.corked&&(C.corked--,C.writing||he(this,C))},Z.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=a(C)),!m.isEncoding(C))throw new ae(C);return this._writableState.defaultEncoding=C,this};function me(C,D,j,te,Y){let N=D.objectMode?1:j.length;D.length+=N;let H=D.length<D.highWaterMark;return H||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:j,encoding:te,callback:Y}),D.allBuffers&&te!=="buffer"&&(D.allBuffers=!1),D.allNoop&&Y!==$&&(D.allNoop=!1)):(D.writelen=N,D.writecb=Y,D.writing=!0,D.sync=!0,C._write(j,te,D.onwrite),D.sync=!1),H&&!D.errored&&!D.destroyed}function ie(C,D,j,te,Y,N,H){D.writelen=te,D.writecb=H,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new M("write")):j?C._writev(Y,D.onwrite):C._write(Y,N,D.onwrite),D.sync=!1}function ve(C,D,j,te){--D.pendingcb,te(j),Ee(D),I(C,j)}function S(C,D){let j=C._writableState,te=j.sync,Y=j.writecb;if(typeof Y!="function"){I(C,new v);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,D?(D.stack,j.errored||(j.errored=D),C._readableState&&!C._readableState.errored&&(C._readableState.errored=D),te?t.nextTick(ve,C,j,D,Y):ve(C,j,D,Y)):(j.buffered.length>j.bufferedIndex&&he(C,j),te?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===Y?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:Y,stream:C,state:j},t.nextTick(K,j.afterWriteTickInfo)):fe(C,j,1,Y))}function K({stream:C,state:D,count:j,cb:te}){return D.afterWriteTickInfo=null,fe(C,D,j,te)}function fe(C,D,j,te){for(!D.ending&&!C.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,C.emit("drain"));j-- >0;)D.pendingcb--,te();D.destroyed&&Ee(D),le(C,D)}function Ee(C){if(C.writing)return;for(let Y=C.bufferedIndex;Y<C.buffered.length;++Y){var D;let{chunk:N,callback:H}=C.buffered[Y],we=C.objectMode?1:N.length;C.length-=we,H((D=C.errored)!==null&&D!==void 0?D:new M("write"))}let j=C[G].splice(0);for(let Y=0;Y<j.length;Y++){var te;j[Y]((te=C.errored)!==null&&te!==void 0?te:new M("end"))}be(C)}function he(C,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:j,bufferedIndex:te,objectMode:Y}=D,N=j.length-te;if(!N)return;let H=te;if(D.bufferProcessing=!0,N>1&&C._writev){D.pendingcb-=N-1;let we=D.allNoop?$:Ae=>{for(let Be=H;Be<j.length;++Be)j[Be].callback(Ae)},_e=D.allNoop&&H===0?j:l(j,H);_e.allBuffers=D.allBuffers,ie(C,D,!0,D.length,_e,"",we),be(D)}else{do{let{chunk:we,encoding:_e,callback:Ae}=j[H];j[H++]=null;let Be=Y?1:we.length;ie(C,D,!1,Be,we,_e,Ae)}while(H<j.length&&!D.writing);H===j.length?be(D):H>256?(j.splice(0,H),D.bufferedIndex=0):D.bufferedIndex=H}D.bufferProcessing=!1}Z.prototype._write=function(C,D,j){if(this._writev)this._writev([{chunk:C,encoding:D}],j);else throw new U("_write()")},Z.prototype._writev=null,Z.prototype.end=function(C,D,j){let te=this._writableState;typeof C=="function"?(j=C,C=null,D=null):typeof D=="function"&&(j=D,D=null);let Y;if(C!=null){let N=q(this,C,D);N instanceof h&&(Y=N)}return te.corked&&(te.corked=1,this.uncork()),Y||(!te.errored&&!te.ending?(te.ending=!0,le(this,te,!0),te.ended=!0):te.finished?Y=new F("end"):te.destroyed&&(Y=new M("end"))),typeof j=="function"&&(Y||te.finished?t.nextTick(j,Y):te[G].push(j)),this};function x(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function E(C,D){let j=!1;function te(Y){if(j){I(C,Y??v());return}if(j=!0,D.pendingcb--,Y){let N=D[G].splice(0);for(let H=0;H<N.length;H++)N[H](Y);I(C,Y,D.sync)}else x(D)&&(D.prefinished=!0,C.emit("prefinish"),D.pendingcb++,t.nextTick(ee,C,D))}D.sync=!0,D.pendingcb++;try{C._final(te)}catch(Y){te(Y)}D.sync=!1}function z(C,D){!D.prefinished&&!D.finalCalled&&(typeof C._final=="function"&&!D.destroyed?(D.finalCalled=!0,E(C,D)):(D.prefinished=!0,C.emit("prefinish")))}function le(C,D,j){x(D)&&(z(C,D),D.pendingcb===0&&(j?(D.pendingcb++,t.nextTick((te,Y)=>{x(Y)?ee(te,Y):Y.pendingcb--},C,D)):x(D)&&(D.pendingcb++,ee(C,D))))}function ee(C,D){D.pendingcb--,D.finished=!0;let j=D[G].splice(0);for(let te=0;te<j.length;te++)j[te]();if(C.emit("finish"),D.autoDestroy){let te=C._readableState;(!te||te.autoDestroy&&(te.endEmitted||te.readable===!1))&&C.destroy()}}n(Z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(C){this._writableState&&(this._writableState.destroyed=C)}},writable:{__proto__:null,get(){let C=this._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){this._writableState&&(this._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let C=this._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var J=y.destroy;Z.prototype.destroy=function(C,D){let j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[G].length)&&t.nextTick(Ee,j),J.call(this,C,D),this},Z.prototype._undestroy=y.undestroy,Z.prototype._destroy=function(C,D){D(C)},Z.prototype[g.captureRejectionSymbol]=function(C){this.destroy(C)};var ce;function ge(){return ce===void 0&&(ce={}),ce}Z.fromWeb=function(C,D){return ge().newStreamWritableFromWritableStream(C,D)},Z.toWeb=function(C){return ge().newWritableStreamFromStreamWritable(C)}}),rl=ue((e,o)=>{ne(),se(),oe();var t=Ht(),l=(rt(),Ne(tt)),{isReadable:h,isWritable:s,isIterable:r,isNodeStream:n,isReadableNodeStream:i,isWritableNodeStream:a,isDuplexNodeStream:c}=kt(),p=jt(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=nt(),{destroyer:y}=lr(),T=Rt(),L=Br(),{createDeferredPromise:O}=Tt(),k=Fo(),U=globalThis.Blob||l.Blob,v=typeof U<"u"?function(ae){return ae instanceof U}:function(ae){return!1},P=globalThis.AbortController||tn().AbortController,{FunctionPrototypeCall:M}=Je(),F=class extends T{constructor(ae){super(ae),(ae==null?void 0:ae.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ae==null?void 0:ae.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function ae(I,$){if(c(I))return I;if(i(I))return Q({readable:I});if(a(I))return Q({writable:I});if(n(I))return Q({writable:!1,readable:!1});if(typeof I=="function"){let{value:X,write:be,final:Z,destroy:q}=W(I);if(r(X))return k(F,X,{objectMode:!0,write:be,final:Z,destroy:q});let me=X==null?void 0:X.then;if(typeof me=="function"){let ie,ve=M(me,X,S=>{if(S!=null)throw new m("nully","body",S)},S=>{y(ie,S)});return ie=new F({objectMode:!0,readable:!1,write:be,final(S){Z(async()=>{try{await ve,t.nextTick(S,null)}catch(K){t.nextTick(S,K)}})},destroy:q})}throw new m("Iterable, AsyncIterable or AsyncFunction",$,X)}if(v(I))return ae(I.arrayBuffer());if(r(I))return k(F,I,{objectMode:!0,writable:!1});if(typeof(I==null?void 0:I.writable)=="object"||typeof(I==null?void 0:I.readable)=="object"){let X=I!=null&&I.readable?i(I==null?void 0:I.readable)?I==null?void 0:I.readable:ae(I.readable):void 0,be=I!=null&&I.writable?a(I==null?void 0:I.writable)?I==null?void 0:I.writable:ae(I.writable):void 0;return Q({readable:X,writable:be})}let G=I==null?void 0:I.then;if(typeof G=="function"){let X;return M(G,I,be=>{be!=null&&X.push(be),X.push(null)},be=>{y(X,be)}),X=new F({objectMode:!0,writable:!1,read(){}})}throw new b($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)};function W(ae){let{promise:I,resolve:$}=O(),G=new P,X=G.signal;return{value:ae(async function*(){for(;;){let be=I;I=null;let{chunk:Z,done:q,cb:me}=await be;if(t.nextTick(me),q)return;if(X.aborted)throw new g(void 0,{cause:X.reason});({promise:I,resolve:$}=O()),yield Z}}(),{signal:X}),write(be,Z,q){let me=$;$=null,me({chunk:be,done:!1,cb:q})},final(be){let Z=$;$=null,Z({done:!0,cb:be})},destroy(be,Z){G.abort(),Z(be)}}}function Q(ae){let I=ae.readable&&typeof ae.readable.read!="function"?L.wrap(ae.readable):ae.readable,$=ae.writable,G=!!h(I),X=!!s($),be,Z,q,me,ie;function ve(S){let K=me;me=null,K?K(S):S&&ie.destroy(S)}return ie=new F({readableObjectMode:!!(I!=null&&I.readableObjectMode),writableObjectMode:!!($!=null&&$.writableObjectMode),readable:G,writable:X}),X&&(p($,S=>{X=!1,S&&y(I,S),ve(S)}),ie._write=function(S,K,fe){$.write(S,K)?fe():be=fe},ie._final=function(S){$.end(),Z=S},$.on("drain",function(){if(be){let S=be;be=null,S()}}),$.on("finish",function(){if(Z){let S=Z;Z=null,S()}})),G&&(p(I,S=>{G=!1,S&&y(I,S),ve(S)}),I.on("readable",function(){if(q){let S=q;q=null,S()}}),I.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){let S=I.read();if(S===null){q=ie._read;return}if(!ie.push(S))return}}),ie._destroy=function(S,K){!S&&me!==null&&(S=new g),q=null,be=null,Z=null,me===null?K(S):(me=K,y($,S),y(I,S))},ie}}),Rt=ue((e,o)=>{ne(),se(),oe();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:h,ObjectSetPrototypeOf:s}=Je();o.exports=i;var r=Br(),n=Wo();s(i.prototype,r.prototype),s(i,r);{let g=h(n.prototype);for(let b=0;b<g.length;b++){let m=g[b];i.prototype[m]||(i.prototype[m]=n.prototype[m])}}function i(g){if(!(this instanceof i))return new i(g);r.call(this,g),n.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(i.prototype,{writable:{__proto__:null,...l(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(n.prototype,"writableLength")},writableFinished:{__proto__:null,...l(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var a;function c(){return a===void 0&&(a={}),a}i.fromWeb=function(g,b){return c().newStreamDuplexFromReadableWritablePair(g,b)},i.toWeb=function(g){return c().newReadableWritablePairFromDuplex(g)};var p;i.from=function(g){return p||(p=rl()),p(g,"body")}}),$o=ue((e,o)=>{ne(),se(),oe();var{ObjectSetPrototypeOf:t,Symbol:l}=Je();o.exports=i;var{ERR_METHOD_NOT_IMPLEMENTED:h}=nt().codes,s=Rt(),{getHighWaterMark:r}=an();t(i.prototype,s.prototype),t(i,s);var n=l("kCallback");function i(p){if(!(this instanceof i))return new i(p);let g=p?r(this,p,"readableHighWaterMark",!0):null;g===0&&(p={...p,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:p.writableHighWaterMark||0}),s.call(this,p),this._readableState.sync=!1,this[n]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function a(p){typeof this._flush=="function"&&!this.destroyed?this._flush((g,b)=>{if(g){p?p(g):this.destroy(g);return}b!=null&&this.push(b),this.push(null),p&&p()}):(this.push(null),p&&p())}function c(){this._final!==a&&a.call(this)}i.prototype._final=a,i.prototype._transform=function(p,g,b){throw new h("_transform()")},i.prototype._write=function(p,g,b){let m=this._readableState,y=this._writableState,T=m.length;this._transform(p,g,(L,O)=>{if(L){b(L);return}O!=null&&this.push(O),y.ended||T===m.length||m.length<m.highWaterMark?b():this[n]=b})},i.prototype._read=function(){if(this[n]){let p=this[n];this[n]=null,p()}}}),qo=ue((e,o)=>{ne(),se(),oe();var{ObjectSetPrototypeOf:t}=Je();o.exports=h;var l=$o();t(h.prototype,l.prototype),t(h,l);function h(s){if(!(this instanceof h))return new h(s);l.call(this,s)}h.prototype._transform=function(s,r,n){n(null,s)}}),bn=ue((e,o)=>{ne(),se(),oe();var t=Ht(),{ArrayIsArray:l,Promise:h,SymbolAsyncIterator:s}=Je(),r=jt(),{once:n}=Tt(),i=lr(),a=Rt(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:T}=nt(),{validateFunction:L,validateAbortSignal:O}=Ir(),{isIterable:k,isReadable:U,isReadableNodeStream:v,isNodeStream:P,isTransformStream:M,isWebStream:F,isReadableStream:W,isReadableEnded:Q}=kt(),ae=globalThis.AbortController||tn().AbortController,I,$;function G(K,fe,Ee){let he=!1;K.on("close",()=>{he=!0});let x=r(K,{readable:fe,writable:Ee},E=>{he=!E});return{destroy:E=>{he||(he=!0,i.destroyer(K,E||new m("pipe")))},cleanup:x}}function X(K){return L(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function be(K){if(k(K))return K;if(v(K))return Z(K);throw new p("val",["Readable","Iterable","AsyncIterable"],K)}async function*Z(K){$||($=Br()),yield*$.prototype[s].call(K)}async function q(K,fe,Ee,{end:he}){let x,E=null,z=J=>{if(J&&(x=J),E){let ce=E;E=null,ce()}},le=()=>new h((J,ce)=>{x?ce(x):E=()=>{x?ce(x):J()}});fe.on("drain",z);let ee=r(fe,{readable:!1},z);try{fe.writableNeedDrain&&await le();for await(let J of K)fe.write(J)||await le();he&&fe.end(),await le(),Ee()}catch(J){Ee(x!==J?c(x,J):J)}finally{ee(),fe.off("drain",z)}}async function me(K,fe,Ee,{end:he}){M(fe)&&(fe=fe.writable);let x=fe.getWriter();try{for await(let E of K)await x.ready,x.write(E).catch(()=>{});await x.ready,he&&await x.close(),Ee()}catch(E){try{await x.abort(E),Ee(E)}catch(z){Ee(z)}}}function ie(...K){return ve(K,n(X(K)))}function ve(K,fe,Ee){if(K.length===1&&l(K[0])&&(K=K[0]),K.length<2)throw new b("streams");let he=new ae,x=he.signal,E=Ee==null?void 0:Ee.signal,z=[];O(E,"options.signal");function le(){D(new T)}E==null||E.addEventListener("abort",le);let ee,J,ce=[],ge=0;function C(N){D(N,--ge===0)}function D(N,H){if(N&&(!ee||ee.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ee=N),!(!ee&&!H)){for(;ce.length;)ce.shift()(ee);E==null||E.removeEventListener("abort",le),he.abort(),H&&(ee||z.forEach(we=>we()),t.nextTick(fe,ee,J))}}let j;for(let N=0;N<K.length;N++){let H=K[N],we=N<K.length-1,_e=N>0,Ae=we||(Ee==null?void 0:Ee.end)!==!1,Be=N===K.length-1;if(P(H)){let f=function(u){u&&u.name!=="AbortError"&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"&&C(u)};if(Ae){let{destroy:u,cleanup:d}=G(H,we,_e);ce.push(u),U(H)&&Be&&z.push(d)}H.on("error",f),U(H)&&Be&&z.push(()=>{H.removeListener("error",f)})}if(N===0)if(typeof H=="function"){if(j=H({signal:x}),!k(j))throw new g("Iterable, AsyncIterable or Stream","source",j)}else k(H)||v(H)||M(H)?j=H:j=a.from(H);else if(typeof H=="function"){if(M(j)){var te;j=be((te=j)===null||te===void 0?void 0:te.readable)}else j=be(j);if(j=H(j,{signal:x}),we){if(!k(j,!0))throw new g("AsyncIterable",`transform[${N-1}]`,j)}else{var Y;I||(I=qo());let f=new I({objectMode:!0}),u=(Y=j)===null||Y===void 0?void 0:Y.then;if(typeof u=="function")ge++,u.call(j,A=>{J=A,A!=null&&f.write(A),Ae&&f.end(),t.nextTick(C)},A=>{f.destroy(A),t.nextTick(C,A)});else if(k(j,!0))ge++,q(j,f,C,{end:Ae});else if(W(j)||M(j)){let A=j.readable||j;ge++,q(A,f,C,{end:Ae})}else throw new g("AsyncIterable or Promise","destination",j);j=f;let{destroy:d,cleanup:_}=G(j,!1,!0);ce.push(d),Be&&z.push(_)}}else if(P(H)){if(v(j)){ge+=2;let f=S(j,H,C,{end:Ae});U(H)&&Be&&z.push(f)}else if(M(j)||W(j)){let f=j.readable||j;ge++,q(f,H,C,{end:Ae})}else if(k(j))ge++,q(j,H,C,{end:Ae});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=H}else if(F(H)){if(v(j))ge++,me(be(j),H,C,{end:Ae});else if(W(j)||k(j))ge++,me(j,H,C,{end:Ae});else if(M(j))ge++,me(j.readable,H,C,{end:Ae});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=H}else j=a.from(H)}return(x!=null&&x.aborted||E!=null&&E.aborted)&&t.nextTick(le),j}function S(K,fe,Ee,{end:he}){let x=!1;if(fe.on("close",()=>{x||Ee(new y)}),K.pipe(fe,{end:!1}),he){let E=function(){x=!0,fe.end()};Q(K)?t.nextTick(E):K.once("end",E)}else Ee();return r(K,{readable:!0,writable:!1},E=>{let z=K._readableState;E&&E.code==="ERR_STREAM_PREMATURE_CLOSE"&&z&&z.ended&&!z.errored&&!z.errorEmitted?K.once("end",Ee).once("error",Ee):Ee(E)}),r(fe,{readable:!1,writable:!0},Ee)}o.exports={pipelineImpl:ve,pipeline:ie}}),Vo=ue((e,o)=>{ne(),se(),oe();var{pipeline:t}=bn(),l=Rt(),{destroyer:h}=lr(),{isNodeStream:s,isReadable:r,isWritable:n,isWebStream:i,isTransformStream:a,isWritableStream:c,isReadableStream:p}=kt(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:m}}=nt(),y=jt();o.exports=function(...T){if(T.length===0)throw new m("streams");if(T.length===1)return l.from(T[0]);let L=[...T];if(typeof T[0]=="function"&&(T[0]=l.from(T[0])),typeof T[T.length-1]=="function"){let I=T.length-1;T[I]=l.from(T[I])}for(let I=0;I<T.length;++I)if(!(!s(T[I])&&!i(T[I]))){if(I<T.length-1&&!(r(T[I])||p(T[I])||a(T[I])))throw new b(`streams[${I}]`,L[I],"must be readable");if(I>0&&!(n(T[I])||c(T[I])||a(T[I])))throw new b(`streams[${I}]`,L[I],"must be writable")}let O,k,U,v,P;function M(I){let $=v;v=null,$?$(I):I?P.destroy(I):!ae&&!Q&&P.destroy()}let F=T[0],W=t(T,M),Q=!!(n(F)||c(F)||a(F)),ae=!!(r(W)||p(W)||a(W));if(P=new l({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(W!=null&&W.writableObjectMode),writable:Q,readable:ae}),Q){if(s(F))P._write=function($,G,X){F.write($,G)?X():O=X},P._final=function($){F.end(),k=$},F.on("drain",function(){if(O){let $=O;O=null,$()}});else if(i(F)){let $=(a(F)?F.writable:F).getWriter();P._write=async function(G,X,be){try{await $.ready,$.write(G).catch(()=>{}),be()}catch(Z){be(Z)}},P._final=async function(G){try{await $.ready,$.close().catch(()=>{}),k=G}catch(X){G(X)}}}let I=a(W)?W.readable:W;y(I,()=>{if(k){let $=k;k=null,$()}})}if(ae){if(s(W))W.on("readable",function(){if(U){let I=U;U=null,I()}}),W.on("end",function(){P.push(null)}),P._read=function(){for(;;){let I=W.read();if(I===null){U=P._read;return}if(!P.push(I))return}};else if(i(W)){let I=(a(W)?W.readable:W).getReader();P._read=async function(){for(;;)try{let{value:$,done:G}=await I.read();if(!P.push($))return;if(G){P.push(null);return}}catch{return}}}}return P._destroy=function(I,$){!I&&v!==null&&(I=new g),U=null,O=null,k=null,v===null?$(I):(v=$,s(W)&&h(W,I))},P}}),il=ue((e,o)=>{ne(),se(),oe();var t=globalThis.AbortController||tn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:r},AbortError:n}=nt(),{validateAbortSignal:i,validateInteger:a,validateObject:c}=Ir(),p=Je().Symbol("kWeak"),{finished:g}=jt(),b=Vo(),{addAbortSignalNoValidate:m}=kr(),{isWritable:y,isNodeStream:T}=kt(),{ArrayPrototypePush:L,MathFloor:O,Number:k,NumberIsNaN:U,Promise:v,PromiseReject:P,PromisePrototypeThen:M,Symbol:F}=Je(),W=F("kEmpty"),Q=F("kEof");function ae(he,x){if(x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),T(he)&&!y(he))throw new l("stream",he,"must be writable");let E=b(this,he);return x!=null&&x.signal&&m(x.signal,E),E}function I(he,x){if(typeof he!="function")throw new h("fn",["Function","AsyncFunction"],he);x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal");let E=1;return(x==null?void 0:x.concurrency)!=null&&(E=O(x.concurrency)),a(E,"concurrency",1),(async function*(){var z,le;let ee=new t,J=this,ce=[],ge=ee.signal,C={signal:ge},D=()=>ee.abort();x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted&&D(),x==null||(le=x.signal)===null||le===void 0||le.addEventListener("abort",D);let j,te,Y=!1;function N(){Y=!0}async function H(){try{for await(let Ae of J){var we;if(Y)return;if(ge.aborted)throw new n;try{Ae=he(Ae,C)}catch(Be){Ae=P(Be)}Ae!==W&&(typeof((we=Ae)===null||we===void 0?void 0:we.catch)=="function"&&Ae.catch(N),ce.push(Ae),j&&(j(),j=null),!Y&&ce.length&&ce.length>=E&&await new v(Be=>{te=Be}))}ce.push(Q)}catch(Ae){let Be=P(Ae);M(Be,void 0,N),ce.push(Be)}finally{var _e;Y=!0,j&&(j(),j=null),x==null||(_e=x.signal)===null||_e===void 0||_e.removeEventListener("abort",D)}}H();try{for(;;){for(;ce.length>0;){let we=await ce[0];if(we===Q)return;if(ge.aborted)throw new n;we!==W&&(yield we),ce.shift(),te&&(te(),te=null)}await new v(we=>{j=we})}}finally{ee.abort(),Y=!0,te&&(te(),te=null)}}).call(this)}function $(he=void 0){return he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&i(he.signal,"options.signal"),(async function*(){let x=0;for await(let z of this){var E;if(he!=null&&(E=he.signal)!==null&&E!==void 0&&E.aborted)throw new n({cause:he.signal.reason});yield[x++,z]}}).call(this)}async function G(he,x=void 0){for await(let E of q.call(this,he,x))return!0;return!1}async function X(he,x=void 0){if(typeof he!="function")throw new h("fn",["Function","AsyncFunction"],he);return!await G.call(this,async(...E)=>!await he(...E),x)}async function be(he,x){for await(let E of q.call(this,he,x))return E}async function Z(he,x){if(typeof he!="function")throw new h("fn",["Function","AsyncFunction"],he);async function E(z,le){return await he(z,le),W}for await(let z of I.call(this,E,x));}function q(he,x){if(typeof he!="function")throw new h("fn",["Function","AsyncFunction"],he);async function E(z,le){return await he(z,le)?z:W}return I.call(this,E,x)}var me=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ie(he,x,E){var z;if(typeof he!="function")throw new h("reducer",["Function","AsyncFunction"],he);E!=null&&c(E,"options"),(E==null?void 0:E.signal)!=null&&i(E.signal,"options.signal");let le=arguments.length>1;if(E!=null&&(z=E.signal)!==null&&z!==void 0&&z.aborted){let C=new n(void 0,{cause:E.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(C)),C}let ee=new t,J=ee.signal;if(E!=null&&E.signal){let C={once:!0,[p]:this};E.signal.addEventListener("abort",()=>ee.abort(),C)}let ce=!1;try{for await(let C of this){var ge;if(ce=!0,E!=null&&(ge=E.signal)!==null&&ge!==void 0&&ge.aborted)throw new n;le?x=await he(x,C,{signal:J}):(x=C,le=!0)}if(!ce&&!le)throw new me}finally{ee.abort()}return x}async function ve(he){he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&i(he.signal,"options.signal");let x=[];for await(let z of this){var E;if(he!=null&&(E=he.signal)!==null&&E!==void 0&&E.aborted)throw new n(void 0,{cause:he.signal.reason});L(x,z)}return x}function S(he,x){let E=I.call(this,he,x);return(async function*(){for await(let z of E)yield*z}).call(this)}function K(he){if(he=k(he),U(he))return 0;if(he<0)throw new r("number",">= 0",he);return he}function fe(he,x=void 0){return x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),he=K(he),(async function*(){var E;if(x!=null&&(E=x.signal)!==null&&E!==void 0&&E.aborted)throw new n;for await(let le of this){var z;if(x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted)throw new n;he--<=0&&(yield le)}}).call(this)}function Ee(he,x=void 0){return x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),he=K(he),(async function*(){var E;if(x!=null&&(E=x.signal)!==null&&E!==void 0&&E.aborted)throw new n;for await(let le of this){var z;if(x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted)throw new n;if(he-- >0)yield le;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:$,drop:fe,filter:q,flatMap:S,map:I,take:Ee,compose:ae},o.exports.promiseReturningOperators={every:X,forEach:Z,reduce:ie,toArray:ve,some:G,find:be}}),Ho=ue((e,o)=>{ne(),se(),oe();var{ArrayPrototypePop:t,Promise:l}=Je(),{isIterable:h,isNodeStream:s,isWebStream:r}=kt(),{pipelineImpl:n}=bn(),{finished:i}=jt();zo();function a(...c){return new l((p,g)=>{let b,m,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!h(y)&&!r(y)){let T=t(c);b=T.signal,m=T.end}n(c,(T,L)=>{T?g(T):p(L)},{signal:b,end:m})})}o.exports={finished:i,pipeline:a}}),zo=ue((e,o)=>{ne(),se(),oe();var{Buffer:t}=(rt(),Ne(tt)),{ObjectDefineProperty:l,ObjectKeys:h,ReflectApply:s}=Je(),{promisify:{custom:r}}=Tt(),{streamReturningOperators:n,promiseReturningOperators:i}=il(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=nt(),c=Vo(),{pipeline:p}=bn(),{destroyer:g}=lr(),b=jt(),m=Ho(),y=kt(),T=o.exports=sn().Stream;T.isDisturbed=y.isDisturbed,T.isErrored=y.isErrored,T.isReadable=y.isReadable,T.Readable=Br();for(let O of h(n)){let k=function(...v){if(new.target)throw a();return T.Readable.from(s(U,this,v))},U=n[O];l(k,"name",{__proto__:null,value:U.name}),l(k,"length",{__proto__:null,value:U.length}),l(T.Readable.prototype,O,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(let O of h(i)){let k=function(...v){if(new.target)throw a();return s(U,this,v)},U=i[O];l(k,"name",{__proto__:null,value:U.name}),l(k,"length",{__proto__:null,value:U.length}),l(T.Readable.prototype,O,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}T.Writable=Wo(),T.Duplex=Rt(),T.Transform=$o(),T.PassThrough=qo(),T.pipeline=p;var{addAbortSignal:L}=kr();T.addAbortSignal=L,T.finished=b,T.destroy=g,T.compose=c,l(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),l(p,r,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),l(b,r,{__proto__:null,enumerable:!0,get(){return m.finished}}),T.Stream=T,T._isUint8Array=function(O){return O instanceof Uint8Array},T._uint8ArrayToBuffer=function(O){return t.from(O.buffer,O.byteOffset,O.byteLength)}}),Xt=ue((e,o)=>{ne(),se(),oe();var t=zo(),l=Ho(),h=t.Readable.destroy;o.exports=t.Readable,o.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,o.exports._isUint8Array=t._isUint8Array,o.exports.isDisturbed=t.isDisturbed,o.exports.isErrored=t.isErrored,o.exports.isReadable=t.isReadable,o.exports.Readable=t.Readable,o.exports.Writable=t.Writable,o.exports.Duplex=t.Duplex,o.exports.Transform=t.Transform,o.exports.PassThrough=t.PassThrough,o.exports.addAbortSignal=t.addAbortSignal,o.exports.finished=t.finished,o.exports.destroy=t.destroy,o.exports.destroy=h,o.exports.pipeline=t.pipeline,o.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return l}}),o.exports.Stream=t.Stream,o.exports.default=o.exports}),nl=ue((e,o)=>{ne(),se(),oe(),typeof Object.create=="function"?o.exports=function(t,l){l&&(t.super_=l,t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(t,l){if(l){t.super_=l;var h=function(){};h.prototype=l.prototype,t.prototype=new h,t.prototype.constructor=t}}}),ol=ue((e,o)=>{ne(),se(),oe();var{Buffer:t}=(rt(),Ne(tt)),l=Symbol.for("BufferList");function h(s){if(!(this instanceof h))return new h(s);h._init.call(this,s)}h._init=function(s){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},h.prototype._new=function(s){return new h(s)},h.prototype._offset=function(s){if(s===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(s<i||n===this._bufs.length-1)return[n,s-r];r=i}},h.prototype._reverseOffset=function(s){let r=s[0],n=s[1];for(let i=0;i<r;i++)n+=this._bufs[i].length;return n},h.prototype.get=function(s){if(s>this.length||s<0)return;let r=this._offset(s);return this._bufs[r[0]][r[1]]},h.prototype.slice=function(s,r){return typeof s=="number"&&s<0&&(s+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,s,r)},h.prototype.copy=function(s,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return s||t.alloc(0);let a=!!s,c=this._offset(n),p=i-n,g=p,b=a&&r||0,m=c[1];if(n===0&&i===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,b),b+=this._bufs[y].length;return s}if(g<=this._bufs[c[0]].length-m)return a?this._bufs[c[0]].copy(s,r,m,m+g):this._bufs[c[0]].slice(m,m+g);a||(s=t.allocUnsafe(p));for(let y=c[0];y<this._bufs.length;y++){let T=this._bufs[y].length-m;if(g>T)this._bufs[y].copy(s,b,m),b+=T;else{this._bufs[y].copy(s,b,m,m+g),b+=T;break}g-=T,m&&(m=0)}return s.length>b?s.slice(0,b):s},h.prototype.shallowSlice=function(s,r){if(s=s||0,r=typeof r!="number"?this.length:r,s<0&&(s+=this.length),r<0&&(r+=this.length),s===r)return this._new();let n=this._offset(s),i=this._offset(r),a=this._bufs.slice(n[0],i[0]+1);return i[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),n[1]!==0&&(a[0]=a[0].slice(n[1])),this._new(a)},h.prototype.toString=function(s,r,n){return this.slice(r,n).toString(s)},h.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},h.prototype.duplicate=function(){let s=this._new();for(let r=0;r<this._bufs.length;r++)s.append(this._bufs[r]);return s},h.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let r=0;r<s.length;r++)this.append(s[r]);else if(this._isBufferList(s))for(let r=0;r<s._bufs.length;r++)this.append(s._bufs[r]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(t.from(s));return this},h.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},h.prototype.indexOf=function(s,r,n){if(n===void 0&&typeof r=="string"&&(n=r,r=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=t.from([s]):typeof s=="string"?s=t.from(s,n):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=t.from(s.buffer,s.byteOffset,s.byteLength):t.isBuffer(s)||(s=t.from(s)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),s.length===0)return r>this.length?this.length:r;let i=this._offset(r),a=i[0],c=i[1];for(;a<this._bufs.length;a++){let p=this._bufs[a];for(;c<p.length;)if(p.length-c>=s.length){let g=p.indexOf(s,c);if(g!==-1)return this._reverseOffset([a,g]);c=p.length-s.length+1}else{let g=this._reverseOffset([a,c]);if(this._match(g,s))return g;c++}c=0}return-1},h.prototype._match=function(s,r){if(this.length-s<r.length)return!1;for(let n=0;n<r.length;n++)if(this.get(s+n)!==r[n])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in s)(function(n){s[n]===null?h.prototype[n]=function(i,a){return this.slice(i,i+a)[n](0,a)}:h.prototype[n]=function(i=0){return this.slice(i,i+s[n])[n](0)}})(r)}(),h.prototype._isBufferList=function(s){return s instanceof h||h.isBufferList(s)},h.isBufferList=function(s){return s!=null&&s[l]},o.exports=h}),sl=ue((e,o)=>{ne(),se(),oe();var t=Xt().Duplex,l=nl(),h=ol();function s(r){if(!(this instanceof s))return new s(r);if(typeof r=="function"){this._callback=r;let n=(function(i){this._callback&&(this._callback(i),this._callback=null)}).bind(this);this.on("pipe",function(i){i.on("error",n)}),this.on("unpipe",function(i){i.removeListener("error",n)}),r=null}h._init.call(this,r),t.call(this)}l(s,t),Object.assign(s.prototype,h.prototype),s.prototype._new=function(r){return new s(r)},s.prototype._write=function(r,n,i){this._appendBuffer(r),typeof i=="function"&&i()},s.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},s.prototype.end=function(r){t.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(r,n){this._bufs.length=0,this.length=0,n(r)},s.prototype._isBufferList=function(r){return r instanceof s||r instanceof h||s.isBufferList(r)},s.isBufferList=h.isBufferList,o.exports=s,o.exports.BufferListStream=s,o.exports.BufferList=h}),al=ue((e,o)=>{ne(),se(),oe();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=t}),Ko=ue((e,o)=>{ne(),se(),oe();var t=o.exports,{Buffer:l}=(rt(),Ne(tt));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let s in t.requiredHeaderFlags){let r=t.requiredHeaderFlags[s];t.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+t.types[s]+" packet"}t.codes={};for(let s in t.types){let r=t.types[s];t.codes[r]=s}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=l.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=l.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=l.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let s in t.properties){let r=t.properties[s];t.propertiesCodes[r]=s}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function h(s){return[0,1,2].map(r=>[0,1].map(n=>[0,1].map(i=>{let a=l.alloc(1);return a.writeUInt8(t.codes[s]<<t.CMD_SHIFT|(n?t.DUP_MASK:0)|r<<t.QOS_SHIFT|i,0,!0),a})))}t.PUBLISH_HEADER=h("publish"),t.SUBSCRIBE_HEADER=h("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=h("unsubscribe"),t.ACKS={unsuback:h("unsuback"),puback:h("puback"),pubcomp:h("pubcomp"),pubrel:h("pubrel"),pubrec:h("pubrec")},t.SUBACK_HEADER=l.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=l.from([3]),t.VERSION4=l.from([4]),t.VERSION5=l.from([5]),t.VERSION131=l.from([131]),t.VERSION132=l.from([132]),t.QOS=[0,1,2].map(s=>l.from([s])),t.EMPTY={pingreq:l.from([t.codes.pingreq<<4,0]),pingresp:l.from([t.codes.pingresp<<4,0]),disconnect:l.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ll=ue((e,o)=>{ne(),se(),oe();var t=1e3,l=t*60,h=l*60,s=h*24,r=s*7,n=s*365.25;o.exports=function(g,b){b=b||{};var m=typeof g;if(m==="string"&&g.length>0)return i(g);if(m==="number"&&isFinite(g))return b.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function i(g){if(g=String(g),!(g.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(b){var m=parseFloat(b[1]),y=(b[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*n;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*s;case"hours":case"hour":case"hrs":case"hr":case"h":return m*h;case"minutes":case"minute":case"mins":case"min":case"m":return m*l;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function a(g){var b=Math.abs(g);return b>=s?Math.round(g/s)+"d":b>=h?Math.round(g/h)+"h":b>=l?Math.round(g/l)+"m":b>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var b=Math.abs(g);return b>=s?p(g,b,s,"day"):b>=h?p(g,b,h,"hour"):b>=l?p(g,b,l,"minute"):b>=t?p(g,b,t,"second"):g+" ms"}function p(g,b,m,y){var T=b>=m*1.5;return Math.round(g/m)+" "+y+(T?"s":"")}}),ul=ue((e,o)=>{ne(),se(),oe();function t(l){s.debug=s,s.default=s,s.coerce=p,s.disable=i,s.enable=n,s.enabled=a,s.humanize=ll(),s.destroy=g,Object.keys(l).forEach(b=>{s[b]=l[b]}),s.names=[],s.skips=[],s.formatters={};function h(b){let m=0;for(let y=0;y<b.length;y++)m=(m<<5)-m+b.charCodeAt(y),m|=0;return s.colors[Math.abs(m)%s.colors.length]}s.selectColor=h;function s(b){let m,y=null,T,L;function O(...k){if(!O.enabled)return;let U=O,v=Number(new Date),P=v-(m||v);U.diff=P,U.prev=m,U.curr=v,m=v,k[0]=s.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let M=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";M++;let Q=s.formatters[W];if(typeof Q=="function"){let ae=k[M];F=Q.call(U,ae),k.splice(M,1),M--}return F}),s.formatArgs.call(U,k),(U.log||s.log).apply(U,k)}return O.namespace=b,O.useColors=s.useColors(),O.color=s.selectColor(b),O.extend=r,O.destroy=s.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(T!==s.namespaces&&(T=s.namespaces,L=s.enabled(b)),L),set:k=>{y=k}}),typeof s.init=="function"&&s.init(O),O}function r(b,m){let y=s(this.namespace+(typeof m>"u"?":":m)+b);return y.log=this.log,y}function n(b){s.save(b),s.namespaces=b,s.names=[],s.skips=[];let m,y=(typeof b=="string"?b:"").split(/[\s,]+/),T=y.length;for(m=0;m<T;m++)y[m]&&(b=y[m].replace(/\*/g,".*?"),b[0]==="-"?s.skips.push(new RegExp("^"+b.slice(1)+"$")):s.names.push(new RegExp("^"+b+"$")))}function i(){let b=[...s.names.map(c),...s.skips.map(c).map(m=>"-"+m)].join(",");return s.enable(""),b}function a(b){if(b[b.length-1]==="*")return!0;let m,y;for(m=0,y=s.skips.length;m<y;m++)if(s.skips[m].test(b))return!1;for(m=0,y=s.names.length;m<y;m++)if(s.names[m].test(b))return!0;return!1}function c(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function p(b){return b instanceof Error?b.stack||b.message:b}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}o.exports=t}),Pt=ue((e,o)=>{ne(),se(),oe(),e.formatArgs=l,e.save=h,e.load=s,e.useColors=t,e.storage=r(),e.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;i.splice(1,0,a,"color: inherit");let c=0,p=0;i[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(c++,g==="%c"&&(p=c))}),i.splice(p,0,a)}e.log=console.debug||console.log||(()=>{});function h(i){try{i?e.storage.setItem("debug",i):e.storage.removeItem("debug")}catch{}}function s(){let i;try{i=e.storage.getItem("debug")}catch{}return!i&&typeof Ge<"u"&&"env"in Ge&&(i=Ge.env.DEBUG),i}function r(){try{return localStorage}catch{}}o.exports=ul()(e);var{formatters:n}=o.exports;n.j=function(i){try{return JSON.stringify(i)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),hl=ue((e,o)=>{ne(),se(),oe();var t=sl(),{EventEmitter:l}=(ur(),Ne(Kt)),h=al(),s=Ko(),r=Pt()("mqtt-packet:parser"),n=class Nn extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof Nn?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Nn().parser(a)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new h,this.error=null,this._list=t(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),c=a>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let p=a&15,g=s.requiredHeaderFlags[c];return g!=null&&p!==g?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(a&s.RETAIN_MASK)!==0,this.packet.qos=a>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&s.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),r("_parseLength %d",a.value),!!a}_parsePayload(){r("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return r("_parsePayload complete result: %s",a),a}_parseConnect(){r("_parseConnect");let a,c,p,g,b={},m=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(m.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(m.protocolVersion=this._list.readUInt8(this._pos),m.protocolVersion>=128&&(m.bridgeMode=!0,m.protocolVersion=m.protocolVersion-128),m.protocolVersion!==3&&m.protocolVersion!==4&&m.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let T=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),L=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(b.will)m.will={},m.will.retain=T,m.will.qos=L;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(L)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(m.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,m.keepalive=this._parseNum(),m.keepalive===-1)return this._emitError(new Error("Packet too short"));if(m.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(m.properties=k)}let O=this._parseString();if(O===null)return this._emitError(new Error("Packet too short"));if(m.clientId=O,r("_parseConnect: packet.clientId: %s",m.clientId),b.will){if(m.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(m.will.properties=k)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(m.will.topic=a,r("_parseConnect: packet.will.topic: %s",m.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));m.will.payload=c,r("_parseConnect: packet.will.paylaod: %s",m.will.payload)}if(b.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));m.username=g,r("_parseConnect: packet.username: %s",m.username)}if(b.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));m.password=p}return this.settings=m,r("_parseConnect: complete"),m}_parseConnack(){r("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}a.payload=this._list.slice(this._pos,a.length),r("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){r("_parseSubscribe");let a=this.packet,c,p,g,b,m,y,T;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(a.properties=L)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=p&s.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(p>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,m=(p>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=p>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:c,qos:g},this.settings.protocolVersion===5?(T.nl=y,T.rap=m,T.rh=b):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",T),a.subscriptions.push(T)}}}_parseSuback(){r("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),a.unsubscriptions.push(c)}}}_parseUnsuback(){r("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(a.properties=c),a.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}}return!0}_parseDisconnect(){let a=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(a.properties=c),r("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let c=this._parseNum(),p=c+this._pos;if(c===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,p);return this._pos+=c,r("_parseString: result: %s",g),g}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),c=a+this._pos;if(a===-1||c>this._list.length||c>this.packet.length)return null;let p=this._list.slice(this._pos,c);return this._pos+=a,r("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){r("_parseVarByteNum");let c=4,p=0,g=1,b=0,m=!1,y,T=this._pos?this._pos:0;for(;p<c&&T+p<this._list.length;){if(y=this._list.readUInt8(T+p++),b+=g*(y&s.VARBYTEINT_MASK),g*=128,!(y&s.VARBYTEINT_FIN_MASK)){m=!0;break}if(this._list.length<=p)break}return!m&&p===c&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=p),m?a?m={bytes:p,value:b}:m=b:m=!1,r("_parseVarByteNum: result: %o",m),m}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",a),a}_parseByType(a){switch(r("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let a=this._parseVarByteNum(),c=this._pos+a,p={};for(;this._pos<c;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let b=s.propertiesCodes[g];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){p[b]||(p[b]=Object.create(null));let m=this._parseByType(s.propertiesTypes[b]);if(p[b][m.name])if(Array.isArray(p[b][m.name]))p[b][m.name].push(m.value);else{let y=p[b][m.name];p[b][m.name]=[y],p[b][m.name].push(m.value)}else p[b][m.name]=m.value;continue}p[b]?Array.isArray(p[b])?p[b].push(this._parseByType(s.propertiesTypes[b])):(p[b]=[p[b]],p[b].push(this._parseByType(s.propertiesTypes[b]))):p[b]=this._parseByType(s.propertiesTypes[b])}return p}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new h,this._pos=0,!0}_emitError(a){r("_emitError",a),this.error=a,this.emit("error",a)}};o.exports=n}),cl=ue((e,o)=>{ne(),se(),oe();var{Buffer:t}=(rt(),Ne(tt)),l=65536,h={},s=t.isBuffer(t.from([1,2]).subarray(0,1));function r(c){let p=t.allocUnsafe(2);return p.writeUInt8(c>>8,0),p.writeUInt8(c&255,0+1),p}function n(){for(let c=0;c<l;c++)h[c]=r(c)}function i(c){let p=0,g=0,b=t.allocUnsafe(4);do p=c%128|0,c=c/128|0,c>0&&(p=p|128),b.writeUInt8(p,g++);while(c>0&&g<4);return c>0&&(g=0),s?b.subarray(0,g):b.slice(0,g)}function a(c){let p=t.allocUnsafe(4);return p.writeUInt32BE(c,0),p}o.exports={cache:h,generateCache:n,generateNumber:r,genBufVariableByteInt:i,generate4ByteBuffer:a}}),fl=ue((e,o)=>{ne(),se(),oe(),typeof Ge>"u"||!Ge.version||Ge.version.indexOf("v0.")===0||Ge.version.indexOf("v1.")===0&&Ge.version.indexOf("v1.8.")!==0?o.exports={nextTick:t}:o.exports=Ge;function t(l,h,s,r){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,i,a;switch(n){case 0:case 1:return Ge.nextTick(l);case 2:return Ge.nextTick(function(){l.call(null,h)});case 3:return Ge.nextTick(function(){l.call(null,h,s)});case 4:return Ge.nextTick(function(){l.call(null,h,s,r)});default:for(i=new Array(n-1),a=0;a<i.length;)i[a++]=arguments[a];return Ge.nextTick(function(){l.apply(null,i)})}}}),Go=ue((e,o)=>{ne(),se(),oe();var t=Ko(),{Buffer:l}=(rt(),Ne(tt)),h=l.allocUnsafe(0),s=l.from([0]),r=cl(),n=fl().nextTick,i=Pt()("mqtt-packet:writeToStream"),a=r.cache,c=r.generateNumber,p=r.generateCache,g=r.genBufVariableByteInt,b=r.generate4ByteBuffer,m=Z,y=!0;function T(x,E,z){switch(i("generate called"),E.cork&&(E.cork(),n(L,E)),y&&(y=!1,p()),i("generate: packet.cmd: %s",x.cmd),x.cmd){case"connect":return O(x,E);case"connack":return k(x,E,z);case"publish":return U(x,E,z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(x,E,z);case"subscribe":return P(x,E,z);case"suback":return M(x,E,z);case"unsubscribe":return F(x,E,z);case"unsuback":return W(x,E,z);case"pingreq":case"pingresp":return Q(x,E);case"disconnect":return ae(x,E,z);case"auth":return I(x,E,z);default:return E.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return m===Z},set(x){x?((!a||Object.keys(a).length===0)&&(y=!0),m=Z):(y=!1,m=q)}});function L(x){x.uncork()}function O(x,E,z){let le=x||{},ee=le.protocolId||"MQTT",J=le.protocolVersion||4,ce=le.will,ge=le.clean,C=le.keepalive||0,D=le.clientId||"",j=le.username,te=le.password,Y=le.properties;ge===void 0&&(ge=!0);let N=0;if(!ee||typeof ee!="string"&&!l.isBuffer(ee))return E.destroy(new Error("Invalid protocolId")),!1;if(N+=ee.length+2,J!==3&&J!==4&&J!==5)return E.destroy(new Error("Invalid protocol version")),!1;if(N+=1,(typeof D=="string"||l.isBuffer(D))&&(D||J>=4)&&(D||ge))N+=l.byteLength(D)+2;else{if(J<4)return E.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ge*1===0)return E.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof C!="number"||C<0||C>65535||C%1!==0)return E.destroy(new Error("Invalid keepalive")),!1;N+=2,N+=1;let H,we;if(J===5){if(H=ve(E,Y),!H)return!1;N+=H.length}if(ce){if(typeof ce!="object")return E.destroy(new Error("Invalid will")),!1;if(!ce.topic||typeof ce.topic!="string")return E.destroy(new Error("Invalid will topic")),!1;if(N+=l.byteLength(ce.topic)+2,N+=2,ce.payload)if(ce.payload.length>=0)typeof ce.payload=="string"?N+=l.byteLength(ce.payload):N+=ce.payload.length;else return E.destroy(new Error("Invalid will payload")),!1;if(we={},J===5){if(we=ve(E,ce.properties),!we)return!1;N+=we.length}}let _e=!1;if(j!=null)if(he(j))_e=!0,N+=l.byteLength(j)+2;else return E.destroy(new Error("Invalid username")),!1;if(te!=null){if(!_e)return E.destroy(new Error("Username is required to use password")),!1;if(he(te))N+=Ee(te)+2;else return E.destroy(new Error("Invalid password")),!1}E.write(t.CONNECT_HEADER),G(E,N),ie(E,ee),le.bridgeMode&&(J+=128),E.write(J===131?t.VERSION131:J===132?t.VERSION132:J===4?t.VERSION4:J===5?t.VERSION5:t.VERSION3);let Ae=0;return Ae|=j!=null?t.USERNAME_MASK:0,Ae|=te!=null?t.PASSWORD_MASK:0,Ae|=ce&&ce.retain?t.WILL_RETAIN_MASK:0,Ae|=ce&&ce.qos?ce.qos<<t.WILL_QOS_SHIFT:0,Ae|=ce?t.WILL_FLAG_MASK:0,Ae|=ge?t.CLEAN_SESSION_MASK:0,E.write(l.from([Ae])),m(E,C),J===5&&H.write(),ie(E,D),ce&&(J===5&&we.write(),X(E,ce.topic),ie(E,ce.payload)),j!=null&&ie(E,j),te!=null&&ie(E,te),!0}function k(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=le===5?ee.reasonCode:ee.returnCode,ce=ee.properties,ge=2;if(typeof J!="number")return E.destroy(new Error("Invalid return code")),!1;let C=null;if(le===5){if(C=ve(E,ce),!C)return!1;ge+=C.length}return E.write(t.CONNACK_HEADER),G(E,ge),E.write(ee.sessionPresent?t.SESSIONPRESENT_HEADER:s),E.write(l.from([J])),C==null||C.write(),!0}function U(x,E,z){i("publish: packet: %o",x);let le=z?z.protocolVersion:4,ee=x||{},J=ee.qos||0,ce=ee.retain?t.RETAIN_MASK:0,ge=ee.topic,C=ee.payload||h,D=ee.messageId,j=ee.properties,te=0;if(typeof ge=="string")te+=l.byteLength(ge)+2;else if(l.isBuffer(ge))te+=ge.length+2;else return E.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(C)?te+=C.length:te+=l.byteLength(C),J&&typeof D!="number")return E.destroy(new Error("Invalid messageId")),!1;J&&(te+=2);let Y=null;if(le===5){if(Y=ve(E,j),!Y)return!1;te+=Y.length}return E.write(t.PUBLISH_HEADER[J][ee.dup?1:0][ce?1:0]),G(E,te),m(E,Ee(ge)),E.write(ge),J>0&&m(E,D),Y==null||Y.write(),i("publish: payload: %o",C),E.write(C)}function v(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.cmd||"puback",ce=ee.messageId,ge=ee.dup&&J==="pubrel"?t.DUP_MASK:0,C=0,D=ee.reasonCode,j=ee.properties,te=le===5?3:2;if(J==="pubrel"&&(C=1),typeof ce!="number")return E.destroy(new Error("Invalid messageId")),!1;let Y=null;if(le===5&&typeof j=="object"){if(Y=S(E,j,z,te),!Y)return!1;te+=Y.length}return E.write(t.ACKS[J][C][ge][0]),te===3&&(te+=D!==0?1:-1),G(E,te),m(E,ce),le===5&&te!==2&&E.write(l.from([D])),Y!==null?Y.write():te===4&&E.write(l.from([0])),!0}function P(x,E,z){i("subscribe: packet: ");let le=z?z.protocolVersion:4,ee=x||{},J=ee.dup?t.DUP_MASK:0,ce=ee.messageId,ge=ee.subscriptions,C=ee.properties,D=0;if(typeof ce!="number")return E.destroy(new Error("Invalid messageId")),!1;D+=2;let j=null;if(le===5){if(j=ve(E,C),!j)return!1;D+=j.length}if(typeof ge=="object"&&ge.length)for(let Y=0;Y<ge.length;Y+=1){let N=ge[Y].topic,H=ge[Y].qos;if(typeof N!="string")return E.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof H!="number")return E.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(le===5){if(typeof(ge[Y].nl||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ge[Y].rap||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let we=ge[Y].rh||0;if(typeof we!="number"||we>2)return E.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=l.byteLength(N)+2+1}else return E.destroy(new Error("Invalid subscriptions")),!1;i("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),E.write(t.SUBSCRIBE_HEADER[1][J?1:0][0]),G(E,D),m(E,ce),j!==null&&j.write();let te=!0;for(let Y of ge){let N=Y.topic,H=Y.qos,we=+Y.nl,_e=+Y.rap,Ae=Y.rh,Be;X(E,N),Be=t.SUBSCRIBE_OPTIONS_QOS[H],le===5&&(Be|=we?t.SUBSCRIBE_OPTIONS_NL:0,Be|=_e?t.SUBSCRIBE_OPTIONS_RAP:0,Be|=Ae?t.SUBSCRIBE_OPTIONS_RH[Ae]:0),te=E.write(l.from([Be]))}return te}function M(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,ce=ee.granted,ge=ee.properties,C=0;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(C+=2,typeof ce=="object"&&ce.length)for(let j=0;j<ce.length;j+=1){if(typeof ce[j]!="number")return E.destroy(new Error("Invalid qos vector")),!1;C+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let D=null;if(le===5){if(D=S(E,ge,z,C),!D)return!1;C+=D.length}return E.write(t.SUBACK_HEADER),G(E,C),m(E,J),D!==null&&D.write(),E.write(l.from(ce))}function F(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,ce=ee.dup?t.DUP_MASK:0,ge=ee.unsubscriptions,C=ee.properties,D=0;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof ge=="object"&&ge.length)for(let Y=0;Y<ge.length;Y+=1){if(typeof ge[Y]!="string")return E.destroy(new Error("Invalid unsubscriptions")),!1;D+=l.byteLength(ge[Y])+2}else return E.destroy(new Error("Invalid unsubscriptions")),!1;let j=null;if(le===5){if(j=ve(E,C),!j)return!1;D+=j.length}E.write(t.UNSUBSCRIBE_HEADER[1][ce?1:0][0]),G(E,D),m(E,J),j!==null&&j.write();let te=!0;for(let Y=0;Y<ge.length;Y++)te=X(E,ge[Y]);return te}function W(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,ce=ee.dup?t.DUP_MASK:0,ge=ee.granted,C=ee.properties,D=ee.cmd,j=0,te=2;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(le===5)if(typeof ge=="object"&&ge.length)for(let N=0;N<ge.length;N+=1){if(typeof ge[N]!="number")return E.destroy(new Error("Invalid qos vector")),!1;te+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let Y=null;if(le===5){if(Y=S(E,C,z,te),!Y)return!1;te+=Y.length}return E.write(t.ACKS[D][j][ce][0]),G(E,te),m(E,J),Y!==null&&Y.write(),le===5&&E.write(l.from(ge)),!0}function Q(x,E,z){return E.write(t.EMPTY[x.cmd])}function ae(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.reasonCode,ce=ee.properties,ge=le===5?1:0,C=null;if(le===5){if(C=S(E,ce,z,ge),!C)return!1;ge+=C.length}return E.write(l.from([t.codes.disconnect<<4])),G(E,ge),le===5&&E.write(l.from([J])),C!==null&&C.write(),!0}function I(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.reasonCode,ce=ee.properties,ge=le===5?1:0;le!==5&&E.destroy(new Error("Invalid mqtt version for auth packet"));let C=S(E,ce,z,ge);return C?(ge+=C.length,E.write(l.from([t.codes.auth<<4])),G(E,ge),E.write(l.from([J])),C!==null&&C.write(),!0):!1}var $={};function G(x,E){if(E>t.VARBYTEINT_MAX)return x.destroy(new Error(`Invalid variable byte integer: ${E}`)),!1;let z=$[E];return z||(z=g(E),E<16384&&($[E]=z)),i("writeVarByteInt: writing to stream: %o",z),x.write(z)}function X(x,E){let z=l.byteLength(E);return m(x,z),i("writeString: %s",E),x.write(E,"utf8")}function be(x,E,z){X(x,E),X(x,z)}function Z(x,E){return i("writeNumberCached: number: %d",E),i("writeNumberCached: %o",a[E]),x.write(a[E])}function q(x,E){let z=c(E);return i("writeNumberGenerated: %o",z),x.write(z)}function me(x,E){let z=b(E);return i("write4ByteNumber: %o",z),x.write(z)}function ie(x,E){typeof E=="string"?X(x,E):E?(m(x,E.length),x.write(E)):m(x,0)}function ve(x,E){if(typeof E!="object"||E.length!=null)return{length:1,write(){fe(x,{},0)}};let z=0;function le(ee,J){let ce=t.propertiesTypes[ee],ge=0;switch(ce){case"byte":{if(typeof J!="boolean")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+1;break}case"int8":{if(typeof J!="number"||J<0||J>255)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+1;break}case"binary":{if(J&&J===null)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+l.byteLength(J)+2;break}case"int16":{if(typeof J!="number"||J<0||J>65535)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+2;break}case"int32":{if(typeof J!="number"||J<0||J>4294967295)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+4;break}case"var":{if(typeof J!="number"||J<0||J>268435455)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+l.byteLength(g(J));break}case"string":{if(typeof J!="string")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=1+2+l.byteLength(J.toString());break}case"pair":{if(typeof J!="object")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;ge+=Object.getOwnPropertyNames(J).reduce((C,D)=>{let j=J[D];return Array.isArray(j)?C+=j.reduce((te,Y)=>(te+=1+2+l.byteLength(D.toString())+2+l.byteLength(Y.toString()),te),0):C+=1+2+l.byteLength(D.toString())+2+l.byteLength(J[D].toString()),C},0);break}default:return x.destroy(new Error(`Invalid property ${ee}: ${J}`)),!1}return ge}if(E)for(let ee in E){let J=0,ce=0,ge=E[ee];if(Array.isArray(ge))for(let C=0;C<ge.length;C++){if(ce=le(ee,ge[C]),!ce)return!1;J+=ce}else{if(ce=le(ee,ge),!ce)return!1;J=ce}if(!J)return!1;z+=J}return{length:l.byteLength(g(z))+z,write(){fe(x,E,z)}}}function S(x,E,z,le){let ee=["reasonString","userProperties"],J=z&&z.properties&&z.properties.maximumPacketSize?z.properties.maximumPacketSize:0,ce=ve(x,E);if(J)for(;le+ce.length>J;){let ge=ee.shift();if(ge&&E[ge])delete E[ge],ce=ve(x,E);else return!1}return ce}function K(x,E,z){switch(t.propertiesTypes[E]){case"byte":{x.write(l.from([t.properties[E]])),x.write(l.from([+z]));break}case"int8":{x.write(l.from([t.properties[E]])),x.write(l.from([z]));break}case"binary":{x.write(l.from([t.properties[E]])),ie(x,z);break}case"int16":{x.write(l.from([t.properties[E]])),m(x,z);break}case"int32":{x.write(l.from([t.properties[E]])),me(x,z);break}case"var":{x.write(l.from([t.properties[E]])),G(x,z);break}case"string":{x.write(l.from([t.properties[E]])),X(x,z);break}case"pair":{Object.getOwnPropertyNames(z).forEach(le=>{let ee=z[le];Array.isArray(ee)?ee.forEach(J=>{x.write(l.from([t.properties[E]])),be(x,le.toString(),J.toString())}):(x.write(l.from([t.properties[E]])),be(x,le.toString(),ee.toString()))});break}default:return x.destroy(new Error(`Invalid property ${E} value: ${z}`)),!1}}function fe(x,E,z){G(x,z);for(let le in E)if(Object.prototype.hasOwnProperty.call(E,le)&&E[le]!==null){let ee=E[le];if(Array.isArray(ee))for(let J=0;J<ee.length;J++)K(x,le,ee[J]);else K(x,le,ee)}}function Ee(x){return x?x instanceof l?x.length:l.byteLength(x):0}function he(x){return typeof x=="string"||x instanceof l}o.exports=T}),dl=ue((e,o)=>{ne(),se(),oe();var t=Go(),{EventEmitter:l}=(ur(),Ne(Kt)),{Buffer:h}=(rt(),Ne(tt));function s(n,i){let a=new r;return t(n,a,i),a.concat()}var r=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(n){return this._array[this._i++]=n,!0}concat(){let n=0,i=new Array(this._array.length),a=this._array,c=0,p;for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?i[p]=a[p].length:i[p]=h.byteLength(a[p]),n+=i[p];let g=h.allocUnsafe(n);for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?(a[p].copy(g,c),c+=i[p]):(g.write(a[p],c),c+=i[p]);return g}destroy(n){n&&this.emit("error",n)}};o.exports=s}),pl=ue(e=>{ne(),se(),oe(),e.parser=hl().parser,e.generate=dl(),e.writeToStream=Go()}),Yo=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};e.default=o}),gl=ue((e,o)=>{ne(),se(),oe(),o.exports=l;function t(s){return s instanceof ar?ar.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function l(s){if(s=s||{},s.circles)return h(s);return s.proto?i:n;function r(a,c){for(var p=Object.keys(a),g=new Array(p.length),b=0;b<p.length;b++){var m=p[b],y=a[m];typeof y!="object"||y===null?g[m]=y:y instanceof Date?g[m]=new Date(y):ArrayBuffer.isView(y)?g[m]=t(y):g[m]=c(y)}return g}function n(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,n);if(a instanceof Map)return new Map(r(Array.from(a),n));if(a instanceof Set)return new Set(r(Array.from(a),n));var c={};for(var p in a)if(Object.hasOwnProperty.call(a,p)!==!1){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),n)):g instanceof Set?c[p]=new Set(r(Array.from(g),n)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=n(g)}return c}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,i);if(a instanceof Map)return new Map(r(Array.from(a),i));if(a instanceof Set)return new Set(r(Array.from(a),i));var c={};for(var p in a){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),i)):g instanceof Set?c[p]=new Set(r(Array.from(g),i)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=i(g)}return c}}function h(s){var r=[],n=[];return s.proto?c:a;function i(p,g){for(var b=Object.keys(p),m=new Array(b.length),y=0;y<b.length;y++){var T=b[y],L=p[T];if(typeof L!="object"||L===null)m[T]=L;else if(L instanceof Date)m[T]=new Date(L);else if(ArrayBuffer.isView(L))m[T]=t(L);else{var O=r.indexOf(L);O!==-1?m[T]=n[O]:m[T]=g(L)}}return m}function a(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return i(p,a);if(p instanceof Map)return new Map(i(Array.from(p),a));if(p instanceof Set)return new Set(i(Array.from(p),a));var g={};r.push(p),n.push(g);for(var b in p)if(Object.hasOwnProperty.call(p,b)!==!1){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(i(Array.from(m),a));else if(m instanceof Set)g[b]=new Set(i(Array.from(m),a));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=n[y]:g[b]=a(m)}}return r.pop(),n.pop(),g}function c(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return i(p,c);if(p instanceof Map)return new Map(i(Array.from(p),c));if(p instanceof Set)return new Set(i(Array.from(p),c));var g={};r.push(p),n.push(g);for(var b in p){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(i(Array.from(m),c));else if(m instanceof Set)g[b]=new Set(i(Array.from(m),c));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=n[y]:g[b]=c(m)}}return r.pop(),n.pop(),g}}}),bl=ue((e,o)=>{ne(),se(),oe(),o.exports=gl()()}),ml=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function o(l){let h=l.split("/");for(let s=0;s<h.length;s++)if(h[s]!=="+"){if(h[s]==="#")return s===h.length-1;if(h[s].indexOf("+")!==-1||h[s].indexOf("#")!==-1)return!1}return!0}e.validateTopic=o;function t(l){if(l.length===0)return"empty_topic_list";for(let h=0;h<l.length;h++)if(!o(l[h]))return l[h];return null}e.validateTopics=t}),Qo=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=Xt(),t={objectMode:!0},l={clean:!0},h=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},l),s),this._inflights=new Map}put(s,r){return this._inflights.set(s.messageId,s),r&&r(),this}createStream(){let s=new o.Readable(t),r=[],n=!1,i=0;return this._inflights.forEach((a,c)=>{r.push(a)}),s._read=()=>{!n&&i<r.length?s.push(r[i++]):s.push(null)},s.destroy=a=>{if(!n)return n=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,r){let n=this._inflights.get(s.messageId);return n?(this._inflights.delete(s.messageId),r(null,n)):r&&r(new Error("missing packet")),this}get(s,r){let n=this._inflights.get(s.messageId);return n?r(null,n):r&&r(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=h}),yl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],t=(l,h,s)=>{l.log("handlePublish: packet %o",h),s=typeof s<"u"?s:l.noop;let r=h.topic.toString(),n=h.payload,{qos:i}=h,{messageId:a}=h,{options:c}=l;if(l.options.protocolVersion===5){let p;if(h.properties&&(p=h.properties.topicAlias),typeof p<"u")if(r.length===0)if(p>0&&p<=65535){let g=l.topicAliasRecv.getTopicByAlias(p);if(g)r=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,p);else{l.log("handlePublish :: unregistered topic alias. alias: %d",p),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(r,p))l.log("handlePublish :: registered topic: %s - alias: %d",r,p);else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",i),i){case 2:{c.customHandleAcks(r,n,h,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(o.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:g},s):l.incomingStore.put(h,()=>{l._sendPacket({cmd:"pubrec",messageId:a},s)})});break}case 1:{c.customHandleAcks(r,n,h,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(o.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",r,n,h),l.handleMessage(h,b=>{if(b)return s&&s(b);l._sendPacket({cmd:"puback",messageId:a,reasonCode:g},s)})});break}case 0:l.emit("message",r,n,h),l.handleMessage(h,s);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=t}),wr=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var o=class da extends Error{constructor(h,s){super(h),this.code=s,Object.setPrototypeOf(this,da.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=o;function t(l,h,s=!1){var r;let n=[h];for(;;){let i=n[0],a=Object.getPrototypeOf(i);if(a!=null&&a.prototype)n.unshift(a);else break}for(let i of n)for(let a of Object.getOwnPropertyNames(i.prototype))(s||a!=="constructor")&&Object.defineProperty(l.prototype,a,(r=Object.getOwnPropertyDescriptor(i.prototype,a))!==null&&r!==void 0?r:Object.create(null))}e.applyMixin=t,e.nextTick=Ge?Ge.nextTick:l=>{setTimeout(l,0)}}),xr=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0,e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var o=(t,l)=>{let{messageId:h}=l,s=l.cmd,r=null,n=t.outgoing[h]?t.outgoing[h].cb:null,i;if(!n){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(h,()=>{n(i,l)})):t._removeOutgoingAndStoreMessage(h,n);break}case"pubrec":{r={cmd:"pubrel",qos:2,messageId:h};let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(h,()=>{n(i,l)})):t._sendPacket(r);break}case"suback":{delete t.outgoing[h],t.messageIdProvider.deallocate(h);let a=l.granted;for(let c=0;c<a.length;c++)if(a[c]&128){let p=t.messageIdToTopic[h];p&&p.forEach(g=>{delete t._resubscribeTopics[g]})}delete t.messageIdToTopic[h],t._invokeStoreProcessingQueue(),n(null,l);break}case"unsuback":{delete t.outgoing[h],t.messageIdProvider.deallocate(h),t._invokeStoreProcessingQueue(),n(null);break}default:t.emit("error",new Error("unrecognized packet type"))}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty")};e.default=o}),wl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=wr(),t=xr(),l=(h,s)=>{let{options:r}=h,n=r.protocolVersion,i=n===5?s.reasonCode:s.returnCode;if(n!==5){let a=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${n}`,i);h.emit("error",a);return}h.handleAuth(s,(a,c)=>{if(a){h.emit("error",a);return}if(i===24)h.reconnecting=!1,h._sendPacket(c);else{let p=new o.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[i]}`,i);h.emit("error",p)}})};e.default=l}),vl=ue(e=>{var b,m,y,T,L,O,k,U,v,P,M,F,W,Q,ae,I,$,G,X,be,Z,q,me,ie,ve,S,jn,fe,Ee,he,x,E,pa,le,ee,J,ce,Wt,C,$t,j,Dn,Y,Vr,H,Hr,_e,We,Be,Fn,u,Er,_;ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,l=typeof Ge=="object"&&Ge?Ge:{},h=(A,w,R,V)=>{typeof l.emitWarning=="function"?l.emitWarning(A,w,R,V):console.error(`[${R}] ${w}: ${A}`)},s=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof s>"u"){r=class{constructor(){qe(this,"onabort");qe(this,"_onabort",[]);qe(this,"reason");qe(this,"aborted",!1)}addEventListener(R,V){this._onabort.push(V)}},s=class{constructor(){qe(this,"signal",new r);w()}abort(R){var V,de;if(!this.signal.aborted){this.signal.reason=R,this.signal.aborted=!0;for(let re of this.signal._onabort)re(R);(de=(V=this.signal).onabort)==null||de.call(V,R)}}};let A=((b=l.env)==null?void 0:b.LRU_CACHE_IGNORE_AC_WARNING)!=="1",w=()=>{A&&(A=!1,h("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",w))}}var n=A=>!t.has(A),i=A=>A&&A===Math.floor(A)&&A>0&&isFinite(A),a=A=>i(A)?A<=Math.pow(2,8)?Uint8Array:A<=Math.pow(2,16)?Uint16Array:A<=Math.pow(2,32)?Uint32Array:A<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(A){super(A),this.fill(0)}},p=(m=class{constructor(w,R){qe(this,"heap");qe(this,"length");if(!B(m,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new R(w),this.length=0}static create(w){let R=a(w);if(!R)return[];Te(m,y,!0);let V=new m(w,R);return Te(m,y,!1),V}push(w){this.heap[this.length++]=w}pop(){return this.heap[--this.length]}},y=new WeakMap,Oe(m,y,!1),m),g=(_=class{constructor(w){Oe(this,S);Oe(this,E);Oe(this,ce);Oe(this,C);Oe(this,j);Oe(this,Y);Oe(this,H);Oe(this,_e);Oe(this,Be);Oe(this,u);Oe(this,T,void 0);Oe(this,L,void 0);Oe(this,O,void 0);Oe(this,k,void 0);Oe(this,U,void 0);qe(this,"ttl");qe(this,"ttlResolution");qe(this,"ttlAutopurge");qe(this,"updateAgeOnGet");qe(this,"updateAgeOnHas");qe(this,"allowStale");qe(this,"noDisposeOnSet");qe(this,"noUpdateTTL");qe(this,"maxEntrySize");qe(this,"sizeCalculation");qe(this,"noDeleteOnFetchRejection");qe(this,"noDeleteOnStaleGet");qe(this,"allowStaleOnFetchAbort");qe(this,"allowStaleOnFetchRejection");qe(this,"ignoreFetchAbort");Oe(this,v,void 0);Oe(this,P,void 0);Oe(this,M,void 0);Oe(this,F,void 0);Oe(this,W,void 0);Oe(this,Q,void 0);Oe(this,ae,void 0);Oe(this,I,void 0);Oe(this,$,void 0);Oe(this,G,void 0);Oe(this,X,void 0);Oe(this,be,void 0);Oe(this,Z,void 0);Oe(this,q,void 0);Oe(this,me,void 0);Oe(this,ie,void 0);Oe(this,ve,void 0);Oe(this,fe,()=>{});Oe(this,Ee,()=>{});Oe(this,he,()=>{});Oe(this,x,()=>!1);Oe(this,le,w=>{});Oe(this,ee,(w,R,V)=>{});Oe(this,J,(w,R,V,de)=>{if(V||de)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:R=0,ttl:V,ttlResolution:de=1,ttlAutopurge:re,updateAgeOnGet:ye,updateAgeOnHas:Se,allowStale:ke,dispose:ze,disposeAfter:st,noDisposeOnSet:Le,noUpdateTTL:at,maxSize:Ye=0,maxEntrySize:Qe=0,sizeCalculation:Ke,fetchMethod:it,noDeleteOnFetchRejection:Ce,noDeleteOnStaleGet:He,allowStaleOnFetchRejection:lt,allowStaleOnFetchAbort:Ze,ignoreFetchAbort:mt}=w;if(R!==0&&!i(R))throw new TypeError("max option must be a nonnegative integer");let or=R?a(R):Array;if(!or)throw new Error("invalid max value: "+R);if(Te(this,T,R),Te(this,L,Ye),this.maxEntrySize=Qe||B(this,L),this.sizeCalculation=Ke,this.sizeCalculation){if(!B(this,L)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(it!==void 0&&typeof it!="function")throw new TypeError("fetchMethod must be a function if specified");if(Te(this,U,it),Te(this,ie,!!it),Te(this,M,new Map),Te(this,F,new Array(R).fill(void 0)),Te(this,W,new Array(R).fill(void 0)),Te(this,Q,new or(R)),Te(this,ae,new or(R)),Te(this,I,0),Te(this,$,0),Te(this,G,p.create(R)),Te(this,v,0),Te(this,P,0),typeof ze=="function"&&Te(this,O,ze),typeof st=="function"?(Te(this,k,st),Te(this,X,[])):(Te(this,k,void 0),Te(this,X,void 0)),Te(this,me,!!B(this,O)),Te(this,ve,!!B(this,k)),this.noDisposeOnSet=!!Le,this.noUpdateTTL=!!at,this.noDeleteOnFetchRejection=!!Ce,this.allowStaleOnFetchRejection=!!lt,this.allowStaleOnFetchAbort=!!Ze,this.ignoreFetchAbort=!!mt,this.maxEntrySize!==0){if(B(this,L)!==0&&!i(B(this,L)))throw new TypeError("maxSize must be a positive integer if specified");if(!i(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ie(this,E,pa).call(this)}if(this.allowStale=!!ke,this.noDeleteOnStaleGet=!!He,this.updateAgeOnGet=!!ye,this.updateAgeOnHas=!!Se,this.ttlResolution=i(de)||de===0?de:1,this.ttlAutopurge=!!re,this.ttl=V||0,this.ttl){if(!i(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ie(this,S,jn).call(this)}if(B(this,T)===0&&this.ttl===0&&B(this,L)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!B(this,T)&&!B(this,L)){let Ft="LRU_CACHE_UNBOUNDED";n(Ft)&&(t.add(Ft),h("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ft,_))}}static unsafeExposeInternals(w){return{starts:B(w,Z),ttls:B(w,q),sizes:B(w,be),keyMap:B(w,M),keyList:B(w,F),valList:B(w,W),next:B(w,Q),prev:B(w,ae),get head(){return B(w,I)},get tail(){return B(w,$)},free:B(w,G),isBackgroundFetch:R=>{var V;return Ie(V=w,_e,We).call(V,R)},backgroundFetch:(R,V,de,re)=>{var ye;return Ie(ye=w,H,Hr).call(ye,R,V,de,re)},moveToTail:R=>{var V;return Ie(V=w,u,Er).call(V,R)},indexes:R=>{var V;return Ie(V=w,ce,Wt).call(V,R)},rindexes:R=>{var V;return Ie(V=w,C,$t).call(V,R)},isStale:R=>{var V;return B(V=w,x).call(V,R)}}}get max(){return B(this,T)}get maxSize(){return B(this,L)}get calculatedSize(){return B(this,P)}get size(){return B(this,v)}get fetchMethod(){return B(this,U)}get dispose(){return B(this,O)}get disposeAfter(){return B(this,k)}getRemainingTTL(w){return B(this,M).has(w)?1/0:0}*entries(){for(let w of Ie(this,ce,Wt).call(this))B(this,W)[w]!==void 0&&B(this,F)[w]!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield[B(this,F)[w],B(this,W)[w]])}*rentries(){for(let w of Ie(this,C,$t).call(this))B(this,W)[w]!==void 0&&B(this,F)[w]!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield[B(this,F)[w],B(this,W)[w]])}*keys(){for(let w of Ie(this,ce,Wt).call(this)){let R=B(this,F)[w];R!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield R)}}*rkeys(){for(let w of Ie(this,C,$t).call(this)){let R=B(this,F)[w];R!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield R)}}*values(){for(let w of Ie(this,ce,Wt).call(this))B(this,W)[w]!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield B(this,W)[w])}*rvalues(){for(let w of Ie(this,C,$t).call(this))B(this,W)[w]!==void 0&&!Ie(this,_e,We).call(this,B(this,W)[w])&&(yield B(this,W)[w])}[Symbol.iterator](){return this.entries()}find(w,R={}){for(let V of Ie(this,ce,Wt).call(this)){let de=B(this,W)[V],re=Ie(this,_e,We).call(this,de)?de.__staleWhileFetching:de;if(re!==void 0&&w(re,B(this,F)[V],this))return this.get(B(this,F)[V],R)}}forEach(w,R=this){for(let V of Ie(this,ce,Wt).call(this)){let de=B(this,W)[V],re=Ie(this,_e,We).call(this,de)?de.__staleWhileFetching:de;re!==void 0&&w.call(R,re,B(this,F)[V],this)}}rforEach(w,R=this){for(let V of Ie(this,C,$t).call(this)){let de=B(this,W)[V],re=Ie(this,_e,We).call(this,de)?de.__staleWhileFetching:de;re!==void 0&&w.call(R,re,B(this,F)[V],this)}}purgeStale(){let w=!1;for(let R of Ie(this,C,$t).call(this,{allowStale:!0}))B(this,x).call(this,R)&&(this.delete(B(this,F)[R]),w=!0);return w}dump(){let w=[];for(let R of Ie(this,ce,Wt).call(this,{allowStale:!0})){let V=B(this,F)[R],de=B(this,W)[R],re=Ie(this,_e,We).call(this,de)?de.__staleWhileFetching:de;if(re===void 0||V===void 0)continue;let ye={value:re};if(B(this,q)&&B(this,Z)){ye.ttl=B(this,q)[R];let Se=o.now()-B(this,Z)[R];ye.start=Math.floor(Date.now()-Se)}B(this,be)&&(ye.size=B(this,be)[R]),w.unshift([V,ye])}return w}load(w){this.clear();for(let[R,V]of w){if(V.start){let de=Date.now()-V.start;V.start=o.now()-de}this.set(R,V.value,V)}}set(w,R,V={}){var at,Ye,Qe,Ke,it;if(R===void 0)return this.delete(w),this;let{ttl:de=this.ttl,start:re,noDisposeOnSet:ye=this.noDisposeOnSet,sizeCalculation:Se=this.sizeCalculation,status:ke}=V,{noUpdateTTL:ze=this.noUpdateTTL}=V,st=B(this,J).call(this,w,R,V.size||0,Se);if(this.maxEntrySize&&st>this.maxEntrySize)return ke&&(ke.set="miss",ke.maxEntrySizeExceeded=!0),this.delete(w),this;let Le=B(this,v)===0?void 0:B(this,M).get(w);if(Le===void 0)Le=B(this,v)===0?B(this,$):B(this,G).length!==0?B(this,G).pop():B(this,v)===B(this,T)?Ie(this,Y,Vr).call(this,!1):B(this,v),B(this,F)[Le]=w,B(this,W)[Le]=R,B(this,M).set(w,Le),B(this,Q)[B(this,$)]=Le,B(this,ae)[Le]=B(this,$),Te(this,$,Le),qr(this,v)._++,B(this,ee).call(this,Le,st,ke),ke&&(ke.set="add"),ze=!1;else{Ie(this,u,Er).call(this,Le);let Ce=B(this,W)[Le];if(R!==Ce){if(B(this,ie)&&Ie(this,_e,We).call(this,Ce)){Ce.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:He}=Ce;He!==void 0&&!ye&&(B(this,me)&&((at=B(this,O))==null||at.call(this,He,w,"set")),B(this,ve)&&((Ye=B(this,X))==null||Ye.push([He,w,"set"])))}else ye||(B(this,me)&&((Qe=B(this,O))==null||Qe.call(this,Ce,w,"set")),B(this,ve)&&((Ke=B(this,X))==null||Ke.push([Ce,w,"set"])));if(B(this,le).call(this,Le),B(this,ee).call(this,Le,st,ke),B(this,W)[Le]=R,ke){ke.set="replace";let He=Ce&&Ie(this,_e,We).call(this,Ce)?Ce.__staleWhileFetching:Ce;He!==void 0&&(ke.oldValue=He)}}else ke&&(ke.set="update")}if(de!==0&&!B(this,q)&&Ie(this,S,jn).call(this),B(this,q)&&(ze||B(this,he).call(this,Le,de,re),ke&&B(this,Ee).call(this,ke,Le)),!ye&&B(this,ve)&&B(this,X)){let Ce=B(this,X),He;for(;He=Ce==null?void 0:Ce.shift();)(it=B(this,k))==null||it.call(this,...He)}return this}pop(){var w;try{for(;B(this,v);){let R=B(this,W)[B(this,I)];if(Ie(this,Y,Vr).call(this,!0),Ie(this,_e,We).call(this,R)){if(R.__staleWhileFetching)return R.__staleWhileFetching}else if(R!==void 0)return R}}finally{if(B(this,ve)&&B(this,X)){let R=B(this,X),V;for(;V=R==null?void 0:R.shift();)(w=B(this,k))==null||w.call(this,...V)}}}has(w,R={}){let{updateAgeOnHas:V=this.updateAgeOnHas,status:de}=R,re=B(this,M).get(w);if(re!==void 0){let ye=B(this,W)[re];if(Ie(this,_e,We).call(this,ye)&&ye.__staleWhileFetching===void 0)return!1;if(B(this,x).call(this,re))de&&(de.has="stale",B(this,Ee).call(this,de,re));else return V&&B(this,fe).call(this,re),de&&(de.has="hit",B(this,Ee).call(this,de,re)),!0}else de&&(de.has="miss");return!1}peek(w,R={}){let{allowStale:V=this.allowStale}=R,de=B(this,M).get(w);if(de!==void 0&&(V||!B(this,x).call(this,de))){let re=B(this,W)[de];return Ie(this,_e,We).call(this,re)?re.__staleWhileFetching:re}}async fetch(w,R={}){let{allowStale:V=this.allowStale,updateAgeOnGet:de=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,ttl:ye=this.ttl,noDisposeOnSet:Se=this.noDisposeOnSet,size:ke=0,sizeCalculation:ze=this.sizeCalculation,noUpdateTTL:st=this.noUpdateTTL,noDeleteOnFetchRejection:Le=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:at=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ye=this.ignoreFetchAbort,allowStaleOnFetchAbort:Qe=this.allowStaleOnFetchAbort,context:Ke,forceRefresh:it=!1,status:Ce,signal:He}=R;if(!B(this,ie))return Ce&&(Ce.fetch="get"),this.get(w,{allowStale:V,updateAgeOnGet:de,noDeleteOnStaleGet:re,status:Ce});let lt={allowStale:V,updateAgeOnGet:de,noDeleteOnStaleGet:re,ttl:ye,noDisposeOnSet:Se,size:ke,sizeCalculation:ze,noUpdateTTL:st,noDeleteOnFetchRejection:Le,allowStaleOnFetchRejection:at,allowStaleOnFetchAbort:Qe,ignoreFetchAbort:Ye,status:Ce,signal:He},Ze=B(this,M).get(w);if(Ze===void 0){Ce&&(Ce.fetch="miss");let mt=Ie(this,H,Hr).call(this,w,Ze,lt,Ke);return mt.__returned=mt}else{let mt=B(this,W)[Ze];if(Ie(this,_e,We).call(this,mt)){let ca=V&&mt.__staleWhileFetching!==void 0;return Ce&&(Ce.fetch="inflight",ca&&(Ce.returnedStale=!0)),ca?mt.__staleWhileFetching:mt.__returned=mt}let or=B(this,x).call(this,Ze);if(!it&&!or)return Ce&&(Ce.fetch="hit"),Ie(this,u,Er).call(this,Ze),de&&B(this,fe).call(this,Ze),Ce&&B(this,Ee).call(this,Ce,Ze),mt;let Ft=Ie(this,H,Hr).call(this,w,Ze,lt,Ke),ha=Ft.__staleWhileFetching!==void 0&&V;return Ce&&(Ce.fetch=or?"stale":"refresh",ha&&or&&(Ce.returnedStale=!0)),ha?Ft.__staleWhileFetching:Ft.__returned=Ft}}get(w,R={}){let{allowStale:V=this.allowStale,updateAgeOnGet:de=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,status:ye}=R,Se=B(this,M).get(w);if(Se!==void 0){let ke=B(this,W)[Se],ze=Ie(this,_e,We).call(this,ke);return ye&&B(this,Ee).call(this,ye,Se),B(this,x).call(this,Se)?(ye&&(ye.get="stale"),ze?(ye&&V&&ke.__staleWhileFetching!==void 0&&(ye.returnedStale=!0),V?ke.__staleWhileFetching:void 0):(re||this.delete(w),ye&&V&&(ye.returnedStale=!0),V?ke:void 0)):(ye&&(ye.get="hit"),ze?ke.__staleWhileFetching:(Ie(this,u,Er).call(this,Se),de&&B(this,fe).call(this,Se),ke))}else ye&&(ye.get="miss")}delete(w){var V,de,re,ye;let R=!1;if(B(this,v)!==0){let Se=B(this,M).get(w);if(Se!==void 0)if(R=!0,B(this,v)===1)this.clear();else{B(this,le).call(this,Se);let ke=B(this,W)[Se];Ie(this,_e,We).call(this,ke)?ke.__abortController.abort(new Error("deleted")):(B(this,me)||B(this,ve))&&(B(this,me)&&((V=B(this,O))==null||V.call(this,ke,w,"delete")),B(this,ve)&&((de=B(this,X))==null||de.push([ke,w,"delete"]))),B(this,M).delete(w),B(this,F)[Se]=void 0,B(this,W)[Se]=void 0,Se===B(this,$)?Te(this,$,B(this,ae)[Se]):Se===B(this,I)?Te(this,I,B(this,Q)[Se]):(B(this,Q)[B(this,ae)[Se]]=B(this,Q)[Se],B(this,ae)[B(this,Q)[Se]]=B(this,ae)[Se]),qr(this,v)._--,B(this,G).push(Se)}}if(B(this,ve)&&((re=B(this,X))!=null&&re.length)){let Se=B(this,X),ke;for(;ke=Se==null?void 0:Se.shift();)(ye=B(this,k))==null||ye.call(this,...ke)}return R}clear(){var w,R,V;for(let de of Ie(this,C,$t).call(this,{allowStale:!0})){let re=B(this,W)[de];if(Ie(this,_e,We).call(this,re))re.__abortController.abort(new Error("deleted"));else{let ye=B(this,F)[de];B(this,me)&&((w=B(this,O))==null||w.call(this,re,ye,"delete")),B(this,ve)&&((R=B(this,X))==null||R.push([re,ye,"delete"]))}}if(B(this,M).clear(),B(this,W).fill(void 0),B(this,F).fill(void 0),B(this,q)&&B(this,Z)&&(B(this,q).fill(0),B(this,Z).fill(0)),B(this,be)&&B(this,be).fill(0),Te(this,I,0),Te(this,$,0),B(this,G).length=0,Te(this,P,0),Te(this,v,0),B(this,ve)&&B(this,X)){let de=B(this,X),re;for(;re=de==null?void 0:de.shift();)(V=B(this,k))==null||V.call(this,...re)}}},T=new WeakMap,L=new WeakMap,O=new WeakMap,k=new WeakMap,U=new WeakMap,v=new WeakMap,P=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Q=new WeakMap,ae=new WeakMap,I=new WeakMap,$=new WeakMap,G=new WeakMap,X=new WeakMap,be=new WeakMap,Z=new WeakMap,q=new WeakMap,me=new WeakMap,ie=new WeakMap,ve=new WeakMap,S=new WeakSet,jn=function(){let w=new c(B(this,T)),R=new c(B(this,T));Te(this,q,w),Te(this,Z,R),Te(this,he,(re,ye,Se=o.now())=>{if(R[re]=ye!==0?Se:0,w[re]=ye,ye!==0&&this.ttlAutopurge){let ke=setTimeout(()=>{B(this,x).call(this,re)&&this.delete(B(this,F)[re])},ye+1);ke.unref&&ke.unref()}}),Te(this,fe,re=>{R[re]=w[re]!==0?o.now():0}),Te(this,Ee,(re,ye)=>{if(w[ye]){let Se=w[ye],ke=R[ye];re.ttl=Se,re.start=ke,re.now=V||de();let ze=re.now-ke;re.remainingTTL=Se-ze}});let V=0,de=()=>{let re=o.now();if(this.ttlResolution>0){V=re;let ye=setTimeout(()=>V=0,this.ttlResolution);ye.unref&&ye.unref()}return re};this.getRemainingTTL=re=>{let ye=B(this,M).get(re);if(ye===void 0)return 0;let Se=w[ye],ke=R[ye];if(Se===0||ke===0)return 1/0;let ze=(V||de())-ke;return Se-ze},Te(this,x,re=>w[re]!==0&&R[re]!==0&&(V||de())-R[re]>w[re])},fe=new WeakMap,Ee=new WeakMap,he=new WeakMap,x=new WeakMap,E=new WeakSet,pa=function(){let w=new c(B(this,T));Te(this,P,0),Te(this,be,w),Te(this,le,R=>{Te(this,P,B(this,P)-w[R]),w[R]=0}),Te(this,J,(R,V,de,re)=>{if(Ie(this,_e,We).call(this,V))return 0;if(!i(de))if(re){if(typeof re!="function")throw new TypeError("sizeCalculation must be a function");if(de=re(V,R),!i(de))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return de}),Te(this,ee,(R,V,de)=>{if(w[R]=V,B(this,L)){let re=B(this,L)-w[R];for(;B(this,P)>re;)Ie(this,Y,Vr).call(this,!0)}Te(this,P,B(this,P)+w[R]),de&&(de.entrySize=V,de.totalCalculatedSize=B(this,P))})},le=new WeakMap,ee=new WeakMap,J=new WeakMap,ce=new WeakSet,Wt=function*({allowStale:w=this.allowStale}={}){if(B(this,v))for(let R=B(this,$);!(!Ie(this,j,Dn).call(this,R)||((w||!B(this,x).call(this,R))&&(yield R),R===B(this,I)));)R=B(this,ae)[R]},C=new WeakSet,$t=function*({allowStale:w=this.allowStale}={}){if(B(this,v))for(let R=B(this,I);!(!Ie(this,j,Dn).call(this,R)||((w||!B(this,x).call(this,R))&&(yield R),R===B(this,$)));)R=B(this,Q)[R]},j=new WeakSet,Dn=function(w){return w!==void 0&&B(this,M).get(B(this,F)[w])===w},Y=new WeakSet,Vr=function(w){var re,ye;let R=B(this,I),V=B(this,F)[R],de=B(this,W)[R];return B(this,ie)&&Ie(this,_e,We).call(this,de)?de.__abortController.abort(new Error("evicted")):(B(this,me)||B(this,ve))&&(B(this,me)&&((re=B(this,O))==null||re.call(this,de,V,"evict")),B(this,ve)&&((ye=B(this,X))==null||ye.push([de,V,"evict"]))),B(this,le).call(this,R),w&&(B(this,F)[R]=void 0,B(this,W)[R]=void 0,B(this,G).push(R)),B(this,v)===1?(Te(this,I,Te(this,$,0)),B(this,G).length=0):Te(this,I,B(this,Q)[R]),B(this,M).delete(V),qr(this,v)._--,R},H=new WeakSet,Hr=function(w,R,V,de){let re=R===void 0?void 0:B(this,W)[R];if(Ie(this,_e,We).call(this,re))return re;let ye=new s,{signal:Se}=V;Se==null||Se.addEventListener("abort",()=>ye.abort(Se.reason),{signal:ye.signal});let ke={signal:ye.signal,options:V,context:de},ze=(Ke,it=!1)=>{let{aborted:Ce}=ye.signal,He=V.ignoreFetchAbort&&Ke!==void 0;if(V.status&&(Ce&&!it?(V.status.fetchAborted=!0,V.status.fetchError=ye.signal.reason,He&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),Ce&&!He&&!it)return Le(ye.signal.reason);let lt=Ye;return B(this,W)[R]===Ye&&(Ke===void 0?lt.__staleWhileFetching?B(this,W)[R]=lt.__staleWhileFetching:this.delete(w):(V.status&&(V.status.fetchUpdated=!0),this.set(w,Ke,ke.options))),Ke},st=Ke=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=Ke),Le(Ke)),Le=Ke=>{let{aborted:it}=ye.signal,Ce=it&&V.allowStaleOnFetchAbort,He=Ce||V.allowStaleOnFetchRejection,lt=He||V.noDeleteOnFetchRejection,Ze=Ye;if(B(this,W)[R]===Ye&&(!lt||Ze.__staleWhileFetching===void 0?this.delete(w):Ce||(B(this,W)[R]=Ze.__staleWhileFetching)),He)return V.status&&Ze.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),Ze.__staleWhileFetching;if(Ze.__returned===Ze)throw Ke},at=(Ke,it)=>{var He;let Ce=(He=B(this,U))==null?void 0:He.call(this,w,re,ke);Ce&&Ce instanceof Promise&&Ce.then(lt=>Ke(lt===void 0?void 0:lt),it),ye.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(Ke(void 0),V.allowStaleOnFetchAbort&&(Ke=lt=>ze(lt,!0)))})};V.status&&(V.status.fetchDispatched=!0);let Ye=new Promise(at).then(ze,st),Qe=Object.assign(Ye,{__abortController:ye,__staleWhileFetching:re,__returned:void 0});return R===void 0?(this.set(w,Qe,{...ke.options,status:void 0}),R=B(this,M).get(w)):B(this,W)[R]=Qe,Qe},_e=new WeakSet,We=function(w){if(!B(this,ie))return!1;let R=w;return!!R&&R instanceof Promise&&R.hasOwnProperty("__staleWhileFetching")&&R.__abortController instanceof s},Be=new WeakSet,Fn=function(w,R){B(this,ae)[R]=w,B(this,Q)[w]=R},u=new WeakSet,Er=function(w){w!==B(this,$)&&(w===B(this,I)?Te(this,I,B(this,Q)[w]):Ie(this,Be,Fn).call(this,B(this,ae)[w],B(this,Q)[w]),Ie(this,Be,Fn).call(this,B(this,$),w),Te(this,$,w))},_);e.LRUCache=g}),Bt=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var o=class{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}};e.ContainerIterator=o;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=t;var l=class extends t{};e.Container=l}),_l=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=Bt(),t=class extends o.Base{constructor(h=[]){super(),this.S=[];let s=this;h.forEach(function(r){s.push(r)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=t;e.default=l}),El=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=Bt(),t=class extends o.Base{constructor(h=[]){super(),this.j=0,this.q=[];let s=this;h.forEach(function(r){s.push(r)})}clear(){this.q=[],this.i=this.j=0}push(h){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let r=this.i;for(let n=0;n<r;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;let h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}},l=t;e.default=l}),Sl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=Bt(),t=class extends o.Base{constructor(h=[],s=function(n,i){return n>i?-1:n<i?1:0},r=!0){if(super(),this.v=s,Array.isArray(h))this.C=r?[...h]:h;else{this.C=[];let i=this;h.forEach(function(a){i.C.push(a)})}this.i=this.C.length;let n=this.i>>1;for(let i=this.i-1>>1;i>=0;--i)this.k(i,n)}m(h){let s=this.C[h];for(;h>0;){let r=h-1>>1,n=this.C[r];if(this.v(n,s)<=0)break;this.C[h]=n,h=r}this.C[h]=s}k(h,s){let r=this.C[h];for(;h<s;){let n=h<<1|1,i=n+1,a=this.C[n];if(i<this.i&&this.v(a,this.C[i])>0&&(n=i,a=this.C[i]),this.v(a,r)>=0)break;this.C[h]=a,h=n}this.C[h]=r}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let h=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){let s=this.C.indexOf(h);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(h){let s=this.C.indexOf(h);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},l=t;e.default=l}),mn=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=Bt(),t=class extends o.Container{},l=t;e.default=l}),xt=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),Jo=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var o=Bt(),t=xt(),l=class extends o.ContainerIterator{constructor(h,s){super(s),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}};e.RandomIterator=l}),Al=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=l(mn()),t=Jo();function l(n){return n&&n.t?n:{default:n}}var h=class ga extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new ga(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(n=[],i=!0){if(super(),Array.isArray(n))this.J=i?[...n]:n,this.i=n.length;else{this.J=[];let a=this;n.forEach(function(c){a.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J[n]}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J.splice(n,1),this.i-=1,this.i}eraseElementByValue(n){let i=0;for(let a=0;a<this.i;++a)this.J[a]!==n&&(this.J[i++]=this.J[a]);return this.i=this.J.length=i,this.i}eraseElementByIterator(n){let i=n.o;return n=n.next(),this.eraseElementByPos(i),n}pushBack(n){return this.J.push(n),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(n,i){if(n<0||n>this.i-1)throw new RangeError;this.J[n]=i}insert(n,i,a=1){if(n<0||n>this.i)throw new RangeError;return this.J.splice(n,0,...new Array(a).fill(i)),this.i+=a,this.i}find(n){for(let i=0;i<this.i;++i)if(this.J[i]===n)return new h(i,this);return this.end()}reverse(){this.J.reverse()}unique(){let n=1;for(let i=1;i<this.i;++i)this.J[i]!==this.J[i-1]&&(this.J[n++]=this.J[i]);return this.i=this.J.length=n,this.i}sort(n){this.J.sort(n)}forEach(n){for(let i=0;i<this.i;++i)n(this.J[i],i,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=s;e.default=r}),Il=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=h(mn()),t=Bt(),l=xt();function h(i){return i&&i.t?i:{default:i}}var s=class ba extends t.ContainerIterator{constructor(a,c,p,g){super(g),this.o=a,this.h=c,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new ba(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(i=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;i.forEach(function(c){a.pushBack(c)})}V(i){let{L:a,B:c}=i;a.B=c,c.L=a,i===this.p&&(this.p=c),i===this._&&(this._=a),this.i-=1}G(i,a){let c=a.B,p={l:i,L:a,B:c};a.B=p,c.L=p,a===this.h&&(this.p=p),c===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return a.l}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return this.V(a),this.i}eraseElementByValue(i){let a=this.p;for(;a!==this.h;)a.l===i&&this.V(a),a=a.B;return this.i}eraseElementByIterator(i){let a=i.o;return a===this.h&&(0,l.throwIteratorAccessError)(),i=i.next(),this.V(a),i}pushBack(i){return this.G(i,this._),this.i}popBack(){if(this.i===0)return;let i=this._.l;return this.V(this._),i}pushFront(i){return this.G(i,this.h),this.i}popFront(){if(this.i===0)return;let i=this.p.l;return this.V(this.p),i}setElementByPos(i,a){if(i<0||i>this.i-1)throw new RangeError;let c=this.p;for(;i--;)c=c.B;c.l=a}insert(i,a,c=1){if(i<0||i>this.i)throw new RangeError;if(c<=0)return this.i;if(i===0)for(;c--;)this.pushFront(a);else if(i===this.i)for(;c--;)this.pushBack(a);else{let p=this.p;for(let b=1;b<i;++b)p=p.B;let g=p.B;for(this.i+=c;c--;)p.B={l:a,L:p},p.B.L=p,p=p.B;p.B=g,g.L=p}return this.i}find(i){let a=this.p;for(;a!==this.h;){if(a.l===i)return new s(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let i=this.p,a=this._,c=0;for(;c<<1<this.i;){let p=i.l;i.l=a.l,a.l=p,i=i.B,a=a.L,c+=1}}unique(){if(this.i<=1)return this.i;let i=this.p;for(;i!==this.h;){let a=i;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;i.B=a.B,i.B.L=i,i=i.B}return this.i}sort(i){if(this.i<=1)return;let a=[];this.forEach(function(p){a.push(p)}),a.sort(i);let c=this.p;a.forEach(function(p){c.l=p,c=c.B})}merge(i){let a=this;if(this.i===0)i.forEach(function(c){a.pushBack(c)});else{let c=this.p;i.forEach(function(p){for(;c!==a.h&&c.l<=p;)c=c.B;a.G(p,c.L)})}return this.i}forEach(i){let a=this.p,c=0;for(;a!==this.h;)i(a.l,c++,this),a=a.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let i=this.p;for(;i!==this.h;)yield i.l,i=i.B}).bind(this)()}},n=r;e.default=n}),Tl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=l(mn()),t=Jo();function l(n){return n&&n.t?n:{default:n}}var h=class ma extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new ma(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(n=[],i=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.size=="function")return n.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=i,this.P=Math.max(Math.ceil(a/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let c=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-a%this.F>>1;let p=this;n.forEach(function(g){p.pushBack(g)})}T(){let n=[],i=Math.max(this.P>>1,1);for(let a=0;a<i;++a)n[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)n[n.length]=this.A[a];for(let a=0;a<this.R;++a)n[n.length]=this.A[a];n[n.length]=[...this.A[this.R]],this.j=i,this.R=n.length-1;for(let a=0;a<i;++a)n[n.length]=new Array(this.F);this.A=n,this.P=n.length}O(n){let i=this.D+n+1,a=i%this.F,c=a-1,p=this.j+(i-a)/this.F;return a===0&&(p-=1),p%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(n){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=n,this.i}popBack(){if(this.i===0)return;let n=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,n}pushFront(n){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=n,this.i}popFront(){if(this.i===0)return;let n=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,n}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(n);return this.A[i][a]}setElementByPos(n,i){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:c}=this.O(n);this.A[a][c]=i}insert(n,i,a=1){if(n<0||n>this.i)throw new RangeError;if(n===0)for(;a--;)this.pushFront(i);else if(n===this.i)for(;a--;)this.pushBack(i);else{let c=[];for(let p=n;p<this.i;++p)c.push(this.getElementByPos(p));this.cut(n-1);for(let p=0;p<a;++p)this.pushBack(i);for(let p=0;p<c.length;++p)this.pushBack(c[p])}return this.i}cut(n){if(n<0)return this.clear(),0;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(n);return this.R=i,this.N=a,this.i=n+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(n===0)this.popFront();else if(n===this.i-1)this.popBack();else{let i=[];for(let c=n+1;c<this.i;++c)i.push(this.getElementByPos(c));this.cut(n),this.popBack();let a=this;i.forEach(function(c){a.pushBack(c)})}return this.i}eraseElementByValue(n){if(this.i===0)return 0;let i=[];for(let c=0;c<this.i;++c){let p=this.getElementByPos(c);p!==n&&i.push(p)}let a=i.length;for(let c=0;c<a;++c)this.setElementByPos(c,i[c]);return this.cut(a-1)}eraseElementByIterator(n){let i=n.o;return this.eraseElementByPos(i),n=n.next(),n}find(n){for(let i=0;i<this.i;++i)if(this.getElementByPos(i)===n)return new h(i,this);return this.end()}reverse(){let n=0,i=this.i-1;for(;n<i;){let a=this.getElementByPos(n);this.setElementByPos(n,this.getElementByPos(i)),this.setElementByPos(i,a),n+=1,i-=1}}unique(){if(this.i<=1)return this.i;let n=1,i=this.getElementByPos(0);for(let a=1;a<this.i;++a){let c=this.getElementByPos(a);c!==i&&(i=c,this.setElementByPos(n++,c))}for(;this.i>n;)this.popBack();return this.i}sort(n){let i=[];for(let a=0;a<this.i;++a)i.push(this.getElementByPos(a));i.sort(n);for(let a=0;a<this.i;++a)this.setElementByPos(a,i[a])}shrinkToFit(){if(this.i===0)return;let n=[];this.forEach(function(i){n.push(i)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let i=0;i<this.P;++i)this.A.push(new Array(this.F));for(let i=0;i<n.length;++i)this.pushBack(n[i])}forEach(n){for(let i=0;i<this.i;++i)n(this.getElementByPos(i),i,this)}[Symbol.iterator](){return(function*(){for(let n=0;n<this.i;++n)yield this.getElementByPos(n)}).bind(this)()}},r=s;e.default=r}),kl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var o=class{constructor(l,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=h}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let h=l.tt;for(;h.U===l;)l=h,h=l.tt;l=h}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let h=l.tt;for(;h.W===l;)l=h,h=l.tt;return l.W!==h?h:l}}te(){let l=this.tt,h=this.W,s=h.U;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.U=this,this.tt=h,this.W=s,s&&(s.tt=this),h}se(){let l=this.tt,h=this.U,s=h.W;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.W=this,this.tt=h,this.U=s,s&&(s.tt=this),h}};e.TreeNode=o;var t=class extends o{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=t}),Xo=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=kl(),t=Bt(),l=xt(),h=class extends t.Container{constructor(r=function(i,a){return i<a?-1:i>a?1:0},n=!1){super(),this.Y=void 0,this.v=r,n?(this.re=o.TreeNodeEnableIndex,this.M=function(i,a,c){let p=this.ne(i,a,c);if(p){let g=p.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let b=this.he(p);if(b){let{parentNode:m,grandParent:y,curNode:T}=b;m.ie(),y.ie(),T.ie()}}return this.i},this.V=function(i){let a=this.fe(i);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=o.TreeNode,this.M=function(i,a,c){let p=this.ne(i,a,c);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(r,n){let i=this.h;for(;r;){let a=this.v(r.u,n);if(a<0)r=r.W;else if(a>0)i=r,r=r.U;else return r}return i}Z(r,n){let i=this.h;for(;r;)this.v(r.u,n)<=0?r=r.W:(i=r,r=r.U);return i}$(r,n){let i=this.h;for(;r;){let a=this.v(r.u,n);if(a<0)i=r,r=r.W;else if(a>0)r=r.U;else return r}return i}rr(r,n){let i=this.h;for(;r;)this.v(r.u,n)<0?(i=r,r=r.W):r=r.U;return i}ue(r){for(;;){let n=r.tt;if(n===this.h)return;if(r.ee===1){r.ee=0;return}if(r===n.U){let i=n.W;if(i.ee===1)i.ee=0,n.ee=1,n===this.Y?this.Y=n.te():n.te();else if(i.W&&i.W.ee===1){i.ee=n.ee,n.ee=0,i.W.ee=0,n===this.Y?this.Y=n.te():n.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,r=n)}else{let i=n.U;if(i.ee===1)i.ee=0,n.ee=1,n===this.Y?this.Y=n.se():n.se();else if(i.U&&i.U.ee===1){i.ee=n.ee,n.ee=0,i.U.ee=0,n===this.Y?this.Y=n.se():n.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,r=n)}}}fe(r){if(this.i===1)return this.clear(),this.h;let n=r;for(;n.U||n.W;){if(n.W)for(n=n.W;n.U;)n=n.U;else n=n.U;[r.u,n.u]=[n.u,r.u],[r.l,n.l]=[n.l,r.l],r=n}this.h.U===n?this.h.U=n.tt:this.h.W===n&&(this.h.W=n.tt),this.ue(n);let i=n.tt;return n===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(r,n){return r===void 0?!1:this.oe(r.U,n)||n(r)?!0:this.oe(r.W,n)}he(r){for(;;){let n=r.tt;if(n.ee===0)return;let i=n.tt;if(n===i.U){let a=i.W;if(a&&a.ee===1){if(a.ee=n.ee=0,i===this.Y)return;i.ee=1,r=i;continue}else if(r===n.W){if(r.ee=0,r.U&&(r.U.tt=n),r.W&&(r.W.tt=i),n.W=r.U,i.U=r.W,r.U=n,r.W=i,i===this.Y)this.Y=r,this.h.tt=r;else{let c=i.tt;c.U===i?c.U=r:c.W=r}return r.tt=i.tt,n.tt=r,i.tt=r,i.ee=1,{parentNode:n,grandParent:i,curNode:r}}else n.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1}else{let a=i.U;if(a&&a.ee===1){if(a.ee=n.ee=0,i===this.Y)return;i.ee=1,r=i;continue}else if(r===n.U){if(r.ee=0,r.U&&(r.U.tt=i),r.W&&(r.W.tt=n),i.W=r.U,n.U=r.W,r.U=i,r.W=n,i===this.Y)this.Y=r,this.h.tt=r;else{let c=i.tt;c.U===i?c.U=r:c.W=r}return r.tt=i.tt,n.tt=r,i.tt=r,i.ee=1,{parentNode:n,grandParent:i,curNode:r}}else n.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1}return}}ne(r,n,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,n),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,c=this.h.U,p=this.v(c.u,r);if(p===0){c.l=n;return}else if(p>0)c.U=new this.re(r,n),c.U.tt=c,a=c.U,this.h.U=a;else{let g=this.h.W,b=this.v(g.u,r);if(b===0){g.l=n;return}else if(b<0)g.W=new this.re(r,n),g.W.tt=g,a=g.W,this.h.W=a;else{if(i!==void 0){let m=i.o;if(m!==this.h){let y=this.v(m.u,r);if(y===0){m.l=n;return}else if(y>0){let T=m.L(),L=this.v(T.u,r);if(L===0){T.l=n;return}else L<0&&(a=new this.re(r,n),T.W===void 0?(T.W=a,a.tt=T):(m.U=a,a.tt=m))}}}if(a===void 0)for(a=this.Y;;){let m=this.v(a.u,r);if(m>0){if(a.U===void 0){a.U=new this.re(r,n),a.U.tt=a,a=a.U;break}a=a.U}else if(m<0){if(a.W===void 0){a.W=new this.re(r,n),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=n;return}}}}return this.i+=1,a}I(r,n){for(;r;){let i=this.v(r.u,n);if(i<0)r=r.W;else if(i>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,n){let i=r.o;if(i===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return i.u=n,!0;if(i===this.h.U)return this.v(i.B().u,n)>0?(i.u=n,!0):!1;if(i===this.h.W)return this.v(i.L().u,n)<0?(i.u=n,!0):!1;let a=i.L().u;if(this.v(a,n)>=0)return!1;let c=i.B().u;return this.v(c,n)<=0?!1:(i.u=n,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n=0,i=this;return this.oe(this.Y,function(a){return r===n?(i.V(a),!0):(n+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let n=this.I(this.Y,r);return n===this.h?!1:(this.V(n),!0)}eraseElementByIterator(r){let n=r.o;n===this.h&&(0,l.throwIteratorAccessError)();let i=n.W===void 0;return r.iteratorType===0?i&&r.next():(!i||n.U===void 0)&&r.next(),this.V(n),r}forEach(r){let n=0;for(let i of this)r(i,n++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n,i=0;for(let a of this){if(i===r){n=a;break}i+=1}return n}getHeight(){if(this.i===0)return 0;let r=function(n){return n?Math.max(r(n.U),r(n.W))+1:0};return r(this.Y)}},s=h;e.default=s}),Zo=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=Bt(),t=xt(),l=class extends o.ContainerIterator{constructor(s,r,n){super(n),this.o=s,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,r=this.h.tt;if(s===this.h)return r?r.rt-1:0;let n=0;for(s.U&&(n+=s.U.rt);s!==r;){let i=s.tt;s===i.W&&(n+=1,i.U&&(n+=i.U.rt)),s=i}return n}},h=l;e.default=h}),Cl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=h(Xo()),t=h(Zo()),l=xt();function h(i){return i&&i.t?i:{default:i}}var s=class ya extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new ya(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(i=[],a,c){super(a,c);let p=this;i.forEach(function(g){p.insert(g)})}*K(i){i!==void 0&&(yield*this.K(i.U),yield i.u,yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(i,a){return this.M(i,void 0,a)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}union(i){let a=this;return i.forEach(function(c){a.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=r;e.default=n}),Ol=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=h(Xo()),t=h(Zo()),l=xt();function h(i){return i&&i.t?i:{default:i}}var s=class wa extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new wa(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(i=[],a,c){super(a,c);let p=this;i.forEach(function(g){p.setElement(g[0],g[1])})}*K(i){i!==void 0&&(yield*this.K(i.U),yield[i.u,i.l],yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let i=this.h.U;return[i.u,i.l]}back(){if(this.i===0)return;let i=this.h.W;return[i.u,i.l]}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}setElement(i,a,c){return this.M(i,a,c)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}getElementByKey(i){return this.I(this.Y,i).l}union(i){let a=this;return i.forEach(function(c){a.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=r;e.default=n}),es=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=o;function o(t){let l=typeof t;return l==="object"&&t!==null||l==="function"}}),ts=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var o=Bt(),t=h(es()),l=xt();function h(n){return n&&n.t?n:{default:n}}var s=class extends o.ContainerIterator{constructor(n,i,a){super(a),this.o=n,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var r=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(n){let{L:i,B:a}=n;i.B=a,a.L=i,n===this.p&&(this.p=a),n===this._&&(this._=i),this.i-=1}M(n,i,a){a===void 0&&(a=(0,t.default)(n));let c;if(a){let p=n[this.HASH_TAG];if(p!==void 0)return this.H[p].l=i,this.i;Object.defineProperty(n,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:n,l:i,L:this._,B:this.h},this.H.push(c)}else{let p=this.g[n];if(p)return p.l=i,this.i;c={u:n,l:i,L:this._,B:this.h},this.g[n]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(n,i){if(i===void 0&&(i=(0,t.default)(n)),i){let a=n[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[n]||this.h}clear(){let n=this.HASH_TAG;this.H.forEach(function(i){delete i.u[n]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(n,i){let a;if(i===void 0&&(i=(0,t.default)(n)),i){let c=n[this.HASH_TAG];if(c===void 0)return!1;delete n[this.HASH_TAG],a=this.H[c],delete this.H[c]}else{if(a=this.g[n],a===void 0)return!1;delete this.g[n]}return this.V(a),!0}eraseElementByIterator(n){let i=n.o;return i===this.h&&(0,l.throwIteratorAccessError)(),this.V(i),n.next()}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=this.p;for(;n--;)i=i.B;return this.V(i),this.i}};e.HashContainer=r}),Rl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ts(),t=xt(),l=class va extends o.HashContainerIterator{constructor(n,i,a,c){super(n,i,c),this.container=a}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new va(this.o,this.h,this.container,this.iteratorType)}},h=class extends o.HashContainer{constructor(r=[]){super();let n=this;r.forEach(function(i){n.insert(i)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,n){return this.M(r,void 0,n)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n=this.p;for(;r--;)n=n.B;return n.u}find(r,n){let i=this.I(r,n);return new l(i,this.h,this)}forEach(r){let n=0,i=this.p;for(;i!==this.h;)r(i.u,n++,this),i=i.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},s=h;e.default=s}),Pl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ts(),t=h(es()),l=xt();function h(i){return i&&i.t?i:{default:i}}var s=class _a extends o.HashContainerIterator{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new _a(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.HashContainer{constructor(i=[]){super();let a=this;i.forEach(function(c){a.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(i,a,c){return this.M(i,a,c)}getElementByKey(i,a){if(a===void 0&&(a=(0,t.default)(i)),a){let p=i[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let c=this.g[i];return c?c.l:void 0}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return[a.u,a.l]}find(i,a){let c=this.I(i,a);return new s(c,this.h,this)}forEach(i){let a=0,c=this.p;for(;c!==this.h;)i([c.u,c.l],a++,this),c=c.B}[Symbol.iterator](){return(function*(){let i=this.p;for(;i!==this.h;)yield[i.u,i.l],i=i.B}).bind(this)()}},n=r;e.default=n}),Bl=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return h.default}});var o=p(_l()),t=p(El()),l=p(Sl()),h=p(Al()),s=p(Il()),r=p(Tl()),n=p(Cl()),i=p(Ol()),a=p(Rl()),c=p(Pl());function p(g){return g&&g.t?g:{default:g}}}),xl=ue((e,o)=>{ne(),se(),oe();var t=Bl().OrderedSet,l=Pt()("number-allocator:trace"),h=Pt()("number-allocator:error");function s(n,i){this.low=n,this.high=i}s.prototype.equals=function(n){return this.low===n.low&&this.high===n.high},s.prototype.compare=function(n){return this.low<n.low&&this.high<n.low?-1:n.low<this.low&&n.high<this.low?1:0};function r(n,i){if(!(this instanceof r))return new r(n,i);this.min=n,this.max=i,this.ss=new t([],(a,c)=>a.compare(c)),l("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let n=this.ss.begin(),i=n.pointer.low,a=n.pointer.high,c=i;return c+1<=a?this.ss.updateKeyByIterator(n,new s(i+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+c),c},r.prototype.use=function(n){let i=new s(n,n),a=this.ss.lowerBound(i);if(!a.equals(this.ss.end())){let c=a.pointer.low,p=a.pointer.high;return a.pointer.equals(i)?(this.ss.eraseElementByIterator(a),l("use():"+n),!0):c>n?!1:c===n?(this.ss.updateKeyByIterator(a,new s(c+1,p)),l("use():"+n),!0):p===n?(this.ss.updateKeyByIterator(a,new s(c,p-1)),l("use():"+n),!0):(this.ss.updateKeyByIterator(a,new s(n+1,p)),this.ss.insert(new s(c,n-1)),l("use():"+n),!0)}return l("use():failed"),!1},r.prototype.free=function(n){if(n<this.min||n>this.max){h("free():"+n+" is out of range");return}let i=new s(n,n),a=this.ss.upperBound(i);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(i);return}a.pre();let c=a.pointer.high;a.pointer.high+1===n?this.ss.updateKeyByIterator(a,new s(c,n)):this.ss.insert(i)}else if(a.equals(this.ss.begin()))if(n+1===a.pointer.low){let c=a.pointer.high;this.ss.updateKeyByIterator(a,new s(n,c))}else this.ss.insert(i);else{let c=a.pointer.low,p=a.pointer.high;a.pre();let g=a.pointer.low;a.pointer.high+1===n?n+1===c?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new s(g,p))):this.ss.updateKeyByIterator(a,new s(g,n)):n+1===c?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new s(n,p))):this.ss.insert(i)}l("free():"+n)},r.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let n of this.ss)console.log(n)},o.exports=r}),rs=ue((e,o)=>{ne(),se(),oe();var t=xl();o.exports.NumberAllocator=t}),Ml=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=vl(),t=rs(),l=class{constructor(h){h>0&&(this.aliasToTopic=new o.LRUCache({max:h}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,h),this.max=h,this.length=0)}put(h,s){if(s===0||s>this.max)return!1;let r=this.aliasToTopic.get(s);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(s,h),this.topicToAlias[h]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(h){return this.aliasToTopic.get(h)}getAliasByTopic(h){let s=this.topicToAlias[h];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=l}),Ul=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=xr(),l=o(Ml()),h=wr(),s=(r,n)=>{r.log("_handleConnack");let{options:i}=r,a=i.protocolVersion===5?n.reasonCode:n.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,n.properties){if(n.properties.topicAliasMaximum){if(n.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}n.properties.topicAliasMaximum>0&&(r.topicAliasSend=new l.default(n.properties.topicAliasMaximum))}n.properties.serverKeepAlive&&i.keepalive&&(i.keepalive=n.properties.serverKeepAlive,r._shiftPingInterval()),n.properties.maximumPacketSize&&(i.properties||(i.properties={}),i.properties.maximumPacketSize=n.properties.maximumPacketSize)}if(a===0)r.reconnecting=!1,r._onConnect(n);else if(a>0){let c=new h.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[a]}`,a);r.emit("error",c)}};e.default=s}),Ll=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=(t,l,h)=>{t.log("handling pubrel packet");let s=typeof h<"u"?h:t.noop,{messageId:r}=l,n={cmd:"pubcomp",messageId:r};t.incomingStore.get(l,(i,a)=>{i?t._sendPacket(n,s):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,c=>{if(c)return s(c);t.incomingStore.del(a,t.noop),t._sendPacket(n,s)}))})};e.default=o}),Nl=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var t=o(yl()),l=o(wl()),h=o(Ul()),s=o(xr()),r=o(Ll()),n=(i,a,c)=>{let{options:p}=i;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<a.length)return i.emit("error",new Error(`exceeding packets size ${a.cmd}`)),i.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),i;switch(i.log("_handlePacket :: emitting packetreceive"),i.emit("packetreceive",a),a.cmd){case"publish":(0,t.default)(i,a,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,s.default)(i,a),c();break;case"pubrel":(0,r.default)(i,a,c);break;case"connack":(0,h.default)(i,a),c();break;case"auth":(0,l.default)(i,a),c();break;case"pingresp":i.pingResp=!0,c();break;case"disconnect":i.emit("disconnect",a),c();break;default:i.log("_handlePacket :: unknown command"),c();break}};e.default=n}),jl=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=o((ur(),Ne(Kt))),l=wr(),h=class{};e.TypedEventEmitter=h,(0,l.applyMixin)(h,t.default)}),Dl=ue((e,o)=>{ne(),se(),oe(),function(t,l){typeof e=="object"&&typeof o<"u"?l(e):(t=typeof globalThis<"u"?globalThis:t||self,l(t.fastUniqueNumbers={}))}(e,function(t){var l=function(b){return function(m){var y=b(m);return m.add(y),y}},h=function(b){return function(m,y){return b.set(m,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,n=r*2,i=function(b,m){return function(y){var T=m.get(y),L=T===void 0?y.size:T<n?T+1:0;if(!y.has(L))return b(y,L);if(y.size<r){for(;y.has(L);)L=Math.floor(Math.random()*n);return b(y,L)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(L);)L=Math.floor(Math.random()*s);return b(y,L)}},a=new WeakMap,c=h(a),p=i(c,a),g=l(p);t.addUniqueNumber=g,t.generateUniqueNumber=p})}),Fl=ue((e,o)=>{ne(),se(),oe(),function(t,l){typeof e=="object"&&typeof o<"u"?l(e,Dl()):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimersBroker={},t.fastUniqueNumbers))}(e,function(t,l){var h=function(n){return n.method!==void 0&&n.method==="call"},s=function(n){return n.error===null&&typeof n.id=="number"},r=function(n){var i=new Map([[0,function(){}]]),a=new Map([[0,function(){}]]),c=new Map,p=new Worker(n);p.addEventListener("message",function(T){var L=T.data;if(h(L)){var O=L.params,k=O.timerId,U=O.timerType;if(U==="interval"){var v=i.get(k);if(typeof v=="number"){var P=c.get(v);if(P===void 0||P.timerId!==k||P.timerType!==U)throw new Error("The timer is in an undefined state.")}else if(typeof v<"u")v();else throw new Error("The timer is in an undefined state.")}else if(U==="timeout"){var M=a.get(k);if(typeof M=="number"){var F=c.get(M);if(F===void 0||F.timerId!==k||F.timerType!==U)throw new Error("The timer is in an undefined state.")}else if(typeof M<"u")M(),a.delete(k);else throw new Error("The timer is in an undefined state.")}}else if(s(L)){var W=L.id,Q=c.get(W);if(Q===void 0)throw new Error("The timer is in an undefined state.");var ae=Q.timerId,I=Q.timerType;c.delete(W),I==="interval"?i.delete(ae):a.delete(ae)}else{var $=L.error.message;throw new Error($)}});var g=function(T){var L=l.generateUniqueNumber(c);c.set(L,{timerId:T,timerType:"interval"}),i.set(T,L),p.postMessage({id:L,method:"clear",params:{timerId:T,timerType:"interval"}})},b=function(T){var L=l.generateUniqueNumber(c);c.set(L,{timerId:T,timerType:"timeout"}),a.set(T,L),p.postMessage({id:L,method:"clear",params:{timerId:T,timerType:"timeout"}})},m=function(T,L){var O=l.generateUniqueNumber(i);return i.set(O,function(){T(),typeof i.get(O)=="function"&&p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:O,timerType:"interval"}})}),p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:O,timerType:"interval"}}),O},y=function(T,L){var O=l.generateUniqueNumber(a);return a.set(O,T),p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:O,timerType:"timeout"}}),O};return{clearInterval:g,clearTimeout:b,setInterval:m,setTimeout:y}};t.load=r})}),Wl=ue((e,o)=>{ne(),se(),oe(),function(t,l){typeof e=="object"&&typeof o<"u"?l(e,Fl()):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimers={},t.workerTimersBroker))}(e,function(t,l){var h=function(p,g){var b=null;return function(){if(b!==null)return b;var m=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(m);return b=p(y),setTimeout(function(){return URL.revokeObjectURL(y)}),b}},s=`(()=>{var e={67:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(67)})()})();`,r=h(l.load,s),n=function(p){return r().clearInterval(p)},i=function(p){return r().clearTimeout(p)},a=function(p,g){return r().setInterval(p,g)},c=function(p,g){return r().setTimeout(p,g)};t.clearInterval=n,t.clearTimeout=i,t.setInterval=a,t.setTimeout=c})}),yn=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.isWebWorker=void 0;var o=()=>typeof window<"u"&&typeof window.document<"u",t=()=>{var s,r;return!!(typeof self=="object"&&!((r=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||r===void 0)&&r.includes("WorkerGlobalScope"))},l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",h=o()||t()||l();e.isWebWorker=t(),e.default=h}),$l=ue(e=>{ne(),se(),oe();var o=e&&e.__createBinding||(Object.create?function(n,i,a,c){c===void 0&&(c=a);var p=Object.getOwnPropertyDescriptor(i,a);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,c,p)}:function(n,i,a,c){c===void 0&&(c=a),n[c]=i[a]}),t=e&&e.__setModuleDefault||(Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i}),l=e&&e.__importStar||function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&o(i,n,a);return t(i,n),i};Object.defineProperty(e,"__esModule",{value:!0});var h=Wl(),s=l(yn()),r=class{constructor(n,i){this._setTimeout=s.default&&!s.isWebWorker?h.setTimeout:(a,c)=>setTimeout(a,c),this._clearTimeout=s.default&&!s.isWebWorker?h.clearTimeout:a=>clearTimeout(a),this.keepalive=n*1e3,this.checkPing=i,this.reschedule()}clear(){this.timer&&(this._clearTimeout(this.timer),this.timer=null)}reschedule(){this.clear(),this.timer=this._setTimeout(()=>{this.checkPing(),this.timer&&this.reschedule()},this.keepalive)}};e.default=r}),wn=ue(e=>{ne(),se(),oe();var o=e&&e.__createBinding||(Object.create?function(U,v,P,M){M===void 0&&(M=P);var F=Object.getOwnPropertyDescriptor(v,P);(!F||("get"in F?!v.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return v[P]}}),Object.defineProperty(U,M,F)}:function(U,v,P,M){M===void 0&&(M=P),U[M]=v[P]}),t=e&&e.__setModuleDefault||(Object.create?function(U,v){Object.defineProperty(U,"default",{enumerable:!0,value:v})}:function(U,v){U.default=v}),l=e&&e.__importStar||function(U){if(U&&U.__esModule)return U;var v={};if(U!=null)for(var P in U)P!=="default"&&Object.prototype.hasOwnProperty.call(U,P)&&o(v,U,P);return t(v,U),v},h=e&&e.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0});var s=h(Ba()),r=h(pl()),n=h(Yo()),i=Xt(),a=h(bl()),c=l(ml()),p=h(Pt()),g=h(Qo()),b=h(Nl()),m=wr(),y=jl(),T=h($l()),L=globalThis.setImmediate||((...U)=>{let v=U.shift();(0,m.nextTick)(()=>{v(...U)})}),O={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},k=class Ea extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(v,P){super(),this.options=P||{};for(let M in O)typeof this.options[M]>"u"?this.options[M]=O[M]:this.options[M]=P[M];this.log=this.options.log||(0,p.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",P.protocol),this.log("MqttClient :: options.protocolVersion",P.protocolVersion),this.log("MqttClient :: options.username",P.username),this.log("MqttClient :: options.keepalive",P.keepalive),this.log("MqttClient :: options.reconnectPeriod",P.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",P.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",P.properties?P.properties.topicAliasMaximum:void 0),this.options.clientId=typeof P.clientId=="string"?P.clientId:Ea.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=P.protocolVersion===5&&P.customHandleAcks?P.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=v,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new n.default:this.options.messageIdProvider,this.outgoingStore=P.outgoingStore||new g.default,this.incomingStore=P.incomingStore||new g.default,this.queueQoSZero=P.queueQoSZero===void 0?!0:P.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,P.properties&&P.properties.topicAliasMaximum>0&&(P.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(P.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,F=()=>{let W=M.shift();this.log("deliver :: entry %o",W);let Q=null;if(!W){this._resubscribe();return}Q=W.packet,this.log("deliver :: call _sendPacket for %o",Q);let ae=!0;Q.messageId&&Q.messageId!==0&&(this.messageIdProvider.register(Q.messageId)||(ae=!1)),ae?this._sendPacket(Q,I=>{W.cb&&W.cb(I),F()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Q.messageId),F())};this.log("connect :: sending queued packets"),F()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(v,P){P()}handleMessage(v,P){P()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var v;let P=new i.Writable,M=r.default.parser(this.options),F=null,W=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",G=>{this.log("parser :: on packet push to packets array."),W.push(G)});let Q=()=>{this.log("work :: getting next packet in queue");let G=W.shift();if(G)this.log("work :: packet pulled from queue"),(0,b.default)(this,G,ae);else{this.log("work :: no packets in queue");let X=F;F=null,this.log("work :: done flag is %s",!!X),X&&X()}},ae=()=>{if(W.length)(0,m.nextTick)(Q);else{let G=F;F=null,G()}};P._write=(G,X,be)=>{F=be,this.log("writable stream :: parsing buffer"),M.parse(G),Q()};let I=G=>{this.log("streamErrorHandler :: error",G.message),G.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",G)):this.noop(G)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(P),this.stream.on("error",I),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let $={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&($.will=Object.assign(Object.assign({},this.options.will),{payload:(v=this.options.will)===null||v===void 0?void 0:v.payload})),this.topicAliasRecv&&($.properties||($.properties={}),this.topicAliasRecv&&($.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket($),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let G=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(G)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)},this.options.connectTimeout),this}publish(v,P,M,F){this.log("publish :: message `%s` to topic `%s`",P,v);let{options:W}=this;typeof M=="function"&&(F=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:Q,retain:ae,dup:I,properties:$,cbStorePut:G}=M;if(this._checkDisconnecting(F))return this;let X=()=>{let be=0;if((Q===1||Q===2)&&(be=this._nextId(),be===null))return this.log("No messageId left"),!1;let Z={cmd:"publish",topic:v,payload:P,qos:Q,retain:ae,messageId:be,dup:I};switch(W.protocolVersion===5&&(Z.properties=$),this.log("publish :: qos",Q),Q){case 1:case 2:this.outgoing[Z.messageId]={volatile:!1,cb:F||this.noop},this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,void 0,G);break;default:this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,F,G);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,cbStorePut:M.cbStorePut,callback:F}),this}publishAsync(v,P,M){return new Promise((F,W)=>{this.publish(v,P,M,(Q,ae)=>{Q?W(Q):F(ae)})})}subscribe(v,P,M){let F=this.options.protocolVersion;typeof P=="function"&&(M=P),M=M||this.noop;let W=!1,Q=[];typeof v=="string"?(v=[v],Q=v):Array.isArray(v)?Q=v:typeof v=="object"&&(W=v.resubscribe,delete v.resubscribe,Q=Object.keys(v));let ae=c.validateTopics(Q);if(ae!==null)return L(M,new Error(`Invalid topic ${ae}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let I={qos:0};F===5&&(I.nl=!1,I.rap=!1,I.rh=0),P=Object.assign(Object.assign({},I),P);let $=P.properties,G=[],X=(Z,q)=>{if(q=q||P,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Z)||this._resubscribeTopics[Z].qos<q.qos||W){let me={topic:Z,qos:q.qos};F===5&&(me.nl=q.nl,me.rap=q.rap,me.rh=q.rh,me.properties=$),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",me.topic,me.qos),G.push(me)}};if(Array.isArray(v)?v.forEach(Z=>{this.log("subscribe: array topic %s",Z),X(Z)}):Object.keys(v).forEach(Z=>{this.log("subscribe: object topic %s, %o",Z,v[Z]),X(Z,v[Z])}),!G.length)return M(null,[]),this;let be=()=>{let Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;let q={cmd:"subscribe",subscriptions:G,messageId:Z};if($&&(q.properties=$),this.options.resubscribe){this.log("subscribe :: resubscribe true");let me=[];G.forEach(ie=>{if(this.options.reconnectPeriod>0){let ve={qos:ie.qos};F===5&&(ve.nl=ie.nl||!1,ve.rap=ie.rap||!1,ve.rh=ie.rh||0,ve.properties=ie.properties),this._resubscribeTopics[ie.topic]=ve,me.push(ie.topic)}}),this.messageIdToTopic[q.messageId]=me}return this.outgoing[q.messageId]={volatile:!0,cb(me,ie){if(!me){let{granted:ve}=ie;for(let S=0;S<ve.length;S+=1)G[S].qos=ve[S]}M(me,G)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!be())&&this._storeProcessingQueue.push({invoke:be,callback:M}),this}subscribeAsync(v,P){return new Promise((M,F)=>{this.subscribe(v,P,(W,Q)=>{W?F(W):M(Q)})})}unsubscribe(v,P,M){typeof v=="string"&&(v=[v]),typeof P=="function"&&(M=P),M=M||this.noop;let F=c.validateTopics(v);if(F!==null)return L(M,new Error(`Invalid topic ${F}`)),this;if(this._checkDisconnecting(M))return this;let W=()=>{let Q=this._nextId();if(Q===null)return this.log("No messageId left"),!1;let ae={cmd:"unsubscribe",messageId:Q,unsubscriptions:[]};return typeof v=="string"?ae.unsubscriptions=[v]:Array.isArray(v)&&(ae.unsubscriptions=v),this.options.resubscribe&&ae.unsubscriptions.forEach(I=>{delete this._resubscribeTopics[I]}),typeof P=="object"&&P.properties&&(ae.properties=P.properties),this.outgoing[ae.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(ae),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,callback:M}),this}unsubscribeAsync(v,P){return new Promise((M,F)=>{this.unsubscribe(v,P,(W,Q)=>{W?F(W):M(Q)})})}end(v,P,M){this.log("end :: (%s)",this.options.clientId),(v==null||typeof v!="boolean")&&(M=M||P,P=v,v=!1),typeof P!="object"&&(M=M||P,P=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let F=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Q=>{this.outgoingStore.close(ae=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let I=Q||ae;this.log("end :: closeStores: invoking callback with args"),M(I)}})}),this._deferredReconnect&&this._deferredReconnect()},W=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,v),this._cleanUp(v,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,m.nextTick)(F)},P)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!v&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,W,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),W()),this)}endAsync(v,P){return new Promise((M,F)=>{this.end(v,P,W=>{W?F(W):M()})})}removeOutgoingMessage(v){if(this.outgoing[v]){let{cb:P}=this.outgoing[v];this._removeOutgoingAndStoreMessage(v,()=>{P(new Error("Message removed"))})}return this}reconnect(v){this.log("client reconnect");let P=()=>{v?(this.options.incomingStore=v.incomingStore,this.options.outgoingStore=v.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=P:P(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(v=>{this.outgoing[v].volatile&&typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(v=>{typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_removeTopicAliasAndRecoverTopicName(v){let P;v.properties&&(P=v.properties.topicAlias);let M=v.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",P,M),M.length===0){if(typeof P>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(P),typeof M>"u")return new Error("Unregistered Topic Alias");v.topic=M}P&&delete v.properties.topicAlias}_checkDisconnecting(v){return this.disconnecting&&(v&&v!==this.noop?v(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(v,P,M={}){if(P&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",P)),this.log("_cleanUp :: forced? %s",v),v)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let F=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(F,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),L(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),P&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",P),P())}_storeAndSend(v,P,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",v.cmd);let F=v,W;if(F.cmd==="publish"&&(F=(0,a.default)(v),W=this._removeTopicAliasAndRecoverTopicName(F),W))return P&&P(W);this.outgoingStore.put(F,Q=>{if(Q)return P&&P(Q);M(),this._writePacket(v,P)})}_applyTopicAlias(v){if(this.options.protocolVersion===5&&v.cmd==="publish"){let P;v.properties&&(P=v.properties.topicAlias);let M=v.topic.toString();if(this.topicAliasSend)if(P){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,P),!this.topicAliasSend.put(M,P)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,P),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(P=this.topicAliasSend.getAliasByTopic(M),P?(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,P)):(P=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,P),v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,P))):this.options.autoUseTopicAlias&&(P=this.topicAliasSend.getAliasByTopic(M),P&&(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,P))));else if(P)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,P),new Error("Sending Topic Alias out of range")}}_noop(v){this.log("noop ::",v)}_writePacket(v,P){this.log("_writePacket :: packet: %O",v),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",v),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let M=r.default.writeToStream(v,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&P&&P!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",P)):P&&(this.log("_writePacket :: invoking cb"),P())}_sendPacket(v,P,M,F){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,P=P||this.noop;let W=this._applyTopicAlias(v);if(W){P(W);return}if(!this.connected){if(v.cmd==="auth"){this._writePacket(v,P);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(v,P,M);return}if(F){this._writePacket(v,P);return}switch(v.cmd){case"publish":break;case"pubrel":this._storeAndSend(v,P,M);return;default:this._writePacket(v,P);return}switch(v.qos){case 2:case 1:this._storeAndSend(v,P,M);break;case 0:default:this._writePacket(v,P);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(v,P,M){this.log("_storePacket :: packet: %o",v),this.log("_storePacket :: cb? %s",!!P),M=M||this.noop;let F=v;if(F.cmd==="publish"){F=(0,a.default)(v);let Q=this._removeTopicAliasAndRecoverTopicName(F);if(Q)return P&&P(Q)}let W=F.qos||0;W===0&&this.queueQoSZero||F.cmd!=="publish"?this.queue.push({packet:F,cb:P}):W>0?(P=this.outgoing[F.messageId]?this.outgoing[F.messageId].cb:null,this.outgoingStore.put(F,Q=>{if(Q)return P&&P(Q);M()})):P&&P(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=new T.default(this.options.keepalive,()=>{this._checkPing()}))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule()}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");let v=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&v.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let P=0;P<v.length;P++){let M={};M[v[P]]=this._resubscribeTopics[v[P]],M.resubscribe=!0,this.subscribe(M,{properties:M[v[P]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(v){if(this.disconnected){this.emit("connect",v);return}this.connackPacket=v,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let P=()=>{let M=this.outgoingStore.createStream(),F=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),W()},W=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",F),M.on("error",ae=>{W(),this._flushStoreProcessingQueue(),this.removeListener("close",F),this.emit("error",ae)});let Q=()=>{if(!M)return;let ae=M.read(1),I;if(!ae){M.once("readable",Q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[ae.messageId]){Q();return}!this.disconnecting&&!this.reconnectTimer?(I=this.outgoing[ae.messageId]?this.outgoing[ae.messageId].cb:null,this.outgoing[ae.messageId]={volatile:!1,cb($,G){I&&I($,G),Q()}},this._packetIdsDuringStoreProcessing[ae.messageId]=!0,this.messageIdProvider.register(ae.messageId)?this._sendPacket(ae,void 0,void 0,!0):this.log("messageId: %d has already used.",ae.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let ae=!0;for(let I in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[I]){ae=!1;break}this.removeListener("close",F),ae?(W(),this._invokeAllStoreProcessingQueue(),this.emit("connect",v)):P()}),Q()};P()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let v=this._storeProcessingQueue[0];if(v&&v.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let v of this._storeProcessingQueue)v.cbStorePut&&v.cbStorePut(new Error("Connection closed")),v.callback&&v.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(v,P){delete this.outgoing[v],this.outgoingStore.del({messageId:v},(M,F)=>{P(M,F),this.messageIdProvider.deallocate(v),this._invokeStoreProcessingQueue()})}};e.default=k}),ql=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=rs(),t=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};e.default=t});function Zt(e){throw new RangeError(ls[e])}function is(e,o){let t=e.split("@"),l="";t.length>1&&(l=t[0]+"@",e=t[1]);let h=function(s,r){let n=[],i=s.length;for(;i--;)n[i]=r(s[i]);return n}((e=e.replace(as,".")).split("."),o).join(".");return l+h}function ns(e){let o=[],t=0,l=e.length;for(;t<l;){let h=e.charCodeAt(t++);if(h>=55296&&h<=56319&&t<l){let s=e.charCodeAt(t++);(64512&s)==56320?o.push(((1023&h)<<10)+(1023&s)+65536):(o.push(h),t--)}else o.push(h)}return o}var os,ss,as,ls,gt,Mr,vn,_n,En,Sn,Dt,Vl=Pe(()=>{ne(),se(),oe(),os=/^xn--/,ss=/[^\0-\x7E]/,as=/[\x2E\u3002\uFF0E\uFF61]/g,ls={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},gt=Math.floor,Mr=String.fromCharCode,vn=function(e,o){return e+22+75*(e<26)-((o!=0)<<5)},_n=function(e,o,t){let l=0;for(e=t?gt(e/700):e>>1,e+=gt(e/o);e>455;l+=36)e=gt(e/35);return gt(l+36*e/(e+38))},En=function(e){let o=[],t=e.length,l=0,h=128,s=72,r=e.lastIndexOf("-");r<0&&(r=0);for(let i=0;i<r;++i)e.charCodeAt(i)>=128&&Zt("not-basic"),o.push(e.charCodeAt(i));for(let i=r>0?r+1:0;i<t;){let a=l;for(let p=1,g=36;;g+=36){i>=t&&Zt("invalid-input");let b=(n=e.charCodeAt(i++))-48<10?n-22:n-65<26?n-65:n-97<26?n-97:36;(b>=36||b>gt((2147483647-l)/p))&&Zt("overflow"),l+=b*p;let m=g<=s?1:g>=s+26?26:g-s;if(b<m)break;let y=36-m;p>gt(2147483647/y)&&Zt("overflow"),p*=y}let c=o.length+1;s=_n(l-a,c,a==0),gt(l/c)>2147483647-h&&Zt("overflow"),h+=gt(l/c),l%=c,o.splice(l++,0,h)}var n;return String.fromCodePoint(...o)},Sn=function(e){let o=[],t=(e=ns(e)).length,l=128,h=0,s=72;for(let i of e)i<128&&o.push(Mr(i));let r=o.length,n=r;for(r&&o.push("-");n<t;){let i=2147483647;for(let c of e)c>=l&&c<i&&(i=c);let a=n+1;i-l>gt((2147483647-h)/a)&&Zt("overflow"),h+=(i-l)*a,l=i;for(let c of e)if(c<l&&++h>2147483647&&Zt("overflow"),c==l){let p=h;for(let g=36;;g+=36){let b=g<=s?1:g>=s+26?26:g-s;if(p<b)break;let m=p-b,y=36-b;o.push(Mr(vn(b+m%y,0))),p=gt(m/y)}o.push(Mr(vn(p,0))),s=_n(h,a,n==r),h=0,++n}++h,++l}return o.join("")},Dt={version:"2.1.0",ucs2:{decode:ns,encode:e=>String.fromCodePoint(...e)},decode:En,encode:Sn,toASCII:function(e){return is(e,function(o){return ss.test(o)?"xn--"+Sn(o):o})},toUnicode:function(e){return is(e,function(o){return os.test(o)?En(o.slice(4).toLowerCase()):o})}},Dt.decode,Dt.encode,Dt.toASCII,Dt.toUnicode,Dt.ucs2,Dt.version});function Hl(e,o){return Object.prototype.hasOwnProperty.call(e,o)}var us,cr,hs,vt,zl=Pe(()=>{ne(),se(),oe(),us=function(e,o,t,l){o=o||"&",t=t||"=";var h={};if(typeof e!="string"||e.length===0)return h;var s=/\+/g;e=e.split(o);var r=1e3;l&&typeof l.maxKeys=="number"&&(r=l.maxKeys);var n=e.length;r>0&&n>r&&(n=r);for(var i=0;i<n;++i){var a,c,p,g,b=e[i].replace(s,"%20"),m=b.indexOf(t);m>=0?(a=b.substr(0,m),c=b.substr(m+1)):(a=b,c=""),p=decodeURIComponent(a),g=decodeURIComponent(c),Hl(h,p)?Array.isArray(h[p])?h[p].push(g):h[p]=[h[p],g]:h[p]=g}return h},cr=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},hs=function(e,o,t,l){return o=o||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(h){var s=encodeURIComponent(cr(h))+t;return Array.isArray(e[h])?e[h].map(function(r){return s+encodeURIComponent(cr(r))}).join(o):s+encodeURIComponent(cr(e[h]))}).join(o):l?encodeURIComponent(cr(l))+t+encodeURIComponent(cr(e)):""},vt={},vt.decode=vt.parse=us,vt.encode=vt.stringify=hs,vt.decode,vt.encode,vt.parse,vt.stringify});function An(){throw new Error("setTimeout has not been defined")}function In(){throw new Error("clearTimeout has not been defined")}function cs(e){if(Ut===setTimeout)return setTimeout(e,0);if((Ut===An||!Ut)&&setTimeout)return Ut=setTimeout,setTimeout(e,0);try{return Ut(e,0)}catch{try{return Ut.call(null,e,0)}catch{return Ut.call(this||er,e,0)}}}function Kl(){rr&&tr&&(rr=!1,tr.length?_t=tr.concat(_t):vr=-1,_t.length&&fs())}function fs(){if(!rr){var e=cs(Kl);rr=!0;for(var o=_t.length;o;){for(tr=_t,_t=[];++vr<o;)tr&&tr[vr].run();vr=-1,o=_t.length}tr=null,rr=!1,function(t){if(Lt===clearTimeout)return clearTimeout(t);if((Lt===In||!Lt)&&clearTimeout)return Lt=clearTimeout,clearTimeout(t);try{Lt(t)}catch{try{return Lt.call(null,t)}catch{return Lt.call(this||er,t)}}}(e)}}function ds(e,o){(this||er).fun=e,(this||er).array=o}function Mt(){}var ps,Ut,Lt,er,Ve,tr,_t,rr,vr,$e,Gl=Pe(()=>{ne(),se(),oe(),er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:fa,Ve=ps={},function(){try{Ut=typeof setTimeout=="function"?setTimeout:An}catch{Ut=An}try{Lt=typeof clearTimeout=="function"?clearTimeout:In}catch{Lt=In}}(),_t=[],rr=!1,vr=-1,Ve.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];_t.push(new ds(e,o)),_t.length!==1||rr||cs(fs)},ds.prototype.run=function(){(this||er).fun.apply(null,(this||er).array)},Ve.title="browser",Ve.browser=!0,Ve.env={},Ve.argv=[],Ve.version="",Ve.versions={},Ve.on=Mt,Ve.addListener=Mt,Ve.once=Mt,Ve.off=Mt,Ve.removeListener=Mt,Ve.removeAllListeners=Mt,Ve.emit=Mt,Ve.prependListener=Mt,Ve.prependOnceListener=Mt,Ve.listeners=function(e){return[]},Ve.binding=function(e){throw new Error("process.binding is not supported")},Ve.cwd=function(){return"/"},Ve.chdir=function(e){throw new Error("process.chdir is not supported")},Ve.umask=function(){return 0},$e=ps,$e.addListener,$e.argv,$e.binding,$e.browser,$e.chdir,$e.cwd,$e.emit,$e.env,$e.listeners,$e.nextTick,$e.off,$e.on,$e.once,$e.prependListener,$e.prependOnceListener,$e.removeAllListeners,$e.removeListener,$e.title,$e.umask,$e.version,$e.versions});function Yl(){if(Tn)return Ur;Tn=!0;var e=Ur={},o,t;function l(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=l}catch{o=l}try{typeof clearTimeout=="function"?t=clearTimeout:t=h}catch{t=h}})();function s(y){if(o===setTimeout)return setTimeout(y,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(y,0);try{return o(y,0)}catch{try{return o.call(null,y,0)}catch{return o.call(this||ir,y,0)}}}function r(y){if(t===clearTimeout)return clearTimeout(y);if((t===h||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{return t(y)}catch{try{return t.call(null,y)}catch{return t.call(this||ir,y)}}}var n=[],i=!1,a,c=-1;function p(){!i||!a||(i=!1,a.length?n=a.concat(n):c=-1,n.length&&g())}function g(){if(!i){var y=s(p);i=!0;for(var T=n.length;T;){for(a=n,n=[];++c<T;)a&&a[c].run();c=-1,T=n.length}a=null,i=!1,r(y)}}e.nextTick=function(y){var T=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)T[L-1]=arguments[L];n.push(new b(y,T)),n.length===1&&!i&&s(g)};function b(y,T){(this||ir).fun=y,(this||ir).array=T}b.prototype.run=function(){(this||ir).fun.apply(null,(this||ir).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function m(){}return e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ur}var Ur,Tn,ir,De,gs=Pe(()=>{ne(),se(),oe(),Ur={},Tn=!1,ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:fa,De=Yl(),De.platform="browser",De.addListener,De.argv,De.binding,De.browser,De.chdir,De.cwd,De.emit,De.env,De.listeners,De.nextTick,De.off,De.on,De.once,De.prependListener,De.prependOnceListener,De.removeAllListeners,De.removeListener,De.title,De.umask,De.version,De.versions});function Ql(){if(kn)return Lr;kn=!0;var e=De;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var n="",i=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var b=n.lastIndexOf("/");if(b!==n.length-1){b===-1?(n="",i=0):(n=n.slice(0,b),i=n.length-1-n.lastIndexOf("/")),a=g,c=0;continue}}else if(n.length===2||n.length===1){n="",i=0,a=g,c=0;continue}}r&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+s.slice(a+1,g):n=s.slice(a+1,g),i=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return n}function l(s,r){var n=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return n?n===r.root?n+i:n+s+i:i}var h={resolve:function(){for(var s="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(n===void 0&&(n=e.cwd()),a=n),o(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var r=s.charCodeAt(0)===47,n=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&n&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var n=arguments[r];o(n),n.length>0&&(s===void 0?s=n:s+="/"+n)}return s===void 0?".":h.normalize(s)},relative:function(s,r){if(o(s),o(r),s===r||(s=h.resolve(s),r=h.resolve(r),s===r))return"";for(var n=1;n<s.length&&s.charCodeAt(n)===47;++n);for(var i=s.length,a=i-n,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(n+y)===47?m=y:y===0&&(m=0));break}var T=s.charCodeAt(n+y),L=r.charCodeAt(c+y);if(T!==L)break;T===47&&(m=y)}var O="";for(y=n+m+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(O.length===0?O+="..":O+="/..");return O.length>0?O+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var r=s.charCodeAt(0),n=r===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){i=c;break}}else a=!1;return i===-1?n?"/":".":n&&i===1?"//":s.slice(0,i)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');o(s);var n=0,i=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){n=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(i=c):(p=-1,i=g))}return n===i?i=g:i===-1&&(i=s.length),s.slice(n,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){n=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(n,i)}},extname:function(s){o(s);for(var r=-1,n=0,i=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){n=p+1;break}continue}i===-1&&(a=!1,i=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||i===-1||c===0||c===1&&r===i-1&&r===n+1?"":s.slice(r,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){o(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var n=s.charCodeAt(0),i=n===47,a;i?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(n=s.charCodeAt(m),n===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),n===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&i?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&i?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return h.posix=h,Lr=h,Lr}var Lr,kn,Cn,Jl=Pe(()=>{ne(),se(),oe(),gs(),Lr={},kn=!1,Cn=Ql()}),bs={};ft(bs,{URL:()=>qs,Url:()=>js,default:()=>Ue,fileURLToPath:()=>ms,format:()=>Ds,parse:()=>$s,pathToFileURL:()=>ys,resolve:()=>Fs,resolveObject:()=>Ws});function ct(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function _r(e,o,t){if(e&&bt.isObject(e)&&e instanceof ct)return e;var l=new ct;return l.parse(e,o,t),l}function Xl(){if(Bn)return Fr;Bn=!0;var e=$e;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var n="",i=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var b=n.lastIndexOf("/");if(b!==n.length-1){b===-1?(n="",i=0):(n=n.slice(0,b),i=n.length-1-n.lastIndexOf("/")),a=g,c=0;continue}}else if(n.length===2||n.length===1){n="",i=0,a=g,c=0;continue}}r&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+s.slice(a+1,g):n=s.slice(a+1,g),i=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return n}function l(s,r){var n=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return n?n===r.root?n+i:n+s+i:i}var h={resolve:function(){for(var s="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(n===void 0&&(n=e.cwd()),a=n),o(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var r=s.charCodeAt(0)===47,n=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&n&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var n=arguments[r];o(n),n.length>0&&(s===void 0?s=n:s+="/"+n)}return s===void 0?".":h.normalize(s)},relative:function(s,r){if(o(s),o(r),s===r||(s=h.resolve(s),r=h.resolve(r),s===r))return"";for(var n=1;n<s.length&&s.charCodeAt(n)===47;++n);for(var i=s.length,a=i-n,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(n+y)===47?m=y:y===0&&(m=0));break}var T=s.charCodeAt(n+y),L=r.charCodeAt(c+y);if(T!==L)break;T===47&&(m=y)}var O="";for(y=n+m+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(O.length===0?O+="..":O+="/..");return O.length>0?O+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var r=s.charCodeAt(0),n=r===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){i=c;break}}else a=!1;return i===-1?n?"/":".":n&&i===1?"//":s.slice(0,i)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');o(s);var n=0,i=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){n=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(i=c):(p=-1,i=g))}return n===i?i=g:i===-1&&(i=s.length),s.slice(n,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){n=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(n,i)}},extname:function(s){o(s);for(var r=-1,n=0,i=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){n=p+1;break}continue}i===-1&&(a=!1,i=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||i===-1||c===0||c===1&&r===i-1&&r===n+1?"":s.slice(r,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){o(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var n=s.charCodeAt(0),i=n===47,a;i?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(n=s.charCodeAt(m),n===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),n===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&i?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&i?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return h.posix=h,Fr=h,Fr}function Zl(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Wr?eu(e):tu(e)}function eu(e){let o=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let h=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&h===102||t[l+1]==="5"&&h===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(Ps,"\\"),t=decodeURIComponent(t),o!=="")return`\\\\${o}${t}`;{let l=t.codePointAt(1)|32,h=t[2];if(l<Os||l>Rs||h!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function tu(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=e.pathname;for(let t=0;t<o.length;t++)if(o[t]==="%"){let l=o.codePointAt(t+2)||32;if(o[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function ru(e){let o=xn.resolve(e),t=e.charCodeAt(e.length-1);(t===Cs||Wr&&t===ks)&&o[o.length-1]!==xn.sep&&(o+="/");let l=new URL("file://");return o.includes("%")&&(o=o.replace(Bs,"%25")),!Wr&&o.includes("\\")&&(o=o.replace(xs,"%5C")),o.includes(`
`)&&(o=o.replace(Ms,"%0A")),o.includes("\r")&&(o=o.replace(Us,"%0D")),o.includes("	")&&(o=o.replace(Ls,"%09")),l.pathname=o,l}function ms(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return $r?iu(e):nu(e)}function iu(e){let o=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let h=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&h===102||t[l+1]==="5"&&h===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(Gs,"\\"),t=decodeURIComponent(t),o!=="")return`\\\\${o}${t}`;{let l=t.codePointAt(1)|32,h=t[2];if(l<zs||l>Ks||h!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function nu(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=e.pathname;for(let t=0;t<o.length;t++)if(o[t]==="%"){let l=o.codePointAt(t+2)||32;if(o[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function ys(e){let o=Cn.resolve(e),t=e.charCodeAt(e.length-1);(t===Hs||$r&&t===Vs)&&o[o.length-1]!==Cn.sep&&(o+="/");let l=new URL("file://");return o.includes("%")&&(o=o.replace(Ys,"%25")),!$r&&o.includes("\\")&&(o=o.replace(Qs,"%5C")),o.includes(`
`)&&(o=o.replace(Js,"%0A")),o.includes("\r")&&(o=o.replace(Xs,"%0D")),o.includes("	")&&(o=o.replace(Zs,"%09")),l.pathname=o,l}var Ue,ws,bt,vs,_s,Es,Ss,Nr,On,Rn,Pn,As,Is,jr,nr,Dr,Fr,Bn,xn,Ts,ks,Cs,Os,Rs,Wr,Ps,Bs,xs,Ms,Us,Ls,Ns,js,Ds,Fs,Ws,$s,qs,Vs,Hs,zs,Ks,$r,Gs,Ys,Qs,Js,Xs,Zs,ou=Pe(()=>{ne(),se(),oe(),Vl(),zl(),Gl(),Jl(),gs(),Ue={},ws=Dt,bt={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Ue.parse=_r,Ue.resolve=function(e,o){return _r(e,!1,!0).resolve(o)},Ue.resolveObject=function(e,o){return e?_r(e,!1,!0).resolveObject(o):o},Ue.format=function(e){return bt.isString(e)&&(e=_r(e)),e instanceof ct?e.format():ct.prototype.format.call(e)},Ue.Url=ct,vs=/^([a-z0-9.+-]+:)/i,_s=/:[0-9]*$/,Es=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ss=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Nr=["'"].concat(Ss),On=["%","/","?",";","#"].concat(Nr),Rn=["/","?","#"],Pn=/^[+a-z0-9A-Z_-]{0,63}$/,As=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Is={javascript:!0,"javascript:":!0},jr={javascript:!0,"javascript:":!0},nr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Dr=vt,ct.prototype.parse=function(e,o,t){if(!bt.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),h=l!==-1&&l<e.indexOf("#")?"?":"#",s=e.split(h);s[0]=s[0].replace(/\\/g,"/");var r=e=s.join(h);if(r=r.trim(),!t&&e.split("#").length===1){var n=Es.exec(r);if(n)return this.path=r,this.href=r,this.pathname=n[1],n[2]?(this.search=n[2],this.query=o?Dr.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var i=vs.exec(r);if(i){var a=(i=i[0]).toLowerCase();this.protocol=a,r=r.substr(i.length)}if(t||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=r.substr(0,2)==="//";!c||i&&jr[i]||(r=r.substr(2),this.slashes=!0)}if(!jr[i]&&(c||i&&!nr[i])){for(var p,g,b=-1,m=0;m<Rn.length;m++)(y=r.indexOf(Rn[m]))!==-1&&(b===-1||y<b)&&(b=y);for((g=b===-1?r.lastIndexOf("@"):r.lastIndexOf("@",b))!==-1&&(p=r.slice(0,g),r=r.slice(g+1),this.auth=decodeURIComponent(p)),b=-1,m=0;m<On.length;m++){var y;(y=r.indexOf(On[m]))!==-1&&(b===-1||y<b)&&(b=y)}b===-1&&(b=r.length),this.host=r.slice(0,b),r=r.slice(b),this.parseHost(),this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T)for(var L=this.hostname.split(/\./),O=(m=0,L.length);m<O;m++){var k=L[m];if(k&&!k.match(Pn)){for(var U="",v=0,P=k.length;v<P;v++)k.charCodeAt(v)>127?U+="x":U+=k[v];if(!U.match(Pn)){var M=L.slice(0,m),F=L.slice(m+1),W=k.match(As);W&&(M.push(W[1]),F.unshift(W[2])),F.length&&(r="/"+F.join(".")+r),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=ws.toASCII(this.hostname));var Q=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+Q,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),r[0]!=="/"&&(r="/"+r))}if(!Is[a])for(m=0,O=Nr.length;m<O;m++){var I=Nr[m];if(r.indexOf(I)!==-1){var $=encodeURIComponent(I);$===I&&($=escape(I)),r=r.split(I).join($)}}var G=r.indexOf("#");G!==-1&&(this.hash=r.substr(G),r=r.slice(0,G));var X=r.indexOf("?");if(X!==-1?(this.search=r.substr(X),this.query=r.substr(X+1),o&&(this.query=Dr.parse(this.query)),r=r.slice(0,X)):o&&(this.search="",this.query={}),r&&(this.pathname=r),nr[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Q=this.pathname||"";var be=this.search||"";this.path=Q+be}return this.href=this.format(),this},ct.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var o=this.protocol||"",t=this.pathname||"",l=this.hash||"",h=!1,s="";this.host?h=e+this.host:this.hostname&&(h=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port)),this.query&&bt.isObject(this.query)&&Object.keys(this.query).length&&(s=Dr.stringify(this.query));var r=this.search||s&&"?"+s||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||nr[o])&&h!==!1?(h="//"+(h||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):h||(h=""),l&&l.charAt(0)!=="#"&&(l="#"+l),r&&r.charAt(0)!=="?"&&(r="?"+r),o+h+(t=t.replace(/[?#]/g,function(n){return encodeURIComponent(n)}))+(r=r.replace("#","%23"))+l},ct.prototype.resolve=function(e){return this.resolveObject(_r(e,!1,!0)).format()},ct.prototype.resolveObject=function(e){if(bt.isString(e)){var o=new ct;o.parse(e,!1,!0),e=o}for(var t=new ct,l=Object.keys(this),h=0;h<l.length;h++){var s=l[h];t[s]=this[s]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];i!=="protocol"&&(t[i]=e[i])}return nr[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!nr[e.protocol]){for(var a=Object.keys(e),c=0;c<a.length;c++){var p=a[c];t[p]=e[p]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||jr[e.protocol])t.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),t.pathname=g.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var b=t.pathname||"",m=t.search||"";t.path=b+m}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var y=t.pathname&&t.pathname.charAt(0)==="/",T=e.host||e.pathname&&e.pathname.charAt(0)==="/",L=T||y||t.host&&e.pathname,O=L,k=t.pathname&&t.pathname.split("/")||[],U=(g=e.pathname&&e.pathname.split("/")||[],t.protocol&&!nr[t.protocol]);if(U&&(t.hostname="",t.port=null,t.host&&(k[0]===""?k[0]=t.host:k.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),L=L&&(g[0]===""||k[0]==="")),T)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,k=g;else if(g.length)k||(k=[]),k.pop(),k=k.concat(g),t.search=e.search,t.query=e.query;else if(!bt.isNullOrUndefined(e.search))return U&&(t.hostname=t.host=k.shift(),(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),t.search=e.search,t.query=e.query,bt.isNull(t.pathname)&&bt.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!k.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var v=k.slice(-1)[0],P=(t.host||e.host||k.length>1)&&(v==="."||v==="..")||v==="",M=0,F=k.length;F>=0;F--)(v=k[F])==="."?k.splice(F,1):v===".."?(k.splice(F,1),M++):M&&(k.splice(F,1),M--);if(!L&&!O)for(;M--;M)k.unshift("..");!L||k[0]===""||k[0]&&k[0].charAt(0)==="/"||k.unshift(""),P&&k.join("/").substr(-1)!=="/"&&k.push("");var W,Q=k[0]===""||k[0]&&k[0].charAt(0)==="/";return U&&(t.hostname=t.host=Q?"":k.length?k.shift():"",(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),(L=L||t.host&&k.length)&&!Q&&k.unshift(""),k.length?t.pathname=k.join("/"):(t.pathname=null,t.path=null),bt.isNull(t.pathname)&&bt.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},ct.prototype.parseHost=function(){var e=this.host,o=_s.exec(e);o&&((o=o[0])!==":"&&(this.port=o.substr(1)),e=e.substr(0,e.length-o.length)),e&&(this.hostname=e)},Ue.Url,Ue.format,Ue.resolve,Ue.resolveObject,Fr={},Bn=!1,xn=Xl(),Ts=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ue.URL=typeof URL<"u"?URL:null,Ue.pathToFileURL=ru,Ue.fileURLToPath=Zl,Ue.Url,Ue.format,Ue.resolve,Ue.resolveObject,Ue.URL,ks=92,Cs=47,Os=97,Rs=122,Wr=Ts==="win32",Ps=/\//g,Bs=/%/g,xs=/\\/g,Ms=/\n/g,Us=/\r/g,Ls=/\t/g,Ns=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ue.URL=typeof URL<"u"?URL:null,Ue.pathToFileURL=ys,Ue.fileURLToPath=ms,js=Ue.Url,Ds=Ue.format,Fs=Ue.resolve,Ws=Ue.resolveObject,$s=Ue.parse,qs=Ue.URL,Vs=92,Hs=47,zs=97,Ks=122,$r=Ns==="win32",Gs=/\//g,Ys=/%/g,Qs=/\\/g,Js=/\n/g,Xs=/\r/g,Zs=/\t/g}),Mn={};ft(Mn,{Server:()=>Fe,Socket:()=>Fe,Stream:()=>Fe,_createServerHandle:()=>Fe,_normalizeArgs:()=>Fe,_setSimultaneousAccepts:()=>Fe,connect:()=>Fe,createConnection:()=>Fe,createServer:()=>Fe,default:()=>ea,isIP:()=>Fe,isIPv4:()=>Fe,isIPv6:()=>Fe});function Fe(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var ea,ta=Pe(()=>{ne(),se(),oe(),ea={_createServerHandle:Fe,_normalizeArgs:Fe,_setSimultaneousAccepts:Fe,connect:Fe,createConnection:Fe,createServer:Fe,isIP:Fe,isIPv4:Fe,isIPv6:Fe,Server:Fe,Socket:Fe,Stream:Fe}}),ra=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=o((ta(),Ne(Mn))),l=o(Pt()),h=(0,l.default)("mqttjs:tcp"),s=(r,n)=>{n.port=n.port||1883,n.hostname=n.hostname||n.host||"localhost";let{port:i}=n,a=n.hostname;return h("port %d and host %s",i,a),t.default.createConnection(i,a)};e.default=s}),ia={};ft(ia,{default:()=>na});var na,su=Pe(()=>{ne(),se(),oe(),na={}}),oa=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var t=o((su(),Ne(ia))),l=o((ta(),Ne(Mn))),h=o(Pt()),s=(0,h.default)("mqttjs:tls"),r=(n,i)=>{i.port=i.port||8883,i.host=i.hostname||i.host||"localhost",l.default.isIP(i.host)===0&&(i.servername=i.host),i.rejectUnauthorized=i.rejectUnauthorized!==!1,delete i.path,s("port %d host %s rejectUnauthorized %b",i.port,i.host,i.rejectUnauthorized);let a=t.default.connect(i);a.on("secureConnect",()=>{i.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",c)});function c(p){i.rejectUnauthorized&&n.emit("error",p),a.end()}return a.on("error",c),a};e.default=r}),Un=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var o=Xt();function t(h,s){let r=new Array(h.length);for(let n=0;n<h.length;n++)typeof h[n].chunk=="string"?r[n]=ar.from(h[n].chunk,"utf8"):r[n]=h[n].chunk;this._write(ar.concat(r),"binary",s)}e.writev=t;var l=class extends o.Duplex{constructor(h,s,r){super({objectMode:!0}),this.proxy=s,this.socket=r,this.writeQueue=[],h.objectMode||(this._writev=t.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.push(n)})}_read(h){this.proxy.read(h)}_write(h,s,r){this.isSocketOpen?this.writeToProxy(h,s,r):this.writeQueue.push({chunk:h,encoding:s,cb:r})}_final(h){this.writeQueue=[],this.proxy.end(h)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(h,s,r){this.proxy.write(h,s)===!1?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:h,encoding:s,cb:r}=this.writeQueue.shift();this.writeToProxy(h,s,r)}}};e.BufferedDuplex=l}),sa=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=(rt(),Ne(tt)),t=Xt(),l=Un(),h,s,r;function n(){let g=new t.Transform;return g._write=(b,m,y)=>{h.send({data:b.buffer,success(){y()},fail(T){y(new Error(T))}})},g._flush=b=>{h.close({success(){b()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function a(g,b){let m=g.protocol==="wxs"?"wss":"ws",y=`${m}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${m}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,b)),y}function c(){h.onOpen(()=>{r.socketReady()}),h.onMessage(g=>{let{data:b}=g;b instanceof ArrayBuffer?b=o.Buffer.from(b):b=o.Buffer.from(b,"utf8"),s.push(b)}),h.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),h.onError(g=>{let b=new Error(g.errMsg);r.destroy(b)})}var p=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let m=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";i(b);let y=a(b,g);h=wx.connectSocket({url:y,protocols:[m]}),s=n(),r=new l.BufferedDuplex(b,s,h),r._destroy=(L,O)=>{h.close({success(){O&&O(L)}})};let T=r.destroy;return r.destroy=(L,O)=>(r.destroy=T,setTimeout(()=>{h.close({fail(){r._destroy(L,O)}})},0),r),c(),r};e.default=p}),aa=ue(e=>{ne(),se(),oe(),Object.defineProperty(e,"__esModule",{value:!0});var o=(rt(),Ne(tt)),t=Xt(),l=Un(),h,s,r,n=!1;function i(){let b=new t.Transform;return b._write=(m,y,T)=>{h.sendSocketMessage({data:m.buffer,success(){T()},fail(){T(new Error)}})},b._flush=m=>{h.closeSocket({success(){m()}})},b}function a(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,m){let y=b.protocol==="alis"?"wss":"ws",T=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(T=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(T=b.transformWsUrl(T,b,m)),T}function p(){n||(n=!0,h.onSocketOpen(()=>{r.socketReady()}),h.onSocketMessage(b=>{if(typeof b.data=="string"){let m=o.Buffer.from(b.data,"base64");s.push(m)}else{let m=new FileReader;m.addEventListener("load",()=>{let y=m.result;y instanceof ArrayBuffer?y=o.Buffer.from(y):y=o.Buffer.from(y,"utf8"),s.push(y)}),m.readAsArrayBuffer(b.data)}}),h.onSocketClose(()=>{r.end(),r.destroy()}),h.onSocketError(b=>{r.destroy(b)}))}var g=(b,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let y=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";a(m);let T=c(m,b);return h=m.my,h.connectSocket({url:T,protocols:y}),s=i(),r=new l.BufferedDuplex(m,s,h),p(),r};e.default=g}),au=ue((e,o)=>{ne(),se(),oe(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),la=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0});var t=(rt(),Ne(tt)),l=o(au()),h=o(Pt()),s=Xt(),r=o(yn()),n=Un(),i=(0,h.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(L,O){let k=`${L.protocol}://${L.hostname}:${L.port}${L.path}`;return typeof L.transformWsUrl=="function"&&(k=L.transformWsUrl(k,L,O)),k}function p(L){let O=L;return L.hostname||(O.hostname="localhost"),L.port||(L.protocol==="wss"?O.port=443:O.port=80),L.path||(O.path="/"),L.wsOptions||(O.wsOptions={}),!r.default&&L.protocol==="wss"&&a.forEach(k=>{Object.prototype.hasOwnProperty.call(L,k)&&!Object.prototype.hasOwnProperty.call(L.wsOptions,k)&&(O.wsOptions[k]=L[k])}),O}function g(L){let O=p(L);if(O.hostname||(O.hostname=O.host),!O.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let k=new URL(document.URL);O.hostname=k.hostname,O.port||(O.port=Number(k.port))}return O.objectMode===void 0&&(O.objectMode=!(O.binary===!0||O.binary===void 0)),O}function b(L,O,k){i("createWebSocket"),i(`protocol: ${k.protocolId} ${k.protocolVersion}`);let U=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt";i(`creating new Websocket for url: ${O} and protocol: ${U}`);let v;return k.createWebsocket?v=k.createWebsocket(O,[U],k):v=new l.default(O,[U],k.wsOptions),v}function m(L,O){let k=O.protocolId==="MQIsdp"&&O.protocolVersion===3?"mqttv3.1":"mqtt",U=c(O,L),v;return O.createWebsocket?v=O.createWebsocket(U,[k],O):v=new WebSocket(U,[k]),v.binaryType="arraybuffer",v}var y=(L,O)=>{i("streamBuilder");let k=p(O),U=c(k,L),v=b(L,U,k),P=l.default.createWebSocketStream(v,k.wsOptions);return P.url=U,v.on("close",()=>{P.destroy()}),P},T=(L,O)=>{i("browserStreamBuilder");let k,U=g(O).browserBufferSize||1024*512,v=O.browserBufferTimeout||1e3,P=!O.objectMode,M=m(L,O),F=Q(O,X,be);O.objectMode||(F._writev=n.writev.bind(F)),F.on("close",()=>{M.close()});let W=typeof M.addEventListener<"u";M.readyState===M.OPEN?(k=F,k.socket=M):(k=new n.BufferedDuplex(O,F,M),W?M.addEventListener("open",ae):M.onopen=ae),W?(M.addEventListener("close",I),M.addEventListener("error",$),M.addEventListener("message",G)):(M.onclose=I,M.onerror=$,M.onmessage=G);function Q(Z,q,me){let ie=new s.Transform({objectMode:Z.objectMode});return ie._write=q,ie._flush=me,ie}function ae(){i("WebSocket onOpen"),k instanceof n.BufferedDuplex&&k.socketReady()}function I(Z){i("WebSocket onClose",Z),k.end(),k.destroy()}function $(Z){i("WebSocket onError",Z);let q=new Error("WebSocket error");q.event=Z,k.destroy(q)}function G(Z){let{data:q}=Z;q instanceof ArrayBuffer?q=t.Buffer.from(q):q=t.Buffer.from(q,"utf8"),F.push(q)}function X(Z,q,me){if(M.bufferedAmount>U){setTimeout(X,v,Z,q,me);return}P&&typeof Z=="string"&&(Z=t.Buffer.from(Z,"utf8"));try{M.send(Z)}catch(ie){return me(ie)}me()}function be(Z){M.close(),Z()}return k};e.default=r.default?T:y}),lu=ue(e=>{ne(),se(),oe();var o=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var t=o(Pt()),l=o((ou(),Ne(bs))),h=o(wn()),s=o(yn()),r=(0,t.default)("mqttjs"),n={};s.default?(n.wx=sa().default,n.wxs=sa().default,n.ali=aa().default,n.alis=aa().default):(n.mqtt=ra().default,n.tcp=ra().default,n.ssl=oa().default,n.tls=n.ssl,n.mqtts=oa().default),n.ws=la().default,n.wss=la().default;function i(p){let g;p.auth&&(g=p.auth.match(/^(.+):(.+)$/),g?(p.username=g[1],p.password=g[2]):p.username=p.auth)}function a(p,g){if(r("connecting to an MQTT broker..."),typeof p=="object"&&!g&&(g=p,p=""),g=g||{},p&&typeof p=="string"){let y=l.default.parse(p,!0);if(y.port!=null&&(y.port=Number(y.port)),g=Object.assign(Object.assign({},y),g),g.protocol===null)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(i(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!n[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((T,L)=>y&&L%2===0?!1:typeof n[T]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function b(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),r("calling streambuilder for",g.protocol),n[g.protocol](y,g)}let m=new h.default(b,g);return m.on("error",()=>{}),m}function c(p,g,b=!0){return new Promise((m,y)=>{let T=a(p,g),L={connect:k=>{O(),m(T)},end:()=>{O(),m(T)},error:k=>{O(),T.end(),y(k)}};b===!1&&(L.close=()=>{L.error(new Error("Couldn't connect to server"))});function O(){Object.keys(L).forEach(k=>{T.off(k,L[k])})}Object.keys(L).forEach(k=>{T.on(k,L[k])})})}e.connectAsync=c,e.default=a}),ua=ue(e=>{ne(),se(),oe();var o=e&&e.__createBinding||(Object.create?function(g,b,m,y){y===void 0&&(y=m);var T=Object.getOwnPropertyDescriptor(b,m);(!T||("get"in T?!b.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return b[m]}}),Object.defineProperty(g,y,T)}:function(g,b,m,y){y===void 0&&(y=m),g[y]=b[m]}),t=e&&e.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),l=e&&e.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&o(b,g,m);return t(b,g),b},h=e&&e.__exportStar||function(g,b){for(var m in g)m!=="default"&&!Object.prototype.hasOwnProperty.call(b,m)&&o(b,g,m)},s=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var r=s(wn());e.MqttClient=r.default;var n=s(Yo());e.DefaultMessageIdProvider=n.default;var i=s(ql());e.UniqueMessageIdProvider=i.default;var a=s(Qo());e.Store=a.default;var c=l(lu());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}}),e.Client=r.default,h(wn(),e),h(wr(),e);var p=xr();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),uu=ue(e=>{ne(),se(),oe();var o=e&&e.__createBinding||(Object.create?function(r,n,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(n,i);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(r,a,c)}:function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]}),t=e&&e.__setModuleDefault||(Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n}),l=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&o(n,r,i);return t(n,r),n},h=e&&e.__exportStar||function(r,n){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&o(n,r,i)};Object.defineProperty(e,"__esModule",{value:!0});var s=l(ua());e.default=s,h(ua(),e)});return uu()})();const Wn="gundamFrontend",du="ws://192.168.4.27:9001",pu={keepalive:30,clientId:Wn,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:30*1e3,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1},fr=fu.connect(du,pu);fr.on("connect",()=>{console.log("Connected : "+Wn),fr.subscribe("gundam/uc",Re=>{Re||fr.publish("gundam/uc","Connection to gundam/uc: CHECK")})});fr.on("message",(Re,xe,je)=>{console.log("Received Message:= "+xe.toString()+`
On topic:= `+Re)});fr.on("close",()=>{console.log(Wn+" disconnected")});function Sa(Re){switch(Re){case"on":fr.publish("gundam/uc","on");break}}const gu=document.getElementById("f91ToggleOn");gu.addEventListener("click",Aa("f91"),!1);const bu=document.getElementById("f91ToggleOff");bu.addEventListener("click",Ia("f91"),!1);const mu=document.getElementById("unicornToggleOn");mu.addEventListener("click",Aa("unicorn"),!1);const yu=document.getElementById("unicornToggleOff");yu.addEventListener("click",Ia("unicorn"),!1);function Aa(Re){switch(Re){case"f91":Sa("on");break}}function Ia(Re){switch(Re){case"f91":Sa("off");break}}
